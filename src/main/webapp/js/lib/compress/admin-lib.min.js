!function(e,t){function n(e){return H.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}function r(e){if(!yt[e]){var t=F.body,n=H("<"+e+">").appendTo(t),r=n.css("display");n.remove(),"none"!==r&&""!==r||(pt||(pt=F.createElement("iframe"),pt.frameBorder=pt.width=pt.height=0),t.appendChild(pt),ht&&pt.createElement||(ht=(pt.contentWindow||pt.contentDocument).document,ht.write((H.support.boxModel?"<!doctype html>":"")+"<html><body>"),ht.close()),n=ht.createElement(e),ht.body.appendChild(n),r=H.css(n,"display"),t.removeChild(pt)),yt[e]=r}return yt[e]}function i(e,t){var n={};return H.each(xt.concat.apply([],xt.slice(0,t)),function(){n[this]=e}),n}function o(){gt=t}function a(){return setTimeout(o,0),gt=H.now()}function s(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function l(){try{return new e.XMLHttpRequest}catch(e){}}function u(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var r,i,o,a,s,l,u,c,f=e.dataTypes,d={},p=f.length,h=f[0];for(r=1;r<p;r++){if(1===r)for(i in e.converters)"string"==typeof i&&(d[i.toLowerCase()]=e.converters[i]);if(a=h,h=f[r],"*"===h)h=a;else if("*"!==a&&a!==h){if(s=a+" "+h,l=d[s]||d["* "+h],!l){c=t;for(u in d)if(o=u.split(" "),(o[0]===a||"*"===o[0])&&(c=d[o[1]+" "+h])){u=d[u],u===!0?l=c:c===!0&&(l=u);break}}!l&&!c&&H.error("No conversion from "+s.replace(" "," to ")),l!==!0&&(n=l?l(n):c(u(n)))}}return n}function c(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}if(a)return a!==u[0]&&u.unshift(a),r[a]}function f(e,t,n,r){if(H.isArray(t))H.each(t,function(t,i){n||Xe.test(e)?r(e,i):f(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==H.type(t))r(e,t);else for(var i in t)f(e+"["+i+"]",t[i],n,r)}function d(e,n){var r,i,o=H.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&H.extend(!0,e,i)}function p(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=e[o],u=0,c=l?l.length:0,f=e===ot;u<c&&(f||!s);u++)s=l[u](n,r,i),"string"==typeof s&&(!f||a[s]?s=t:(n.dataTypes.unshift(s),s=p(e,n,r,i,s,a)));return(f||!s)&&!a["*"]&&(s=p(e,n,r,i,"*",a)),s}function h(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),H.isFunction(n))for(var r,i,o,a=t.toLowerCase().split(tt),s=0,l=a.length;s<l;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function m(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i="width"===t?1:0,o=4;if(r>0){if("border"!==n)for(;i<o;i+=2)n||(r-=parseFloat(H.css(e,"padding"+We[i]))||0),"margin"===n?r+=parseFloat(H.css(e,n+We[i]))||0:r-=parseFloat(H.css(e,"border"+We[i]+"Width"))||0;return r+"px"}if(r=Le(e,t),(r<0||null==r)&&(r=e.style[t]),Oe.test(r))return r;if(r=parseFloat(r)||0,n)for(;i<o;i+=2)r+=parseFloat(H.css(e,"padding"+We[i]))||0,"padding"!==n&&(r+=parseFloat(H.css(e,"border"+We[i]+"Width"))||0),"margin"===n&&(r+=parseFloat(H.css(e,n+We[i]))||0);return r+"px"}function g(e){var t=F.createElement("div");return Ae.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function y(e){var t=(e.nodeName||"").toLowerCase();"input"===t?v(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&H.grep(e.getElementsByTagName("input"),v)}function v(e){"checkbox"!==e.type&&"radio"!==e.type||(e.defaultChecked=e.checked)}function b(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function x(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(H.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function T(e,t){if(1===t.nodeType&&H.hasData(e)){var n,r,i,o=H._data(e),a=H._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)H.event.add(t,n,s[n][r])}a.data&&(a.data=H.extend({},a.data))}}function w(e,t){return H.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function N(e){var t=he.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function C(e,t,n){if(t=t||0,H.isFunction(t))return H.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return H.grep(e,function(e,r){return e===t===n});if("string"==typeof t){var r=H.grep(e,function(e){return 1===e.nodeType});if(ce.test(t))return H.filter(t,r,!n);t=H.filter(t,r)}return H.grep(e,function(e,r){return H.inArray(e,t)>=0===n})}function E(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function k(){return!0}function S(){return!1}function A(e,t,n){var r=t+"defer",i=t+"queue",o=t+"mark",a=H._data(e,r);a&&("queue"===n||!H._data(e,i))&&("mark"===n||!H._data(e,o))&&setTimeout(function(){!H._data(e,i)&&!H._data(e,o)&&(H.removeData(e,r,!0),a.fire())},0)}function L(e){for(var t in e)if(("data"!==t||!H.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function D(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(q,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r||"false"!==r&&("null"===r?null:H.isNumeric(r)?+r:P.test(r)?H.parseJSON(r):r)}catch(e){}H.data(e,n,r)}else r=t}return r}function j(e){var t,n,r=O[e]={};for(e=e.split(/\s+/),t=0,n=e.length;t<n;t++)r[e[t]]=!0;return r}var F=e.document,M=e.navigator,_=e.location,H=function(){function n(){if(!s.isReady){try{F.documentElement.doScroll("left")}catch(e){return void setTimeout(n,1)}s.ready()}}var r,i,o,a,s=function(e,t){return new s.fn.init(e,t,r)},l=e.jQuery,u=e.$,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,f=/\S/,d=/^\s+/,p=/\s+$/,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,y=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,v=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,x=/(opera)(?:.*version)?[ \/]([\w.]+)/,T=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,N=/-([a-z]|[0-9])/gi,C=/^-ms-/,E=function(e,t){return(t+"").toUpperCase()},k=M.userAgent,S=Object.prototype.toString,A=Object.prototype.hasOwnProperty,L=Array.prototype.push,D=Array.prototype.slice,j=String.prototype.trim,_=Array.prototype.indexOf,H={};return s.fn=s.prototype={constructor:s,init:function(e,n,r){var i,o,a,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&F.body)return this.context=F,this[0]=F.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(i="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||e.length<3?c.exec(e):[null,e,null],i&&(i[1]||!n)){if(i[1])return n=n instanceof s?n[0]:n,l=n?n.ownerDocument||n:F,a=h.exec(e),a?s.isPlainObject(n)?(e=[F.createElement(a[1])],s.fn.attr.call(e,n,!0)):e=[l.createElement(a[1])]:(a=s.buildFragment([i[1]],[l]),e=(a.cacheable?s.clone(a.fragment):a.fragment).childNodes),s.merge(this,e);if(o=F.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=F,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return s.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),s.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return D.call(this,0)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return s.isArray(e)?L.apply(r,e):s.merge(r,e),r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return s.each(this,e,t)},ready:function(e){return s.bindReady(),o.add(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(D.apply(this,arguments),"slice",D.call(arguments).join(","))},map:function(e){return this.pushStack(s.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:L,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var e,n,r,i,o,a,l=arguments[0]||{},u=1,c=arguments.length,f=!1;for("boolean"==typeof l&&(f=l,l=arguments[1]||{},u=2),"object"!=typeof l&&!s.isFunction(l)&&(l={}),c===u&&(l=this,--u);u<c;u++)if(null!=(e=arguments[u]))for(n in e)r=l[n],i=e[n],l!==i&&(f&&i&&(s.isPlainObject(i)||(o=s.isArray(i)))?(o?(o=!1,a=r&&s.isArray(r)?r:[]):a=r&&s.isPlainObject(r)?r:{},l[n]=s.extend(f,a,i)):i!==t&&(l[n]=i));return l},s.extend({noConflict:function(t){return e.$===s&&(e.$=u),t&&e.jQuery===s&&(e.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(e){e?s.readyWait++:s.ready(!0)},ready:function(e){if(e===!0&&!--s.readyWait||e!==!0&&!s.isReady){if(!F.body)return setTimeout(s.ready,1);if(s.isReady=!0,e!==!0&&--s.readyWait>0)return;o.fireWith(F,[s]),s.fn.trigger&&s(F).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=s.Callbacks("once memory"),"complete"===F.readyState)return setTimeout(s.ready,1);if(F.addEventListener)F.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",s.ready,!1);else if(F.attachEvent){F.attachEvent("onreadystatechange",a),e.attachEvent("onload",s.ready);var t=!1;try{t=null==e.frameElement}catch(e){}F.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===s.type(e)},isArray:Array.isArray||function(e){return"array"===s.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):H[S.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==s.type(e)||e.nodeType||s.isWindow(e))return!1;try{if(e.constructor&&!A.call(e,"constructor")&&!A.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in e);return n===t||A.call(e,n)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=s.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(y,"]").replace(v,""))?new Function("return "+t)():void s.error("Invalid JSON: "+t)):null},parseXML:function(n){if("string"!=typeof n||!n)return null;var r,i;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(e){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&s.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&f.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,o=0,a=e.length,l=a===t||s.isFunction(e);if(r)if(l){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;o<a&&n.apply(e[o++],r)!==!1;);else if(l){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;o<a&&n.call(e[o],o,e[o++])!==!1;);return e},trim:j?function(e){return null==e?"":j.call(e)}:function(e){return null==e?"":(e+"").replace(d,"").replace(p,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var r=s.type(e);null==e.length||"string"===r||"function"===r||"regexp"===r||s.isWindow(e)?L.call(n,e):s.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(_)return _.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if("number"==typeof n.length)for(var o=n.length;i<o;i++)e[r++]=n[i];else for(;n[i]!==t;)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[];n=!!n;for(var o=0,a=e.length;o<a;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],l=0,u=e.length,c=e instanceof s||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||s.isArray(e));if(c)for(;l<u;l++)i=n(e[l],l,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){if("string"==typeof n){var r=e[n];n=e,e=r}if(!s.isFunction(e))return t;var i=D.call(arguments,2),o=function(){return e.apply(n,i.concat(D.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||s.guid++,o},access:function(e,n,r,i,o,a,l){var u,c=null==r,f=0,d=e.length;if(r&&"object"==typeof r){for(f in r)s.access(e,n,f,r[f],1,a,i);o=1}else if(i!==t){if(u=l===t&&s.isFunction(i),c&&(u?(u=n,n=function(e,t,n){return u.call(s(e),n)}):(n.call(e,i),n=null)),n)for(;f<d;f++)n(e[f],r,u?i.call(e[f],f,n(e[f],r)):i,l);o=1}return o?e:c?n.call(e):d?n(e[0],r):a},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||x.exec(e)||T.exec(e)||e.indexOf("compatible")<0&&w.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}s.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof s&&!(r instanceof e)&&(r=e(r)),s.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(F);return e},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()}),i=s.uaMatch(k),i.browser&&(s.browser[i.browser]=!0,s.browser.version=i.version),s.browser.webkit&&(s.browser.safari=!0),f.test(" ")&&(d=/^[\s\xA0]+/,p=/[\s\xA0]+$/),r=s(F),F.addEventListener?a=function(){F.removeEventListener("DOMContentLoaded",a,!1),s.ready()}:F.attachEvent&&(a=function(){"complete"===F.readyState&&(F.detachEvent("onreadystatechange",a),s.ready())}),s}(),O={};H.Callbacks=function(e){e=e?O[e]||j(e):{};var n,r,i,o,a,s,l=[],u=[],c=function(t){var n,r,i,o;for(n=0,r=t.length;n<r;n++)i=t[n],o=H.type(i),"array"===o?c(i):"function"===o&&(!e.unique||!d.has(i))&&l.push(i)},f=function(t,c){for(c=c||[],n=!e.memory||[t,c],r=!0,i=!0,s=o||0,o=0,a=l.length;l&&s<a;s++)if(l[s].apply(t,c)===!1&&e.stopOnFalse){n=!0;break}i=!1,l&&(e.once?n===!0?d.disable():l=[]:u&&u.length&&(n=u.shift(),d.fireWith(n[0],n[1])))},d={add:function(){if(l){var e=l.length;c(arguments),i?a=l.length:n&&n!==!0&&(o=e,f(n[0],n[1]))}return this},remove:function(){if(l)for(var t=arguments,n=0,r=t.length;n<r;n++)for(var o=0;o<l.length&&(t[n]!==l[o]||(i&&o<=a&&(a--,o<=s&&s--),l.splice(o--,1),!e.unique));o++);return this},has:function(e){if(l)for(var t=0,n=l.length;t<n;t++)if(e===l[t])return!0;return!1},empty:function(){return l=[],this},disable:function(){return l=u=n=t,this},disabled:function(){return!l},lock:function(){return u=t,(!n||n===!0)&&d.disable(),this},locked:function(){return!u},fireWith:function(t,r){return u&&(i?e.once||u.push([t,r]):(!e.once||!n)&&f(t,r)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d};var B=[].slice;H.extend({Deferred:function(e){var t,n=H.Callbacks("once memory"),r=H.Callbacks("once memory"),i=H.Callbacks("memory"),o="pending",a={resolve:n,reject:r,notify:i},s={done:n.add,fail:r.add,progress:i.add,state:function(){return o},isResolved:n.fired,isRejected:r.fired,then:function(e,t,n){return l.done(e).fail(t).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,n){return H.Deferred(function(r){H.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,i=t[0],o=t[1];H.isFunction(i)?l[e](function(){n=i.apply(this,arguments),n&&H.isFunction(n.promise)?n.promise().then(r.resolve,r.reject,r.notify):r[o+"With"](this===l?r:this,[n])}):l[e](r[o])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},l=s.promise({});for(t in a)l[t]=a[t].fire,l[t+"With"]=a[t].fireWith;return l.done(function(){o="resolved"},r.disable,i.lock).fail(function(){o="rejected"},n.disable,i.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){a[e]=arguments.length>1?B.call(arguments,0):t,l.notifyWith(u,a)}}function n(e){return function(t){r[e]=arguments.length>1?B.call(arguments,0):t,--s||l.resolveWith(l,r)}}var r=B.call(arguments,0),i=0,o=r.length,a=Array(o),s=o,l=o<=1&&e&&H.isFunction(e.promise)?e:H.Deferred(),u=l.promise();if(o>1){for(;i<o;i++)r[i]&&r[i].promise&&H.isFunction(r[i].promise)?r[i].promise().then(n(i),l.reject,t(i)):--s;s||l.resolveWith(l,r)}else l!==e&&l.resolveWith(l,o?[e]:[]);return u}}),H.support=function(){var t,n,r,i,o,a,s,l,u,c,f,d=F.createElement("div");F.documentElement;if(d.setAttribute("className","t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!n.length||!r)return{};i=F.createElement("select"),o=i.appendChild(F.createElement("option")),a=d.getElementsByTagName("input")[0],t={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==d.className,enctype:!!F.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==F.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},H.boxModel=t.boxModel="CSS1Compat"===F.compatMode,a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete d.test}catch(e){t.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),a=F.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),d.appendChild(a),s=F.createDocumentFragment(),s.appendChild(d.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(d),d.attachEvent)for(c in{submit:1,change:1,focusin:1})u="on"+c,f=u in d,f||(d.setAttribute(u,"return;"),f="function"==typeof d[u]),t[c+"Bubbles"]=f;return s.removeChild(d),s=i=o=d=a=null,H(function(){var n,r,i,o,a,s,u,c,p,h,m,g,y=F.getElementsByTagName("body")[0];!y||(u=1,g="padding:0;margin:0;border:",h="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",c="style='"+h+g+"5px solid #000;",p="<div "+c+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div><table "+c+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",n=F.createElement("div"),n.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+u+"px",y.insertBefore(n,y.firstChild),d=F.createElement("div"),n.appendChild(d),d.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",l=d.getElementsByTagName("td"),f=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=f&&0===l[0].offsetHeight,e.getComputedStyle&&(d.innerHTML="",s=F.createElement("div"),s.style.width="0",s.style.marginRight="0",d.style.width="2px",d.appendChild(s),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(s,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.width=d.style.padding="1px",d.style.border=0,d.style.overflow="hidden",d.style.display="inline",d.style.zoom=1,t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=3!==d.offsetWidth),d.style.cssText=h+m,d.innerHTML=p,r=d.firstChild,i=r.firstChild,o=r.nextSibling.firstChild.firstChild,a={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},i.style.position="fixed",i.style.top="20px",a.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",r.style.overflow="hidden",r.style.position="relative",a.subtractsBorderForOverflowNotVisible=i.offsetTop===-5,a.doesNotIncludeMarginInBodyOffset=y.offsetTop!==u,e.getComputedStyle&&(d.style.marginTop="1%",t.pixelMargin="1%"!==(e.getComputedStyle(d,null)||{marginTop:0}).marginTop),"undefined"!=typeof n.style.zoom&&(n.style.zoom=1),y.removeChild(n),s=d=n=null,H.extend(t,a))}),t}();var P=/^(?:\{.*\}|\[.*\])$/,q=/([A-Z])/g;H.extend({cache:{},uuid:0,expando:"jQuery"+(H.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?H.cache[e[H.expando]]:e[H.expando],!!e&&!L(e)},data:function(e,n,r,i){if(H.acceptData(e)){var o,a,s,l=H.expando,u="string"==typeof n,c=e.nodeType,f=c?H.cache:e,d=c?e[l]:e[l]&&l,p="events"===n;if((!d||!f[d]||!p&&!i&&!f[d].data)&&u&&r===t)return;return d||(c?e[l]=d=++H.uuid:d=l),f[d]||(f[d]={},c||(f[d].toJSON=H.noop)),"object"!=typeof n&&"function"!=typeof n||(i?f[d]=H.extend(f[d],n):f[d].data=H.extend(f[d].data,n)),o=a=f[d],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[H.camelCase(n)]=r),p&&!a[n]?o.events:(u?(s=a[n],null==s&&(s=a[H.camelCase(n)])):s=a,s)}},removeData:function(e,t,n){if(H.acceptData(e)){var r,i,o,a=H.expando,s=e.nodeType,l=s?H.cache:e,u=s?e[a]:a;if(!l[u])return;if(t&&(r=n?l[u]:l[u].data)){H.isArray(t)||(t in r?t=[t]:(t=H.camelCase(t),t=t in r?[t]:t.split(" ")));for(i=0,o=t.length;i<o;i++)delete r[t[i]];if(!(n?L:H.isEmptyObject)(r))return}if(!n&&(delete l[u].data,!L(l[u])))return;H.support.deleteExpando||!l.setInterval?delete l[u]:l[u]=null,s&&(H.support.deleteExpando?delete e[a]:e.removeAttribute?e.removeAttribute(a):e[a]=null)}},_data:function(e,t,n){return H.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=H.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),H.fn.extend({data:function(e,n){var r,i,o,a,s,l=this[0],u=0,c=null;if(e===t){if(this.length&&(c=H.data(l),1===l.nodeType&&!H._data(l,"parsedAttrs"))){for(o=l.attributes,s=o.length;u<s;u++)a=o[u].name,0===a.indexOf("data-")&&(a=H.camelCase(a.substring(5)),D(l,a,c[a]));H._data(l,"parsedAttrs",!0)}return c}return"object"==typeof e?this.each(function(){H.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",H.access(this,function(n){return n===t?(c=this.triggerHandler("getData"+i,[r[0]]),c===t&&l&&(c=H.data(l,e),c=D(l,e,c)),c===t&&r[1]?this.data(r[0]):c):(r[1]=n,void this.each(function(){var t=H(this);t.triggerHandler("setData"+i,r),H.data(this,e,n),t.triggerHandler("changeData"+i,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){H.removeData(this,e)})}}),H.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",H._data(e,t,(H._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var r=n+"mark",i=e?0:(H._data(t,r)||1)-1;i?H._data(t,r,i):(H.removeData(t,r,!0),A(t,n,"mark"))}},queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=H._data(e,t),n&&(!r||H.isArray(n)?r=H._data(e,t,H.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=H.queue(e,t),r=n.shift(),i={};"inprogress"===r&&(r=n.shift()),r&&("fx"===t&&n.unshift("inprogress"),H._data(e,t+".run",i),r.call(e,function(){H.dequeue(e,t)},i)),n.length||(H.removeData(e,t+"queue "+t+".run",!0),A(e,t,"queue"))}}),H.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?H.queue(this[0],e):n===t?this:this.each(function(){var t=H.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&H.dequeue(this,e)})},dequeue:function(e){return this.each(function(){H.dequeue(this,e)})},delay:function(e,t){return e=H.fx?H.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function r(){--l||o.resolveWith(a,[a])}"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(var i,o=H.Deferred(),a=this,s=a.length,l=1,u=e+"defer",c=e+"queue",f=e+"mark";s--;)(i=H.data(a[s],u,t,!0)||(H.data(a[s],c,t,!0)||H.data(a[s],f,t,!0))&&H.data(a[s],u,H.Callbacks("once memory"),!0))&&(l++,i.add(r));return r(),o.promise(n)}});var W,I,$,R=/[\n\t\r]/g,X=/\s+/,z=/\r/g,V=/^(?:button|input)$/i,U=/^(?:button|input|object|select|textarea)$/i,G=/^a(?:rea)?$/i,Y=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,J=H.support.getSetAttribute;H.fn.extend({attr:function(e,t){return H.access(this,H.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){H.removeAttr(this,e)})},prop:function(e,t){return H.access(this,H.prop,e,t,arguments.length>1)},removeProp:function(e){return e=H.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,n,r,i,o,a,s;if(H.isFunction(e))return this.each(function(t){H(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(X),n=0,r=this.length;n<r;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;a<s;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");i.className=H.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,l;if(H.isFunction(e))return this.each(function(t){H(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(X),r=0,i=this.length;r<i;r++)if(o=this[r],1===o.nodeType&&o.className)if(e){for(a=(" "+o.className+" ").replace(R," "),s=0,l=n.length;s<l;s++)a=a.replace(" "+n[s]+" "," ");o.className=H.trim(a)}else o.className="";return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return H.isFunction(e)?this.each(function(n){H(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=H(this),s=t,l=e.split(X);i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else"undefined"!==n&&"boolean"!==n||(this.className&&H._data(this,"__className__",this.className),this.className=this.className||e===!1?"":H._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(R," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,o=this[0];return arguments.length?(i=H.isFunction(e),this.each(function(r){var o,a=H(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":H.isArray(o)&&(o=H.map(o,function(e){return null==e?"":e+""})),n=H.valHooks[this.type]||H.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))})):o?(n=H.valHooks[o.type]||H.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(z,""):null==r?"":r)):void 0}}),H.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,l="select-one"===e.type;if(o<0)return null;for(n=l?o:0,r=l?o+1:s.length;n<r;n++)if(i=s[n],i.selected&&(H.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!H.nodeName(i.parentNode,"optgroup"))){if(t=H(i).val(),l)return t;a.push(t)}return l&&!a.length&&s.length?H(s[o]).val():a},set:function(e,t){var n=H.makeArray(t);return H(e).find("option").each(function(){this.selected=H.inArray(H(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var o,a,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return i&&n in H.attrFn?H(e)[n](r):"undefined"==typeof e.getAttribute?H.prop(e,n,r):(s=1!==l||!H.isXMLDoc(e),s&&(n=n.toLowerCase(),a=H.attrHooks[n]||(Y.test(n)?I:W)),r!==t?null===r?void H.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,""+r),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,r,i,o,a,s=0;if(t&&1===e.nodeType)for(r=t.toLowerCase().split(X),o=r.length;s<o;s++)i=r[s],i&&(n=H.propFix[i]||i,a=Y.test(i),a||H.attr(e,i,""),e.removeAttribute(J?i:n),a&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(V.test(e.nodeName)&&e.parentNode)H.error("type property can't be changed");else if(!H.support.radioValue&&"radio"===t&&H.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return W&&H.nodeName(e,"button")?W.get(e,t):t in e?e.value:null},set:function(e,t,n){return W&&H.nodeName(e,"button")?W.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!H.isXMLDoc(e),a&&(n=H.propFix[n]||n,o=H.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):U.test(e.nodeName)||G.test(e.nodeName)&&e.href?0:t}}}}),H.attrHooks.tabindex=H.propHooks.tabIndex,I={get:function(e,n){var r,i=H.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?H.removeAttr(e,n):(r=H.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},J||($={name:!0,id:!0,coords:!0},W=H.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&($[n]?""!==r.nodeValue:r.specified)?r.nodeValue:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=F.createAttribute(n),e.setAttributeNode(r)),r.nodeValue=t+""}},H.attrHooks.tabindex.set=W.set,H.each(["width","height"],function(e,t){H.attrHooks[t]=H.extend(H.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})}),H.attrHooks.contenteditable={get:W.get,set:function(e,t,n){""===t&&(t="false"),W.set(e,t,n)}}),H.support.hrefNormalized||H.each(["href","src","width","height"],function(e,n){H.attrHooks[n]=H.extend(H.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),H.support.style||(H.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),H.support.optSelected||(H.propHooks.selected=H.extend(H.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),H.support.enctype||(H.propFix.enctype="encoding"),H.support.checkOn||H.each(["radio","checkbox"],function(){H.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),H.each(["radio","checkbox"],function(){H.valHooks[this]=H.extend(H.valHooks[this],{set:function(e,t){if(H.isArray(t))return e.checked=H.inArray(H(e).val(),t)>=0}})});var Q=/^(?:textarea|input|select)$/i,K=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,ee=/^key/,te=/^(?:mouse|contextmenu)|click/,ne=/^(?:focusinfocus|focusoutblur)$/,re=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ie=function(e){
var t=re.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},oe=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n.class||{}).value))},ae=function(e){return H.event.special.hover?e:e.replace(Z,"mouseenter$1 mouseleave$1")};H.event={add:function(e,n,r,i,o){var a,s,l,u,c,f,d,p,h,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=H._data(e))){for(r.handler&&(h=r,r=h.handler,o=h.selector),r.guid||(r.guid=H.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof H||e&&H.event.triggered===e.type?t:H.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=H.trim(ae(n)).split(" "),u=0;u<n.length;u++)c=K.exec(n[u])||[],f=c[1],d=(c[2]||"").split(".").sort(),g=H.event.special[f]||{},f=(o?g.delegateType:g.bindType)||f,g=H.event.special[f]||{},p=H.extend({type:f,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,quick:o&&ie(o),namespace:d.join(".")},h),m=l[f],m||(m=l[f]=[],m.delegateCount=0,g.setup&&g.setup.call(e,i,d,s)!==!1||(e.addEventListener?e.addEventListener(f,s,!1):e.attachEvent&&e.attachEvent("on"+f,s))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),H.event.global[f]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g,y=H.hasData(e)&&H._data(e);if(y&&(d=y.events)){for(t=H.trim(ae(t||"")).split(" "),o=0;o<t.length;o++)if(a=K.exec(t[o])||[],s=l=a[1],u=a[2],s){for(p=H.event.special[s]||{},s=(r?p.delegateType:p.bindType)||s,m=d[s]||[],c=m.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,f=0;f<m.length;f++)g=m[f],(i||l===g.origType)&&(!n||n.guid===g.guid)&&(!u||u.test(g.namespace))&&(!r||r===g.selector||"**"===r&&g.selector)&&(m.splice(f--,1),g.selector&&m.delegateCount--,p.remove&&p.remove.call(e,g));0===m.length&&c!==m.length&&((!p.teardown||p.teardown.call(e,u)===!1)&&H.removeEvent(e,s,y.handle),delete d[s])}else for(s in d)H.event.remove(e,s+t[o],n,r,!0);H.isEmptyObject(d)&&(h=y.handle,h&&(h.elem=null),H.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,l,u,c,f,d,p,h,m,g=n.type||n,y=[];if(ne.test(g+H.event.triggered))return;if(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(y=g.split("."),g=y.shift(),y.sort()),(!i||H.event.customEvent[g])&&!H.event.global[g])return;if(n="object"==typeof n?n[H.expando]?n:new H.Event(g,n):new H.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,f=g.indexOf(":")<0?"on"+g:"",!i){a=H.cache;for(l in a)a[l].events&&a[l].events[g]&&H.event.trigger(n,r,a[l].handle.elem,!0);return}if(n.result=t,n.target||(n.target=i),r=null!=r?H.makeArray(r):[],r.unshift(n),d=H.event.special[g]||{},d.trigger&&d.trigger.apply(i,r)===!1)return;if(h=[[i,d.bindType||g]],!o&&!d.noBubble&&!H.isWindow(i)){for(m=d.delegateType||g,u=ne.test(m+g)?i:i.parentNode,c=null;u;u=u.parentNode)h.push([u,m]),c=u;c&&c===i.ownerDocument&&h.push([c.defaultView||c.parentWindow||e,m])}for(l=0;l<h.length&&!n.isPropagationStopped();l++)u=h[l][0],n.type=h[l][1],p=(H._data(u,"events")||{})[n.type]&&H._data(u,"handle"),p&&p.apply(u,r),p=f&&u[f],p&&H.acceptData(u)&&p.apply(u,r)===!1&&n.preventDefault();return n.type=g,!o&&!n.isDefaultPrevented()&&(!d._default||d._default.apply(i.ownerDocument,r)===!1)&&("click"!==g||!H.nodeName(i,"a"))&&H.acceptData(i)&&f&&i[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!H.isWindow(i)&&(c=i[f],c&&(i[f]=null),H.event.triggered=g,i[g](),H.event.triggered=t,c&&(i[f]=c)),n.result}},dispatch:function(n){n=H.event.fix(n||e.event);var r,i,o,a,s,l,u,c,f,d,p=(H._data(this,"events")||{})[n.type]||[],h=p.delegateCount,m=[].slice.call(arguments,0),g=!n.exclusive&&!n.namespace,y=H.event.special[n.type]||{},v=[];if(m[0]=n,n.delegateTarget=this,!y.preDispatch||y.preDispatch.call(this,n)!==!1){if(h&&(!n.button||"click"!==n.type))for(a=H(this),a.context=this.ownerDocument||this,o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0){for(l={},c=[],a[0]=o,r=0;r<h;r++)f=p[r],d=f.selector,l[d]===t&&(l[d]=f.quick?oe(o,f.quick):a.is(d)),l[d]&&c.push(f);c.length&&v.push({elem:o,matches:c})}for(p.length>h&&v.push({elem:this,matches:p.slice(h)}),r=0;r<v.length&&!n.isPropagationStopped();r++)for(u=v[r],n.currentTarget=u.elem,i=0;i<u.matches.length&&!n.isImmediatePropagationStopped();i++)f=u.matches[i],(g||!n.namespace&&!f.namespace||n.namespace_re&&n.namespace_re.test(f.namespace))&&(n.data=f.data,n.handleObj=f,s=((H.event.special[f.origType]||{}).handle||f.handler).apply(u.elem,m),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return y.postDispatch&&y.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||F,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),!e.which&&a!==t&&(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[H.expando])return e;var n,r,i=e,o=H.event.fixHooks[e.type]||{},a=o.props?this.props.concat(o.props):this.props;for(e=H.Event(i),n=a.length;n;)r=a[--n],e[r]=i[r];return e.target||(e.target=i.srcElement||F),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,i):e},special:{ready:{setup:H.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){H.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=H.extend(new H.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?H.event.trigger(i,null,t):H.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},H.event.handle=H.event.dispatch,H.removeEvent=F.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},H.Event=function(e,t){return this instanceof H.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?k:S):this.type=e,t&&H.extend(this,t),this.timeStamp=e&&e.timeStamp||H.now(),this[H.expando]=!0,void 0):new H.Event(e,t)},H.Event.prototype={preventDefault:function(){this.isDefaultPrevented=k;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=k;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k,this.stopPropagation()},isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S},H.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){H.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;o.selector;return i&&(i===r||H.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),H.support.submitBubbles||(H.event.special.submit={setup:function(){return!H.nodeName(this,"form")&&void H.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=H.nodeName(n,"input")||H.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(H.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&H.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!H.nodeName(this,"form")&&void H.event.remove(this,"._submit")}}),H.support.changeBubbles||(H.event.special.change={setup:function(){return Q.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(H.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),H.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,H.event.simulate("change",this,e,!0))})),!1):void H.event.add(this,"beforeactivate._change",function(e){var t=e.target;Q.test(t.nodeName)&&!t._change_attached&&(H.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&H.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return H.event.remove(this,"._change"),Q.test(this.nodeName)}}),H.support.focusinBubbles||H.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){H.event.simulate(t,e.target,H.event.fix(e),!0)};H.event.special[t]={setup:function(){0===n++&&F.addEventListener(e,r,!0)},teardown:function(){0===--n&&F.removeEventListener(e,r,!0)}}}),H.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(s in e)this.on(s,n,r,e[s],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=S;else if(!i)return this;return 1===o&&(a=i,i=function(e){return H().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=H.guid++)),this.each(function(){H.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return H(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if("object"==typeof e){for(var o in e)this.off(o,n,e[o]);return this}return n!==!1&&"function"!=typeof n||(r=n,n=t),r===!1&&(r=S),this.each(function(){H.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return H(this.context).on(e,this.selector,t,n),this},die:function(e,t){return H(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){H.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return H.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||H.guid++,r=0,i=function(n){var i=(H._data(this,"lastToggle"+e.guid)||0)%r;return H._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),H.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){H.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},H.attrFn&&(H.attrFn[t]=!0),ee.test(t)&&(H.event.fixHooks[t]=H.event.keyHooks),te.test(t)&&(H.event.fixHooks[t]=H.event.mouseHooks)}),function(){function e(e,t,n,r,o,a){for(var s=0,l=r.length;s<l;s++){var u=r[s];if(u){var c=!1;for(u=u[e];u;){if(u[i]===n){c=r[u.sizset];break}if(1===u.nodeType)if(a||(u[i]=n,u.sizset=s),"string"!=typeof t){if(u===t){c=!0;break}}else if(d.filter(t,[u]).length>0){c=u;break}u=u[e]}r[s]=c}}}function n(e,t,n,r,o,a){for(var s=0,l=r.length;s<l;s++){var u=r[s];if(u){var c=!1;for(u=u[e];u;){if(u[i]===n){c=r[u.sizset];break}if(1===u.nodeType&&!a&&(u[i]=n,u.sizset=s),u.nodeName.toLowerCase()===t){c=u;break}u=u[e]}r[s]=c}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,s=!1,l=!0,u=/\\/g,c=/\r\n/g,f=/\W/;[0,0].sort(function(){return l=!1,0});var d=function(e,t,n,i){n=n||[],t=t||F;var o=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var s,l,u,c,f,p,g,y,b=!0,x=d.isXML(t),w=[],N=e;do if(r.exec(""),s=r.exec(N),s&&(N=s[3],w.push(s[1]),s[2])){c=s[3];break}while(s);if(w.length>1&&m.exec(e))if(2===w.length&&h.relative[w[0]])l=T(w[0]+w[1],t,i);else for(l=h.relative[w[0]]?[t]:d(w.shift(),t);w.length;)e=w.shift(),h.relative[e]&&(e+=w.shift()),l=T(e,l,i);else if(!i&&w.length>1&&9===t.nodeType&&!x&&h.match.ID.test(w[0])&&!h.match.ID.test(w[w.length-1])&&(f=d.find(w.shift(),t,x),t=f.expr?d.filter(f.expr,f.set)[0]:f.set[0]),t)for(f=i?{expr:w.pop(),set:v(i)}:d.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!t.parentNode?t:t.parentNode,x),l=f.expr?d.filter(f.expr,f.set):f.set,w.length>0?u=v(l):b=!1;w.length;)p=w.pop(),g=p,h.relative[p]?g=w.pop():p="",null==g&&(g=t),h.relative[p](u,g,x);else u=w=[];if(u||(u=l),u||d.error(p||e),"[object Array]"===a.call(u))if(b)if(t&&1===t.nodeType)for(y=0;null!=u[y];y++)u[y]&&(u[y]===!0||1===u[y].nodeType&&d.contains(t,u[y]))&&n.push(l[y]);else for(y=0;null!=u[y];y++)u[y]&&1===u[y].nodeType&&n.push(l[y]);else n.push.apply(n,u);else v(u,n);return c&&(d(c,o,n,i),d.uniqueSort(n)),n};d.uniqueSort=function(e){if(b&&(s=l,e.sort(b),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},d.matches=function(e,t){return d(e,null,null,t)},d.matchesSelector=function(e,t){return d(t,null,null,[e]).length>0},d.find=function(e,t,n){var r,i,o,a,s,l;if(!e)return[];for(i=0,o=h.order.length;i<o;i++)if(s=h.order[i],(a=h.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(u,""),r=h.find[s](a,t,n),null!=r))){e=e.replace(h.match[s],"");break}return r||(r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:r,expr:e}},d.filter=function(e,n,r,i){for(var o,a,s,l,u,c,f,p,m,g=e,y=[],v=n,b=n&&n[0]&&d.isXML(n[0]);e&&n.length;){for(s in h.filter)if(null!=(o=h.leftMatch[s].exec(e))&&o[2]){if(c=h.filter[s],f=o[1],a=!1,o.splice(1,1),"\\"===f.substr(f.length-1))continue;if(v===y&&(y=[]),h.preFilter[s])if(o=h.preFilter[s](o,v,r,y,i,b)){if(o===!0)continue}else a=l=!0;if(o)for(p=0;null!=(u=v[p]);p++)u&&(l=c(u,o,p,v),m=i^l,r&&null!=l?m?a=!0:v[p]=!1:m&&(y.push(u),a=!0));if(l!==t){if(r||(v=y),e=e.replace(h.match[s],""),!a)return[];break}}if(e===g){if(null!=a)break;d.error(e)}g=e}return v},d.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var p=d.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(c,"");for(e=e.firstChild;e;e=e.nextSibling)i+=p(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(i+=p(n));return i},h=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!f.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var o,a=0,s=e.length;a<s;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=i||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}i&&d.filter(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,i=0,o=e.length;if(r&&!f.test(t)){for(t=t.toLowerCase();i<o;i++)if(n=e[i]){var a=n.parentNode;e[i]=a.nodeName.toLowerCase()===t&&a}}else{for(;i<o;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&d.filter(t,e,!0)}},"":function(t,r,i){var a,s=o++,l=e;"string"==typeof r&&!f.test(r)&&(r=r.toLowerCase(),a=r,l=n),l("parentNode",r,s,t,a,i)},"~":function(t,r,i){var a,s=o++,l=e;"string"==typeof r&&!f.test(r)&&(r=r.toLowerCase(),a=r,l=n),l("previousSibling",r,s,t,a,i)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],r=t.getElementsByName(e[1]),i=0,o=r.length;i<o;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(e,t){if("undefined"!=typeof t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,o){if(e=" "+e[1].replace(u,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(i^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(u,"")},TAG:function(e,t){return e[1].replace(u,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||d.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&d.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,n,r,i,o){var a=e[1]=e[1].replace(u,"");return!o&&h.attrMap[a]&&(e[1]=h.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(u,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,o){if("not"===e[1]){if(!((r.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=d.filter(e[3],t,n,!0^o);return n||i.push.apply(i,a),!1}e[3]=d(e[3],null,null,t)}else if(h.match.POS.test(e[0])||h.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!d(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],o=h.filters[i];if(o)return o(e,n,t,r);if("contains"===i)return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if("not"===i){for(var a=t[3],s=0,l=a.length;s<l;s++)if(a[s]===e)return!1;return!0}d.error(i)},CHILD:function(e,t){var n,r,o,a,s,l,u=t[1],c=e;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=e;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(n=t[2],r=t[3],1===n&&0===r)return!0;if(o=t[0],a=e.parentNode,a&&(a[i]!==o||!e.nodeIndex)){for(s=0,c=a.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);a[i]=o}return l=e.nodeIndex-r,0===n?0===l:l%n===0&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=d.attr?d.attr(e,n):h.attrHandle[n]?h.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),i=r+"",o=t[2],a=t[4];return null==r?"!="===o:!o&&d.attr?null!=r:"="===o?i===a:"*="===o?i.indexOf(a)>=0:"~="===o?(" "+i+" ").indexOf(a)>=0:a?"!="===o?i!==a:"^="===o?0===i.indexOf(a):"$="===o?i.substr(i.length-a.length)===a:"|="===o&&(i===a||i.substr(0,a.length+1)===a+"-"):i&&r!==!1},POS:function(e,t,n,r){var i=t[2],o=h.setFilters[i];if(o)return o(e,n,t,r)}}},m=h.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var y in h.match)h.match[y]=new RegExp(h.match[y].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[y]=new RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[y].source.replace(/\\(\d+)/g,g));h.match.globalPOS=m;var v=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(F.documentElement.childNodes,0)[0].nodeType}catch(e){v=function(e,t){var n=0,r=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(r,e);else if("number"==typeof e.length)for(var i=e.length;n<i;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var b,x;F.documentElement.compareDocumentPosition?b=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(b=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],a=e.parentNode,l=t.parentNode,u=a;if(a===l)return x(e,t);if(!a)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=i.length,r=o.length;for(var c=0;c<n&&c<r;c++)if(i[c]!==o[c])return x(i[c],o[c]);return c===n?x(e,o[c],-1):x(i[c],t,1)},x=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=F.createElement("div"),n="script"+(new Date).getTime(),r=F.documentElement;e.innerHTML="<a name='"+n+"'/>",r.insertBefore(e,r.firstChild),F.getElementById(n)&&(h.find.ID=function(e,n,r){if("undefined"!=typeof n.getElementById&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},h.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),r.removeChild(e),r=e=null}(),function(){var e=F.createElement("div");e.appendChild(F.createComment("")),e.getElementsByTagName("*").length>0&&(h.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(h.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),F.querySelectorAll&&function(){var e=d,t=F.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){d=function(t,r,i,o){if(r=r||F,!o&&!d.isXML(r)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===r.nodeType||9===r.nodeType)){if(a[1])return v(r.getElementsByTagName(t),i);if(a[2]&&h.find.CLASS&&r.getElementsByClassName)return v(r.getElementsByClassName(a[2]),i)}if(9===r.nodeType){if("body"===t&&r.body)return v([r.body],i);if(a&&a[3]){var s=r.getElementById(a[3]);if(!s||!s.parentNode)return v([],i);if(s.id===a[3])return v([s],i)}try{return v(r.querySelectorAll(t),i)}catch(e){}}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var l=r,u=r.getAttribute("id"),c=u||n,f=r.parentNode,p=/^\s*[+~]/.test(t);u?c=c.replace(/'/g,"\\$&"):r.setAttribute("id",c),p&&f&&(r=r.parentNode);try{if(!p||f)return v(r.querySelectorAll("[id='"+c+"'] "+t),i)}catch(e){}finally{u||l.removeAttribute("id")}}}return e(t,r,i,o)};for(var r in e)d[r]=e[r];t=null}}(),function(){var e=F.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(F.createElement("div"),"div"),r=!1;try{t.call(F.documentElement,"[test!='']:sizzle")}catch(e){r=!0}d.matchesSelector=function(e,i){if(i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(e))try{if(r||!h.match.PSEUDO.test(i)&&!/!=/.test(i)){var o=t.call(e,i);if(o||!n||e.document&&11!==e.document.nodeType)return o}}catch(e){}return d(i,null,null,[e]).length>0}}}(),function(){var e=F.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;h.order.splice(1,0,"CLASS"),h.find.CLASS=function(e,t,n){if("undefined"!=typeof t.getElementsByClassName&&!n)return t.getElementsByClassName(e[1])},e=null}}(),F.documentElement.contains?d.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:F.documentElement.compareDocumentPosition?d.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:d.contains=function(){return!1},d.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var T=function(e,t,n){for(var r,i=[],o="",a=t.nodeType?[t]:t;r=h.match.PSEUDO.exec(e);)o+=r[0],e=e.replace(h.match.PSEUDO,"");e=h.relative[e]?e+"*":e;for(var s=0,l=a.length;s<l;s++)d(e,a[s],i,n);return d.filter(o,i)};d.attr=H.attr,d.selectors.attrMap={},H.find=d,H.expr=d.selectors,H.expr[":"]=H.expr.filters,H.unique=d.uniqueSort,H.text=d.getText,H.isXMLDoc=d.isXML,H.contains=d.contains}();var se=/Until$/,le=/^(?:parents|prevUntil|prevAll)/,ue=/,/,ce=/^.[^:#\[\.,]*$/,fe=Array.prototype.slice,de=H.expr.match.globalPOS,pe={children:!0,contents:!0,next:!0,prev:!0};H.fn.extend({find:function(e){var t,n,r=this;if("string"!=typeof e)return H(e).filter(function(){for(t=0,n=r.length;t<n;t++)if(H.contains(r[t],this))return!0});var i,o,a,s=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++)if(i=s.length,H.find(e,this[t],s),t>0)for(o=i;o<s.length;o++)for(a=0;a<i;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(e){var t=H(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(H.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(C(this,e,!1),"not",e)},filter:function(e){return this.pushStack(C(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?de.test(e)?H(e,this.context).index(this[0])>=0:H.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r,i=[],o=this[0];if(H.isArray(e)){for(var a=1;o&&o.ownerDocument&&o!==t;){for(n=0;n<e.length;n++)H(o).is(e[n])&&i.push({selector:e[n],elem:o,level:a});o=o.parentNode,a++}return i}var s=de.test(e)||"string"!=typeof e?H(e,t||this.context):0;for(n=0,r=this.length;n<r;n++)for(o=this[n];o;){if(s?s.index(o)>-1:H.find.matchesSelector(o,e)){i.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===t||11===o.nodeType)break}return i=i.length>1?H.unique(i):i,this.pushStack(i,"closest",e)},index:function(e){return e?"string"==typeof e?H.inArray(this[0],H(e)):H.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?H(e,t):H.makeArray(e&&e.nodeType?[e]:e),r=H.merge(this.get(),n);return this.pushStack(E(n[0])||E(r[0])?r:H.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),H.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return H.dir(e,"parentNode")},parentsUntil:function(e,t,n){return H.dir(e,"parentNode",n)},next:function(e){return H.nth(e,2,"nextSibling")},prev:function(e){return H.nth(e,2,"previousSibling")},nextAll:function(e){return H.dir(e,"nextSibling")},prevAll:function(e){return H.dir(e,"previousSibling")},nextUntil:function(e,t,n){return H.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return H.dir(e,"previousSibling",n)},siblings:function(e){return H.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return H.sibling(e.firstChild)},contents:function(e){return H.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:H.makeArray(e.childNodes)}},function(e,t){H.fn[e]=function(n,r){var i=H.map(this,t,n);return se.test(e)||(r=n),r&&"string"==typeof r&&(i=H.filter(r,i)),i=this.length>1&&!pe[e]?H.unique(i):i,(this.length>1||ue.test(r))&&le.test(e)&&(i=i.reverse()),this.pushStack(i,e,fe.call(arguments).join(","))}}),H.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?H.find.matchesSelector(t[0],e)?[t[0]]:[]:H.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!H(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},nth:function(e,t,n,r){t=t||1;for(var i=0;e&&(1!==e.nodeType||++i!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var he="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",me=/ jQuery\d+="(?:\d+|null)"/g,ge=/^\s+/,ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ve=/<([\w:]+)/,be=/<tbody/i,xe=/<|&#?\w+;/,Te=/<(?:script|style)/i,we=/<(?:script|object|embed|option|style)/i,Ne=new RegExp("<(?:"+he+")[\\s/>]","i"),Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Ee=/\/(java|ecma)script/i,ke=/^\s*<!(?:\[CDATA\[|\-\-)/,Se={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ae=N(F);Se.optgroup=Se.option,Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,H.support.htmlSerialize||(Se._default=[1,"div<div>","</div>"]),H.fn.extend({text:function(e){return H.access(this,function(e){return e===t?H.text(this):this.empty().append((this[0]&&this[0].ownerDocument||F).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(H.isFunction(e))return this.each(function(t){H(this).wrapAll(e.call(this,t))});if(this[0]){var t=H(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return H.isFunction(e)?this.each(function(t){H(this).wrapInner(e.call(this,t))}):this.each(function(){var t=H(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)});
},wrap:function(e){var t=H.isFunction(e);return this.each(function(n){H(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){H.nodeName(this,"body")||H(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=H.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,H.clean(arguments)),e}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)e&&!H.filter(e,[n]).length||(!t&&1===n.nodeType&&(H.cleanData(n.getElementsByTagName("*")),H.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&H.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return H.clone(this,e,t)})},html:function(e){return H.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(me,""):null;if("string"==typeof e&&!Te.test(e)&&(H.support.leadingWhitespace||!ge.test(e))&&!Se[(ve.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ye,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},1===n.nodeType&&(H.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?H.isFunction(e)?this.each(function(t){var n=H(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=H(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;H(this).remove(),t?H(t).before(e):H(n).append(e)})):this.length?this.pushStack(H(H.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,o,a,s,l=e[0],u=[];if(!H.support.checkClone&&3===arguments.length&&"string"==typeof l&&Ce.test(l))return this.each(function(){H(this).domManip(e,n,r,!0)});if(H.isFunction(l))return this.each(function(i){var o=H(this);e[0]=l.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(s=l&&l.parentNode,i=H.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:H.buildFragment(e,this,u),a=i.fragment,o=1===a.childNodes.length?a=a.firstChild:a.firstChild,o){n=n&&H.nodeName(o,"tr");for(var c=0,f=this.length,d=f-1;c<f;c++)r.call(n?w(this[c],o):this[c],i.cacheable||f>1&&c<d?H.clone(a,!0,!0):a)}u.length&&H.each(u,function(e,t){t.src?H.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):H.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ke,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),H.buildFragment=function(e,t,n){var r,i,o,a,s=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=F),1===e.length&&"string"==typeof s&&s.length<512&&a===F&&"<"===s.charAt(0)&&!we.test(s)&&(H.support.checkClone||!Ce.test(s))&&(H.support.html5Clone||!Ne.test(s))&&(i=!0,o=H.fragments[s],o&&1!==o&&(r=o)),r||(r=a.createDocumentFragment(),H.clean(e,a,r,n)),i&&(H.fragments[s]=o?r:1),{fragment:r,cacheable:i}},H.fragments={},H.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){H.fn[e]=function(n){var r=[],i=H(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===i.length)return i[t](this[0]),this;for(var a=0,s=i.length;a<s;a++){var l=(a>0?this.clone(!0):this).get();H(i[a])[t](l),r=r.concat(l)}return this.pushStack(r,e,i.selector)}}),H.extend({clone:function(e,t,n){var r,i,o,a=H.support.html5Clone||H.isXMLDoc(e)||!Ne.test("<"+e.nodeName+">")?e.cloneNode(!0):g(e);if(!(H.support.noCloneEvent&&H.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||H.isXMLDoc(e)))for(x(e,a),r=b(e),i=b(a),o=0;r[o];++o)i[o]&&x(r[o],i[o]);if(t&&(T(e,a),n))for(r=b(e),i=b(a),o=0;r[o];++o)T(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i,o,a,s=[];t=t||F,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||F);for(var l,u=0;null!=(l=e[u]);u++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(xe.test(l)){l=l.replace(ye,"<$1></$2>");var c,f=(ve.exec(l)||["",""])[1].toLowerCase(),d=Se[f]||Se._default,p=d[0],h=t.createElement("div"),m=Ae.childNodes;for(t===F?Ae.appendChild(h):N(t).appendChild(h),h.innerHTML=d[1]+l+d[2];p--;)h=h.lastChild;if(!H.support.tbody){var g=be.test(l),v="table"!==f||g?"<table>"!==d[1]||g?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes;for(a=v.length-1;a>=0;--a)H.nodeName(v[a],"tbody")&&!v[a].childNodes.length&&v[a].parentNode.removeChild(v[a])}!H.support.leadingWhitespace&&ge.test(l)&&h.insertBefore(t.createTextNode(ge.exec(l)[0]),h.firstChild),l=h.childNodes,h&&(h.parentNode.removeChild(h),m.length>0&&(c=m[m.length-1],c&&c.parentNode&&c.parentNode.removeChild(c)))}else l=t.createTextNode(l);var b;if(!H.support.appendChecked)if(l[0]&&"number"==typeof(b=l.length))for(a=0;a<b;a++)y(l[a]);else y(l);l.nodeType?s.push(l):s=H.merge(s,l)}if(n)for(i=function(e){return!e.type||Ee.test(e.type)},u=0;s[u];u++)if(o=s[u],r&&H.nodeName(o,"script")&&(!o.type||Ee.test(o.type)))r.push(o.parentNode?o.parentNode.removeChild(o):o);else{if(1===o.nodeType){var x=H.grep(o.getElementsByTagName("script"),i);s.splice.apply(s,[u+1,0].concat(x))}n.appendChild(o)}return s},cleanData:function(e){for(var t,n,r,i=H.cache,o=H.event.special,a=H.support.deleteExpando,s=0;null!=(r=e[s]);s++)if((!r.nodeName||!H.noData[r.nodeName.toLowerCase()])&&(n=r[H.expando])){if(t=i[n],t&&t.events){for(var l in t.events)o[l]?H.event.remove(r,l):H.removeEvent(r,l,t.handle);t.handle&&(t.handle.elem=null)}a?delete r[H.expando]:r.removeAttribute&&r.removeAttribute(H.expando),delete i[n]}}});var Le,De,je,Fe=/alpha\([^)]*\)/i,Me=/opacity=([^)]*)/,_e=/([A-Z]|^ms)/g,He=/^[\-+]?(?:\d*\.)?\d+$/i,Oe=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Be=/^([\-+])=([\-+.\de]+)/,Pe=/^margin/,qe={position:"absolute",visibility:"hidden",display:"block"},We=["Top","Right","Bottom","Left"];H.fn.css=function(e,n){return H.access(this,function(e,n,r){return r!==t?H.style(e,n,r):H.css(e,n)},e,n,arguments.length>1)},H.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Le(e,"opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:H.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s=H.camelCase(n),l=e.style,u=H.cssHooks[s];if(n=H.cssProps[s]||s,r===t)return u&&"get"in u&&(o=u.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Be.exec(r))&&(r=+(o[1]+1)*+o[2]+parseFloat(H.css(e,n)),a="number"),null==r||"number"===a&&isNaN(r))return;if("number"===a&&!H.cssNumber[s]&&(r+="px"),!(u&&"set"in u&&(r=u.set(e,r))===t))try{l[n]=r}catch(e){}}},css:function(e,n,r){var i,o;return n=H.camelCase(n),o=H.cssHooks[n],n=H.cssProps[n]||n,"cssFloat"===n&&(n="float"),o&&"get"in o&&(i=o.get(e,!0,r))!==t?i:Le?Le(e,n):void 0},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r}}),H.curCSS=H.css,F.defaultView&&F.defaultView.getComputedStyle&&(De=function(e,t){var n,r,i,o,a=e.style;return t=t.replace(_e,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),""===n&&!H.contains(e.ownerDocument.documentElement,e)&&(n=H.style(e,t))),!H.support.pixelMargin&&i&&Pe.test(t)&&Oe.test(n)&&(o=a.width,a.width=n,n=i.width,a.width=o),n}),F.documentElement.currentStyle&&(je=function(e,t){var n,r,i,o=e.currentStyle&&e.currentStyle[t],a=e.style;return null==o&&a&&(i=a[t])&&(o=i),Oe.test(o)&&(n=a.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o,o=a.pixelLeft+"px",a.left=n,r&&(e.runtimeStyle.left=r)),""===o?"auto":o}),Le=De||je,H.each(["height","width"],function(e,t){H.cssHooks[t]={get:function(e,n,r){if(n)return 0!==e.offsetWidth?m(e,t,r):H.swap(e,qe,function(){return m(e,t,r)})},set:function(e,t){return He.test(t)?t+"px":t}}}),H.support.opacity||(H.cssHooks.opacity={get:function(e,t){return Me.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=H.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===H.trim(o.replace(Fe,""))&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=Fe.test(o)?o.replace(Fe,i):o+" "+i)}}),H(function(){H.support.reliableMarginRight||(H.cssHooks.marginRight={get:function(e,t){return H.swap(e,{display:"inline-block"},function(){return t?Le(e,"margin-right"):e.style.marginRight})}})}),H.expr&&H.expr.filters&&(H.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!H.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||H.css(e,"display"))},H.expr.filters.visible=function(e){return!H.expr.filters.hidden(e)}),H.each({margin:"",padding:"",border:"Width"},function(e,t){H.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;r<4;r++)o[e+We[r]+t]=i[r]||i[r-2]||i[0];return o}}});var Ie,$e,Re=/%20/g,Xe=/\[\]$/,ze=/\r?\n/g,Ve=/#.*$/,Ue=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ge=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ye=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Je=/^(?:GET|HEAD)$/,Qe=/^\/\//,Ke=/\?/,Ze=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,et=/^(?:select|textarea)/i,tt=/\s+/,nt=/([?&])_=[^&]*/,rt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,it=H.fn.load,ot={},at={},st=["*/"]+["*"];try{Ie=_.href}catch(e){Ie=F.createElement("a"),Ie.href="",Ie=Ie.href}$e=rt.exec(Ie.toLowerCase())||[],H.fn.extend({load:function(e,n,r){if("string"!=typeof e&&it)return it.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var o=e.slice(i,e.length);e=e.slice(0,i)}var a="GET";n&&(H.isFunction(n)?(r=n,n=t):"object"==typeof n&&(n=H.param(n,H.ajaxSettings.traditional),a="POST"));var s=this;return H.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),s.html(o?H("<div>").append(n.replace(Ze,"")).find(o):n)),r&&s.each(r,[n,t,e])}}),this},serialize:function(){return H.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?H.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||et.test(this.nodeName)||Ge.test(this.type))}).map(function(e,t){var n=H(this).val();return null==n?null:H.isArray(n)?H.map(n,function(e,n){return{name:t.name,value:e.replace(ze,"\r\n")}}):{name:t.name,value:n.replace(ze,"\r\n")}}).get()}}),H.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){H.fn[t]=function(e){return this.on(t,e)}}),H.each(["get","post"],function(e,n){H[n]=function(e,r,i,o){return H.isFunction(r)&&(o=o||i,i=r,r=t),H.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),H.extend({getScript:function(e,n){return H.get(e,t,n,"script")},getJSON:function(e,t,n){return H.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?d(e,H.ajaxSettings):(t=e,e=H.ajaxSettings),d(e,t),e},ajaxSettings:{url:Ie,isLocal:Ye.test($e[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":st},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":H.parseJSON,"text xml":H.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:h(ot),ajaxTransport:h(at),ajax:function(e,n){function r(e,n,r,a){if(2!==N){N=2,l&&clearTimeout(l),s=t,o=a||"",C.readyState=e>0?4:0;var f,p,h,T,w,E=n,k=r?c(m,C,r):t;if(e>=200&&e<300||304===e)if(m.ifModified&&((T=C.getResponseHeader("Last-Modified"))&&(H.lastModified[i]=T),(w=C.getResponseHeader("Etag"))&&(H.etag[i]=w)),304===e)E="notmodified",f=!0;else try{p=u(m,k),E="success",f=!0}catch(e){E="parsererror",h=e}else h=E,E&&!e||(E="error",e<0&&(e=0));C.status=e,C.statusText=""+(n||E),f?v.resolveWith(g,[p,E,C]):v.rejectWith(g,[C,E,h]),C.statusCode(x),x=t,d&&y.trigger("ajax"+(f?"Success":"Error"),[C,m,f?p:h]),b.fireWith(g,[C,E]),d&&(y.trigger("ajaxComplete",[C,m]),--H.active||H.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,f,d,h,m=H.ajaxSetup({},n),g=m.context||m,y=g!==m&&(g.nodeType||g instanceof H)?H(g):H.event,v=H.Deferred(),b=H.Callbacks("once memory"),x=m.statusCode||{},T={},w={},N=0,C={readyState:0,setRequestHeader:function(e,t){if(!N){var n=e.toLowerCase();e=w[n]=w[n]||e,T[e]=t}return this},getAllResponseHeaders:function(){return 2===N?o:null},getResponseHeader:function(e){var n;if(2===N){if(!a)for(a={};n=Ue.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return N||(m.mimeType=e),this},abort:function(e){return e=e||"abort",s&&s.abort(e),r(0,e),this}};if(v.promise(C),C.success=C.done,C.error=C.fail,C.complete=b.add,C.statusCode=function(e){if(e){var t;if(N<2)for(t in e)x[t]=[x[t],e[t]];else t=e[C.status],C.then(t,t)}return this},m.url=((e||m.url)+"").replace(Ve,"").replace(Qe,$e[1]+"//"),m.dataTypes=H.trim(m.dataType||"*").toLowerCase().split(tt),null==m.crossDomain&&(f=rt.exec(m.url.toLowerCase()),m.crossDomain=!(!f||f[1]==$e[1]&&f[2]==$e[2]&&(f[3]||("http:"===f[1]?80:443))==($e[3]||("http:"===$e[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=H.param(m.data,m.traditional)),p(ot,m,n,C),2===N)return!1;if(d=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Je.test(m.type),d&&0===H.active++&&H.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Ke.test(m.url)?"&":"?")+m.data,delete m.data),i=m.url,m.cache===!1)){var E=H.now(),k=m.url.replace(nt,"$1_="+E);m.url=k+(k===m.url?(Ke.test(m.url)?"&":"?")+"_="+E:"")}(m.data&&m.hasContent&&m.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(i=i||m.url,H.lastModified[i]&&C.setRequestHeader("If-Modified-Since",H.lastModified[i]),H.etag[i]&&C.setRequestHeader("If-None-Match",H.etag[i])),C.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+st+"; q=0.01":""):m.accepts["*"]);for(h in m.headers)C.setRequestHeader(h,m.headers[h]);if(m.beforeSend&&(m.beforeSend.call(g,C,m)===!1||2===N))return C.abort(),!1;for(h in{success:1,error:1,complete:1})C[h](m[h]);if(s=p(at,m,n,C)){C.readyState=1,d&&y.trigger("ajaxSend",[C,m]),m.async&&m.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},m.timeout));try{N=1,s.send(T,r)}catch(e){if(!(N<2))throw e;r(-1,e)}}else r(-1,"No Transport");return C},param:function(e,n){var r=[],i=function(e,t){t=H.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=H.ajaxSettings.traditional),H.isArray(e)||e.jquery&&!H.isPlainObject(e))H.each(e,function(){i(this.name,this.value)});else for(var o in e)f(o,e[o],n,i);return r.join("&").replace(Re,"+")}}),H.extend({active:0,lastModified:{},etag:{}});var lt=H.now(),ut=/(\=)\?(&|$)|\?\?/i;H.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return H.expando+"_"+lt++}}),H.ajaxPrefilter("json jsonp",function(t,n,r){var i="string"==typeof t.data&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(ut.test(t.url)||i&&ut.test(t.data))){var o,a=t.jsonpCallback=H.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=e[a],l=t.url,u=t.data,c="$1"+a+"$2";return t.jsonp!==!1&&(l=l.replace(ut,c),t.url===l&&(i&&(u=u.replace(ut,c)),t.data===u&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+a))),t.url=l,t.data=u,e[a]=function(e){o=[e]},r.always(function(){e[a]=s,o&&H.isFunction(s)&&e[a](o[0])}),t.converters["script json"]=function(){return o||H.error(a+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),H.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return H.globalEval(e),e}}}),H.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),H.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=F.head||F.getElementsByTagName("head")[0]||F.documentElement;return{send:function(i,o){n=F.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var ct,ft=!!e.ActiveXObject&&function(){for(var e in ct)ct[e](0,1)},dt=0;H.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&l()||s()}:l,function(e){H.extend(H.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(H.ajaxSettings.xhr()),H.support.ajax&&H.ajaxTransport(function(n){if(!n.crossDomain||H.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(e){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,f,d;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=H.noop,ft&&delete ct[a]),i)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),f={},d=l.responseXML,d&&d.documentElement&&(f.xml=d);try{f.text=l.responseText}catch(e){}try{u=l.statusText}catch(e){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(e){i||o(-1,e)}f&&o(s,u,f,c)},n.async&&4!==l.readyState?(a=++dt,ft&&(ct||(ct={},H(e).unload(ft)),ct[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var pt,ht,mt,gt,yt={},vt=/^(?:toggle|show|hide)$/,bt=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,xt=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];H.fn.extend({show:function(e,t,n){var o,a;if(e||0===e)return this.animate(i("show",3),e,t,n);for(var s=0,l=this.length;s<l;s++)o=this[s],o.style&&(a=o.style.display,!H._data(o,"olddisplay")&&"none"===a&&(a=o.style.display=""),(""===a&&"none"===H.css(o,"display")||!H.contains(o.ownerDocument.documentElement,o))&&H._data(o,"olddisplay",r(o.nodeName)));for(s=0;s<l;s++)o=this[s],o.style&&(a=o.style.display,""!==a&&"none"!==a||(o.style.display=H._data(o,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(i("hide",3),e,t,n);for(var r,o,a=0,s=this.length;a<s;a++)r=this[a],r.style&&(o=H.css(r,"display"),"none"!==o&&!H._data(r,"olddisplay")&&H._data(r,"olddisplay",o));for(a=0;a<s;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:H.fn.toggle,toggle:function(e,t,n){var r="boolean"==typeof e;return H.isFunction(e)&&H.isFunction(t)?this._toggle.apply(this,arguments):null==e||r?this.each(function(){var t=r?e:H(this).is(":hidden");H(this)[t?"show":"hide"]()}):this.animate(i("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,i){function o(){a.queue===!1&&H._mark(this);var t,n,i,o,s,l,u,c,f,d,p,h=H.extend({},a),m=1===this.nodeType,g=m&&H(this).is(":hidden");h.animatedProperties={};for(i in e)if(t=H.camelCase(i),i!==t&&(e[t]=e[i],delete e[i]),(s=H.cssHooks[t])&&"expand"in s){l=s.expand(e[t]),delete e[t];for(i in l)i in e||(e[i]=l[i])}for(t in e){if(n=e[t],H.isArray(n)?(h.animatedProperties[t]=n[1],n=e[t]=n[0]):h.animatedProperties[t]=h.specialEasing&&h.specialEasing[t]||h.easing||"swing","hide"===n&&g||"show"===n&&!g)return h.complete.call(this);m&&("height"===t||"width"===t)&&(h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===H.css(this,"display")&&"none"===H.css(this,"float")&&(H.support.inlineBlockNeedsLayout&&"inline"!==r(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=h.overflow&&(this.style.overflow="hidden");for(i in e)o=new H.fx(this,h,i),n=e[i],vt.test(n)?(p=H._data(this,"toggle"+i)||("toggle"===n?g?"show":"hide":0),p?(H._data(this,"toggle"+i,"show"===p?"hide":"show"),o[p]()):o[n]()):(u=bt.exec(n),c=o.cur(),u?(f=parseFloat(u[2]),d=u[3]||(H.cssNumber[i]?"":"px"),"px"!==d&&(H.style(this,i,(f||1)+d),c=(f||1)/o.cur()*c,H.style(this,i,c+d)),u[1]&&(f=("-="===u[1]?-1:1)*f+c),o.custom(c,f,d)):o.custom(c,n,""));return!0}var a=H.speed(t,n,i);return H.isEmptyObject(e)?this.each(a.complete,[!1]):(e=H.extend({},e),a.queue===!1?this.each(o):this.queue(a.queue,o))},stop:function(e,n,r){return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var i=t[n];H.removeData(e,n,!0),i.stop(r)}var n,i=!1,o=H.timers,a=H._data(this);if(r||H._unmark(!0,this),null==e)for(n in a)a[n]&&a[n].stop&&n.indexOf(".run")===n.length-4&&t(this,a,n);else a[n=e+".run"]&&a[n].stop&&t(this,a,n);for(n=o.length;n--;)o[n].elem===this&&(null==e||o[n].queue===e)&&(r?o[n](!0):o[n].saveState(),i=!0,o.splice(n,1));(!r||!i)&&H.dequeue(this,e)})}}),H.each({slideDown:i("show",1),slideUp:i("hide",1),slideToggle:i("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){H.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),H.extend({speed:function(e,t,n){var r=e&&"object"==typeof e?H.extend({},e):{complete:n||!n&&t||H.isFunction(e)&&e,duration:e,easing:n&&t||t&&!H.isFunction(t)&&t};return r.duration=H.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in H.fx.speeds?H.fx.speeds[r.duration]:H.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(e){H.isFunction(r.old)&&r.old.call(this),r.queue?H.dequeue(this,r.queue):e!==!1&&H._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),H.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(H.fx.step[this.prop]||H.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=H.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,r){function i(e){return o.step(e)}var o=this,s=H.fx;this.startTime=gt||a(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(H.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){H._data(o.elem,"fxshow"+o.prop)===t&&(o.options.hide?H._data(o.elem,"fxshow"+o.prop,o.start):o.options.show&&H._data(o.elem,"fxshow"+o.prop,o.end))},i()&&H.timers.push(i)&&!mt&&(mt=setInterval(s.tick,s.interval))},show:function(){var e=H._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||H.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),H(this.elem).show()},hide:function(){this.options.orig[this.prop]=H._data(this.elem,"fxshow"+this.prop)||H.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=gt||a(),o=!0,s=this.elem,l=this.options;if(e||i>=l.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),l.animatedProperties[this.prop]=!0;for(t in l.animatedProperties)l.animatedProperties[t]!==!0&&(o=!1);if(o){if(null!=l.overflow&&!H.support.shrinkWrapBlocks&&H.each(["","X","Y"],function(e,t){s.style["overflow"+t]=l.overflow[e]}),l.hide&&H(s).hide(),l.hide||l.show)for(t in l.animatedProperties)H.style(s,t,l.orig[t]),H.removeData(s,"fxshow"+t,!0),H.removeData(s,"toggle"+t,!0);r=l.complete,r&&(l.complete=!1,r.call(s))}return!1}return l.duration==1/0?this.now=i:(n=i-this.startTime,this.state=n/l.duration,this.pos=H.easing[l.animatedProperties[this.prop]](this.state,n,0,1,l.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},H.extend(H.fx,{tick:function(){for(var e,t=H.timers,n=0;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||H.fx.stop()},interval:13,stop:function(){clearInterval(mt),mt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){H.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),H.each(xt.concat.apply([],xt),function(e,t){t.indexOf("margin")&&(H.fx.step[t]=function(e){H.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),H.expr&&H.expr.filters&&(H.expr.filters.animated=function(e){return H.grep(H.timers,function(t){return e===t.elem}).length});var Tt,wt=/^t(?:able|d|h)$/i,Nt=/^(?:body|html)$/i;Tt="getBoundingClientRect"in F.documentElement?function(e,t,r,i){try{i=e.getBoundingClientRect()}catch(e){}if(!i||!H.contains(r,e))return i?{top:i.top,left:i.left}:{top:0,left:0};var o=t.body,a=n(t),s=r.clientTop||o.clientTop||0,l=r.clientLeft||o.clientLeft||0,u=a.pageYOffset||H.support.boxModel&&r.scrollTop||o.scrollTop,c=a.pageXOffset||H.support.boxModel&&r.scrollLeft||o.scrollLeft,f=i.top+u-s,d=i.left+c-l;return{top:f,left:d}}:function(e,t,n){for(var r,i=e.offsetParent,o=e,a=t.body,s=t.defaultView,l=s?s.getComputedStyle(e,null):e.currentStyle,u=e.offsetTop,c=e.offsetLeft;(e=e.parentNode)&&e!==a&&e!==n&&(!H.support.fixedPosition||"fixed"!==l.position);)r=s?s.getComputedStyle(e,null):e.currentStyle,u-=e.scrollTop,c-=e.scrollLeft,e===i&&(u+=e.offsetTop,c+=e.offsetLeft,H.support.doesNotAddBorder&&(!H.support.doesAddBorderForTableAndCells||!wt.test(e.nodeName))&&(u+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),o=i,i=e.offsetParent),H.support.subtractsBorderForOverflowNotVisible&&"visible"!==r.overflow&&(u+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),l=r;return"relative"!==l.position&&"static"!==l.position||(u+=a.offsetTop,c+=a.offsetLeft),H.support.fixedPosition&&"fixed"===l.position&&(u+=Math.max(n.scrollTop,a.scrollTop),c+=Math.max(n.scrollLeft,a.scrollLeft)),{top:u,left:c}},H.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){H.offset.setOffset(this,e,t)});var n=this[0],r=n&&n.ownerDocument;return r?n===r.body?H.offset.bodyOffset(n):Tt(n,r,r.documentElement):null},H.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return H.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(H.css(e,"marginTop"))||0,n+=parseFloat(H.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=H.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=H(e),s=a.offset(),l=H.css(e,"top"),u=H.css(e,"left"),c=("absolute"===r||"fixed"===r)&&H.inArray("auto",[l,u])>-1,f={},d={};c?(d=a.position(),i=d.top,o=d.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),H.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):a.css(f)}},H.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=Nt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(H.css(e,"marginTop"))||0,n.left-=parseFloat(H.css(e,"marginLeft"))||0,r.top+=parseFloat(H.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(H.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||F.body;e&&!Nt.test(e.nodeName)&&"static"===H.css(e,"position");)e=e.offsetParent;return e})}}),H.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var i=/Y/.test(r);H.fn[e]=function(o){return H.access(this,function(e,o,a){var s=n(e);return a===t?s?r in s?s[r]:H.support.boxModel&&s.document.documentElement[o]||s.document.body[o]:e[o]:void(s?s.scrollTo(i?H(s).scrollLeft():a,i?a:H(s).scrollTop()):e[o]=a)},e,o,arguments.length,null)}}),H.each({Height:"height",Width:"width"},function(e,n){var r="client"+e,i="scroll"+e,o="offset"+e;H.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(H.css(e,n,"padding")):this[n]():null},H.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(H.css(t,n,e?"margin":"border")):this[n]():null},H.fn[n]=function(e){return H.access(this,function(e,n,a){var s,l,u,c;return H.isWindow(e)?(s=e.document,l=s.documentElement[r],H.support.boxModel&&l||s.body&&s.body[r]||l):9===e.nodeType?(s=e.documentElement,s[r]>=s[i]?s[r]:Math.max(e.body[i],s[i],e.body[o],s[o])):a===t?(u=H.css(e,n),c=parseFloat(u),H.isNumeric(c)?c:u):void H(e).css(n,a)},n,e,arguments.length,null)}}),e.jQuery=e.$=H,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return H})}(window);
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=0,i=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{n=t._data(s,"events"),n&&n.remove&&t(s).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,o,r,a,u={},d=e.split(".")[0];return e=e.split(".")[1],s=d+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[d]=t[d]||{},o=t[d][e],r=t[d][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(u[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(u[e]=n)}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},u,{constructor:r,namespace:d,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,s,o=i.call(arguments,1),r=0,a=o.length;r<a;r++)for(n in o[r])s=o[r][n],o[r].hasOwnProperty(n)&&void 0!==s&&(t.isPlainObject(s)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],s):t.widget.extend({},s):e[n]=s);return e},t.widget.bridge=function(e,n){var s=n.prototype.widgetFullName||e;t.fn[e]=function(o){var r="string"==typeof o,a=i.call(arguments,1),u=this;return o=!r&&a.length?t.widget.extend.apply(null,[o].concat(a)):o,r?this.each(function(){var i,n=t.data(this,s);return"instance"===o?(u=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a),i!==n&&void 0!==i?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new n(o,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,o,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},n=e.split("."),e=n.shift(),n.length){for(s=r[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,r){function a(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var u=n.match(/^([\w:-]*)\s*(.*)$/),d=u[1]+o.eventNamespace,h=u[2];h?s.delegate(h,d,a):i.bind(d,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),r=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}});t.widget});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(r){if(r.async){var n,a,o,i=r.initialIframeSrc||"javascript:false;";return{send:function(p,m){n=e('<form style="display:none;"></form>'),n.attr("accept-charset",r.formAcceptCharset),o=/\?/.test(r.url)?"&":"?","DELETE"===r.type?(r.url=r.url+o+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+o+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+o+"_method=PATCH",r.type="POST"),t+=1,a=e('<iframe src="'+i+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(r.paramName)?r.paramName:[r.paramName];a.unbind("load").bind("load",function(){var t;try{if(t=a.contents(),!t.length||!t[0].firstChild)throw new Error}catch(e){t=void 0}m(200,"success",{iframe:t}),e('<iframe src="'+i+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",a.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&e.each(r.formData,function(t,r){e('<input type="hidden"/>').prop("name",r.name).val(r.value).appendTo(n)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(t=r.fileInput.clone(),r.fileInput.after(function(e){return t[e]}),r.paramName&&r.fileInput.each(function(t){e(this).prop("name",o[t]||r.paramName)}),n.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),r.fileInput.removeAttr("form")),n.submit(),t&&t.length&&r.fileInput.each(function(r,n){var a=e(t[r]);e(n).prop("name",a.prop("name")).attr("form",a.attr("form")),a.replaceWith(n)})}),n.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",i),n&&n.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var r=t&&t[0];return r&&e.isXMLDoc(r)?r:e.parseXML(r.XMLDocument&&r.XMLDocument.xml||e(r.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var i="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var n=r.dataTransfer;n&&e.inArray("Files",n.types)!==-1&&this._trigger(t,e.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),i&&(n.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){return!t.isDefaultPrevented()&&void((i.autoUpload||i.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var r=e-this.timestamp;return(!this.bitrate||!i||r>i)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var r,n=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&n-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=n,r=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=r-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=r,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(n,r,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,i._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,r=this,n=t.files[0],o=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",n)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(n.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:s,value:t.blob}):e.each(t.files,function(r,n){i.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||s,value:n})})):(r._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(s,t.blob,n.name):e.each(t.files,function(n,o){(r._isInstanceOf("File",o)||r._isInstanceOf("Blob",o))&&i.append("array"===e.type(t.paramName)&&t.paramName[n]||s,o,o.uploadName||o.name)})),t.data=i):(t.contentType=n.type||"application/octet-stream",t.data=t.blob||n),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)r.push(i),n-=1}),r.length||(r=[i.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,r){var n=e.Deferred(),o=n.promise();return i=i||this.options.context||o,t===!0?n.resolveWith(i,r):t===!1&&n.rejectWith(i,r),o.abort=n.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,i){var r=this,n=function(t){return e.Deferred().resolveWith(r,t).promise()};i.process=function(t,o){return(t||o)&&(i._processQueue=this._processQueue=(this._processQueue||n([this])).pipe(function(){return i.errorThrown?e.Deferred().rejectWith(r,[i]).promise():n(arguments)}).pipe(t,o)),this._processQueue||n([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},i.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),r=i&&i.length>1&&parseInt(i[1],10);return r&&r+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var r,n,o=this,s=t.files[0],a=s.size,l=t.uploadedBytes,p=t.maxChunkSize||a,u=this._blobSlice,d=e.Deferred(),h=d.promise();return!(!(this._isXHRUpload(t)&&u&&(l||p<a))||t.data)&&(!!i||(l>=a?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(n=function(){var i=e.extend({},t),h=i._progress.loaded;i.blob=u.call(s,l,l+p,s.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+a,o._initXHRData(i),o._initProgressListener(i),r=(o._trigger("chunksend",null,i)!==!1&&e.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(r,s,p){l=o._getUploadedBytes(p)||l+i.chunkSize,h+i.chunkSize-i._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=r,i.textStatus=s,i.jqXHR=p,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),l<a?n():d.resolveWith(i.context,[r,s,p])}).fail(function(e,t,r){i.jqXHR=e,i.textStatus=t,i.errorThrown=r,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),d.rejectWith(i.context,[e,t,r])})},this._enhancePromise(h),h.abort=function(){return r.abort()},n(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,r,n){var o=n._progress.total,s=n._response;n._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),n),s.result=n.result=t,s.textStatus=n.textStatus=i,s.jqXHR=n.jqXHR=r,this._trigger("done",null,n)},_onFail:function(e,t,i,r){var n=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),n.jqXHR=r.jqXHR=e,n.textStatus=r.textStatus=t,n.errorThrown=r.errorThrown=i,this._trigger("fail",null,r)},_onAlways:function(e,t,i,r){this._trigger("always",null,r)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var r,n,o,s,a=this,l=a._getAJAXSettings(i),p=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,r=r||((n||a._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&a._getXHRPromise(!1,l.context,n)||a._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){a._onDone(e,t,i,l)}).fail(function(e,t,i){a._onFail(e,t,i,l)}).always(function(e,t,i){if(a._onAlways(e,t,i,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var r=a._slots.shift();r;){if("pending"===a._getDeferredState(r)){r.resolve();break}r=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),s=o.pipe(p)):(this._sequence=this._sequence.pipe(p,p),s=this._sequence),s.abort=function(){return n=[void 0,"abort","abort"],r?r.abort():(o&&o.rejectWith(l.context,n),p())},this._enhancePromise(s)):p()},_onAdd:function(t,i){var r,n,o,s,a=this,l=!0,p=e.extend({},this.options,i),u=i.files,d=u.length,h=p.limitMultiFileUploads,c=p.limitMultiFileUploadSize,f=p.limitMultiFileUploadSizeOverhead,g=0,_=this._getParamName(p),m=0;if(!c||d&&void 0!==u[0].size||(c=void 0),(p.singleFileUploads||h||c)&&this._isXHRUpload(p))if(p.singleFileUploads||c||!h)if(!p.singleFileUploads&&c)for(o=[],r=[],s=0;s<d;s+=1)g+=u[s].size+f,(s+1===d||g+u[s+1].size+f>c||h&&s+1-m>=h)&&(o.push(u.slice(m,s+1)),n=_.slice(m,s+1),n.length||(n=_),r.push(n),m=s+1,g=0);else r=_;else for(o=[],r=[],s=0;s<d;s+=h)o.push(u.slice(s,s+h)),n=_.slice(s,s+h),n.length||(n=_),r.push(n);else o=[u],r=[_];return i.originalFiles=u,e.each(o||u,function(n,s){var p=e.extend({},i);return p.files=o?s:[s],p.paramName=r[n],a._initResponseObject(p),a._initProgressObject(p),a._addConvenienceMethods(t,p),l=a._trigger("add",e.Event("add",{delegatedEvent:t}),p)}),l},_replaceFileInput:function(t){var i=t.fileInput,r=i.clone(!0);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),i.after(r).detach(),e.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?r[0]:t}),i[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,i){var r,n=this,o=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},a=function(e){n._handleFileTreeEntries(e,i+t.name+"/").done(function(e){o.resolve(e)}).fail(s)},l=function(){r.readEntries(function(e){e.length?(p=p.concat(e),l()):a(p)},s)},p=[];return i=i||"",t.isFile?t._file?(t._file.relativePath=i,o.resolve(t._file)):t.file(function(e){e.relativePath=i,o.resolve(e)},s):t.isDirectory?(r=t.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,i){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,r,n=t.prop("webkitEntries")||t.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(r=t.prop("value"),!r)return e.Deferred().resolve([]).promise();i=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(n){r.files=n,i.options.replaceFileInput&&i._replaceFileInput(r),i._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&i._onAdd(t,r)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&r.files.push(i)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,r=t.dataTransfer,n={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){n.files=r,i._trigger("drop",e.Event("drop",{delegatedEvent:t}),n)!==!1&&i._onAdd(t,n)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var r=e.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers(),this._super(t,i),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,r=this.element.data();e.each(this.element[0].attributes,function(e,n){var o,s=n.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=r[s],t._isRegExpOption(s,o)&&(o=t._getRegExp(o)),i[s]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,r,n=this,o=e.Deferred(),s=o.promise();return s.abort=function(){return r=!0,i?i.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!r){if(!e.length)return void o.reject();t.files=e,i=n._onSend(null,t),i.then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})});
!function(t){var e=function(){};t.extend(e.prototype,{bowknot:{version:"0.0.0.9",author:"lly219@gmail.com"},getDate:function(t,e){var a=new Date(t),i=a.getFullYear().toString().substr(2,2),s=a.getMonth()+1,n=a.getDate(),l=a.getHours(),o=a.getSeconds(),d=a.getMinutes();switch(e){case void 0:return s+"/"+n+"/"+i;case 1:return s+"/"+n+"/"+i+" "+l+":"+d+":"+o;default:return!1}}}),t.bowknot=new e}(jQuery),function(t){t.fn.extend({paginate:{version:"0.0.0.8",author:"lly219@gmail.com"}});var e=(new Date).getTime(),a="paginate",i=function(){this._defaults={styleClass:{pageCountClass:"paginate-pageCount",goPageClass:"paginate-goPage",inputPageClass:"paginate-inputPage",goPageHoverClass:"paginate-goPageHover",prePageClass:"paginate-prePage",nextPageClass:"paginate-nextPage",prePageDisableClass:"paginate-prePageDisable",nextPageDisableClass:"paginate-nextPageDisable",prePageHoverClass:"paginate-prePageHover",nextPageHoverClass:"paginate-nextPageHover",paginateClass:"paginate-paginate"}}};t.extend(i.prototype,{_attach:function(e,i){e.id||(this.uuid++,e.id="dp"+this.uuid);var s=this._newInst(t(e));s.settings=t.extend({errorMessage:"input error!"},i||{}),t.data(e,a,s),this._init(e)},_newInst:function(t){var e=t[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1");return{id:e}},_getInst:function(e){try{return t.data(e,a)}catch(t){throw"Missing instance data for this paginate"}},_init:function(e){var a=this._getInst(e),i=a.id,s=a.settings;t("#"+i).html("<div id='"+i+"Paginate' class='"+this._getDefaults(t.paginate._defaults,s,"styleClass").paginateClass+"'></div>"),this._build(e)},_build:function(e){var a=this._getInst(e),i=a.id,s=a.settings,n=this._getDefaults(this._defaults,s,"styleClass"),l=s.pageCount,o=s.currentPage,d="<$tagStart class='button paginate-page'>                <span class='button-left'></span>                <span class='button-bg'>"+s.previousPageText+"</span>                <span class='button-right'></span>            </$tagEnd>",r="<$tagStart class='button paginate-page'>                <span class='button-left'></span>                <span class='button-bg'>"+s.nextPageText+"</span>                <span class='button-right'></span>            </$tagEnd>",c="",u="<span class='"+n.pageCountClass+"'>"+o+"/"+l+"</span>",h="<div class='button'>                <span class='button-left'></span>                <span class='button-bg'>                    <input class='"+n.inputPageClass+"' id='"+i+"PaginateInput'/>                </span>                <span class='button-right'></span>            </div>            <a href='javascript:void(0);' class='button' id='"+i+"PaginateSubmit'>                <span class='button-left'></span>                <span class='button-bg'>"+s.goText+"</span>                <span class='button-right'></span>            </a>";switch(d=1===o||0===o?d.replace("$tagStart","div").replace("$tagEnd","div"):d.replace("$tagStart","a href='javascript:void(0)'").replace("$tagEnd","a"),r=o!==l?r.replace("$tagStart","a href='javascript:void(0)'").replace("$tagEnd","a"):r.replace("$tagStart","div").replace("$tagEnd","div"),s.type){case"taobao":var g=this._getTaobaoPages(o,l),p="";h="";for(var f=0;f<g.length;f++)p=o===g[f].pageNum?" pagination-current-page":"",c+="<span data-page='"+g[f].pageNum+"' class='pagination-pages"+p+"'>"+g[f].text+"</span>";break;case"custom":for(var g=s.custom,p="",f=0;f<g.length;f++)p=o===g[f]?" pagination-current-page":"",c+="<span data-page='"+g[f]+"' class='pagination-pages"+p+"'>"+g[f]+"</span>"}1===l?t("#"+i+"Paginate").html(u):t("#"+i+"Paginate").html(d+c+r+u+h),this._bindEvent(e)},_getTaobaoPages:function(t,e){var a=[],i=2,s=4,n=3,l=0,o=0,d=0;for(t>=s?(n=t-Math.ceil(s/2),o=t+Math.ceil(s/2)+1,l=o<e?o:e):t<s&&(o=t+Math.ceil(s/2)+1,l=o<e?o:e),n<3&&(n=3),i=n;i<=l;i++)a.push({pageNum:i,text:i});for(n>3&&(d=2+(n-2),a.unshift({pageNum:d,text:"..."})),i=e<2?0===t?0:1:2;i>=1;i-=1)a.unshift({pageNum:i,text:i});return l<e&&(d=l+Math.ceil(s/2),d>e&&(d=e),a.push({pageNum:d,text:"..."})),a},_bindEvent:function(e){var a=this._getInst(e),i=a.id;t("#"+i+"PaginateInput").bind("keypress",{target:e},function(e){13===e.keyCode&&t.paginate._goToPageAction(e)}),t("#"+i+"Paginate .pagination-pages").bind("click",{target:e,isPage:!0},function(e){t.paginate._goToPageAction(e)}),t("#"+i+"PaginateSubmit").bind("click",{target:e},this._goToPageAction),t("#"+i+"Paginate a.paginate-page").bind("click",{target:e,isPage:!0},function(e){t.paginate._goToPageAction(e)})},_goToPageAction:function(e){var a=e.data.target,i=t.paginate._getInst(a),s=i.id,n=i.settings,l=t("#"+s+"PaginateInput").val();if(e.data.isPage){l=n.currentPage;var o=t(e.target).closest("a").text();t.trim(o)===n.previousPageText?l--:t.trim(o)===n.nextPageText?l++:l=parseInt(t(e.target).data("page"))}if(n.currentPage!==l){var d=/^[0-9]*[1-9][0-9]*$/;l>0&&l<=n.pageCount&&d.test(l)?n.bind(l):(n.bind(l,n.errorMessage),t("#"+s+"PaginateInput").val(""))}},_updatePaginate:function(e,a){a&&t.extend(this._getInst(e).settings,a),this._build(e)},_getDefaults:function(t,e,a){if("styleClass"===a){if("default"===e.theme||void 0===e.theme)return t.styleClass;e.styleClass={};for(var i in t[a])e.styleClass[i]=e.theme+"-"+t.styleClass[i]}else{if("height"===a&&"auto"!==e[a]||"width"===a)return null===e[a]||void 0===e[a]?t[a]+"px":e[a]+"px";if(null===e[a]||void 0===e[a])return t[a]}return e[a]},_destroyPaginate:function(){}}),t.fn.paginate=function(e){var a=Array.prototype.slice.call(arguments);return"string"==typeof e?(a.shift(),t.paginate["_"+e+"Paginate"].apply(t.paginate,[this[0]].concat(a))):this.each(function(){t.paginate._attach(this,e)})},t.paginate=new i,window["DP_jQuery_"+e]=t}(jQuery),function(t){t.fn.extend({table:{version:"0.0.1.0",author:"lly219@gmail.com"}});var e=(new Date).getTime(),a="table",i=function(){this._defaults={styleClass:{lineSelectedClass:"table-lineSelected",mainClass:"table-main",bodyClass:"table-body",headerClass:"table-header",lineHoverClass:"table-lineHover",sortClass:"table-sort",sortASCClass:"table-sortASC",sortDESCClass:"table-sortDESC",sortUnASCClass:"table-sortUnactiveASC",sortUnDESCClass:"table-sortUnactiveDESC",oddRowClass:"table-oddRow",evenRowClass:"table-evenRow",subTitleClass:"table-subTitle",subTitleHoverClass:"table-subTitleHover",subTitleShowClass:"table-subTitleShow",subTitleHideClass:"table-subTitleHide",expendRowClass:"table-expendRow",hasExpendClass:"table-hasExpend"}}};t.extend(i.prototype,{_attach:function(e,i){e.id||(this.uuid++,e.id="dp"+this.uuid);var s=this._newInst(t(e));s.settings=t.extend({length:0,noDataTip:"no data!",selectedRows:[]},i||{}),t.data(e,a,s),this._init(e)},_newInst:function(t){var e=t[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1");return{id:e}},_getInst:function(e){try{return t.data(e,a)}catch(t){throw"Missing instance data for this table"}},_init:function(e){var a=this._getInst(e),i=a.settings;t(e).html("<div class='"+this._getDefaults(this._defaults,i,"styleClass").mainClass+"' id='"+a.id+"Table'></div>"),this._build(e)},_build:function(e){var a=this._getInst(e),i=a.settings,s=a.id,n=this._getDefaults(this._defaults,i,"styleClass"),l="<div id='"+s+"TableHeader' class='"+n.headerClass+"'></div><div id='"+s+"TableMain' class='"+n.bodyClass+"' style='height:"+(i.height?i.height+"px":"auto")+"'></div>";t("#"+s+"Table").html(l),this._buildHeader(e),i.data&&(this._buildBody(e),this._bindEvent(e))},_buildHeader:function(a){for(var i=this._getInst(a).settings,s=i.colModel,n=this._getInst(a).id,l="<table cellpadding='0' cellspacing='0' style='width:100%'><tr>",o=0;o<s.length;o++){var d=n+"_"+s[o].index;l+=s[o].minWidth?"<th style='min-width:"+s[o].minWidth+"px;'>":"<th style='width:"+s[o].width+"px;'>",l+="checkbox"===s[o].type?s[o].isLabel?s[o].text:"<input id='"+d+"' onclick=\"DP_jQuery_"+e+".table._selectHeaderCheckbox(this);\" type='checkbox'/></th>":"<span id='"+d+"'>"+s[o].text?s[o].text:"</span></th>"}t("#"+n+"TableHeader").html(l+"</tr></table>")},_buildBody:function(e){for(var a=this._getInst(e).id,i=this._getInst(e).settings,s=i.data,n=this._getDefaults(this._defaults,i,"styleClass"),l="",o=0;o<s.length;o++)"all"!==s[o].groupName&&(l+="<div  id='"+a+"SubTitle"+o+"'class='"+n.subTitleClass+"'><div class='left "+n.subTitleShowClass+"'></div><div class='left'>"+s[o].groupName+"</div><div class='clear'></div></div>"),l+="<table id="+a+"SubTable"+o+" style='width:100%;' cellpadding='0' cellspacing='0'>"+this._buildData(e,s[o].groupData,o)+"</table>";t("#"+a+"TableMain").html(l)},_buildData:function(a,i,s){for(var n=this._getInst(a).id,l=this._getInst(a).settings,o=l.colModel,d=this._getDefaults(this._defaults,l,"styleClass"),r="",c=0;c<i.length;c++){var u=i[c],h="<tbody class='$CLASS'>",g="<tr>",p=d.oddRowClass;c%2===1&&(p=d.evenRowClass),l.expendRow&&(g='<tr class="'+d.hasExpendClass+'">'),u.uuuid=l.length++;for(var f=0;f<o.length;f++){var v=o[f].index,_=u[v],b=o[f].align?"text-align:"+o[f].align+";":"";if(void 0!==_&&null!==_&&""!==t.trim(_)||(_="&nbsp;"),0===c&&(b+=o[f].minWidth?"min-width:"+o[f].minWidth+"px;":"width:"+o[f].width+"px;"),g+="<td style='"+b+"'>",o[f].type){var m="",y="",C="",w=n+"_"+v+"_"+s+"_"+c;u[v].value&&(y="checked='checked'",h=h.replace("$CLASS",d.lineSelectedClass+" "+p),l.selectedRows.push(u)),u[v].disabled&&(C="disabled='disabled'"),m="<input name='"+n+"_"+v+"' id='"+w+"' type='"+o[f].type+"' onclick=\"DP_jQuery_"+e+'.table._selectCheckbox(this);" '+y+" "+C+"/>",_=m}o[f].style&&(_="<div style='"+o[f].style+"'>"+_+"</div>"),g+=_+"</td>"}if(r+=h.replace("$CLASS",p)+g+"</tr>",l.expendRow){var x=u[l.expendRow.index];void 0===x&&(x=""),r+="<tr class='none "+d.expendRowClass+" "+p+"'><td colspan='"+o.length+"'>"+x+"</td></tr>"}r+="</tbody>"}return 0===i.length&&(r="<tbody><tr><td align='center' colspan='"+o.length+"'>"+l.noDataTip+"</td></tr></tbody>"),r},_bindEvent:function(e){for(var a=this._getInst(e),i=a.id,s=a.settings,n=a.settings.colModel,l=this._getDefaults(this._defaults,s,"styleClass"),o=s.data,d=0;d<o.length;d++){"all"!==o[0].groupName&&t("#"+i+"SubTitle"+d).click(function(){var e=t(this).find("div")[0];e.className.indexOf(l.subTitleShowClass)!=-1?(e.className=e.className.replace(l.subTitleShowClass,l.subTitleHideClass),t(this).next().hide()):(e.className=e.className.replace(l.subTitleHideClass,l.subTitleShowClass),t(this).next().show())}).mouseover(function(){this.className=l.subTitleHoverClass}).mouseout(function(){this.className=l.subTitleClass});for(var r=s.bind?s.bind:[],c=o[d].groupData,u=0;u<c.length;u++){for(var h=t(t("#"+i+"SubTable"+d+" tbody")[u]),g=0;g<r.length;g++)h.bind(r[g].type,{groupData:c[u],bindNum:g},function(t){r[t.data.bindNum].action(t,t.data.groupData)});h.mouseover(function(){t(this).hasClass(l.lineHoverClass)||(t("#"+i+" tbody").each(function(){t(this).removeClass(l.lineHoverClass),2===t(this).find("tr").length&&(t(this).find("tr")[1].style.display="none")}),t(this).addClass(l.lineHoverClass),2===t(this).find("tr").length&&(t.browser.msie?t.browser.version>7&&(t(this).find("tr")[1].style.display="block"):t(this).find("tr")[1].style.display="table-row"))});for(var p=0;p<n.length;p++)if(n[p].bind)for(var f=n[p].bind,v=0;v<f.length;v++)t(h.find("td")[p]).bind(f[v].type,{groupData:c[u],bindNum:v,colNum:p},function(t){n[t.data.colNum].bind[t.data.bindNum].action(t,t.data.groupData)})}}},_selectHeaderCheckbox:function(e){for(var i=e.id.split("_")[0],s=e.id.split("_")[1],n=t("#"+i).data(a).settings,l=n.data,o=this._getDefaults(this._defaults,n,"styleClass"),d=0;d<l.length;d++)for(var r=l[d].groupData,c=0;c<r.length;c++){var u=t("#"+i+"_"+s+"_"+d+"_"+c);u.prop("disabled")===!1&&(e.checked?n.selectedRows.push(r[c]):n.selectedRows.splice(c,1),u.prop("checked",e.checked))}e.checked?t("#"+i+"TableMain tbody").addClass(o.lineSelectedClass):t("#"+i+"TableMain tbody").removeClass(o.lineSelectedClass),t.unique(n.selectedRows)},_selectCheckbox:function(e){var i=e.id.split("_")[0],s=e.id.split("_")[1],n=e.id.split("_")[2],l=e.id.split("_")[3],o=t("#"+i).data(a).settings,d=o.data,r=this._getDefaults(this._defaults,o,"styleClass"),c=t("#"+i+"_"+s),u=t(t("#"+i+"SubTable"+n+" tbody")[l]);if(e.checked)u.addClass(r.lineSelectedClass),o.selectedRows.push(d[n].groupData[l]);else{u.removeClass(r.lineSelectedClass);for(var h in o.selectedRows)o.selectedRows[h].uuuid===d[n].groupData[l].uuuid&&o.selectedRows.splice(h,1)}o.selectedRows.length===o.length?c.prop("checked",!0):c.prop("checked",!1)},_getRow:function(e,a,i){var s={};for(var n in a){var l=a[n].groupData;for(var o in l)i===l[o].uuuid&&(s.data=l[o],s.$row=t(t("#"+e+"SubTable"+n+" tbody")[o]))}return s},_getDefaults:function(t,e,a){if("styleClass"===a){if("default"===e.theme||void 0===e.theme)return t.styleClass;e.styleClass={};for(var i in t[a])e.styleClass[i]=e.theme+"-"+t.styleClass[i]}else if(null===e[a]||void 0===e[a])return t[a];return e[a]},_strToInt:function(t){return!!t&&parseInt(t.substring(0,t.length-2))},_updateTable:function(e,a,i){var s=this._getInst(e),n=s.id,l=s.settings;if(i){var o=l.data,d=l.colModel,r=this._getRow(n,o,a);t.extend(r.data,i);for(var c=0;c<d.length;c++)if("checkbox"!==d[c].type){var u=d[c].index;r.$row.find("td")[c].innerHTML=r.data[u]?r.data[u]:"&nbsp;"}l.expendRow&&t(r.$row.find("tr")[1]).find("td").html(i[l.expendRow.index]?i[l.expendRow.index]:"&nbsp;")}else if(a.height){var h=a.height;t("#"+n+"TableMain").height(h),l.height=h}else l.data=a.data,this._build(e)},_getRowsTable:function(t,e,a){var i=this._getInst(t),s=i.settings;if(!e)return s.selectedRows;for(var n=[],l=0;l<s.data.length;l++){var o=s.data[l].groupData;for(var d in o)o[d][e]===a&&n.push(o[d])}return n},_destroyTable:function(e){var i=this._getInst(e);t.removeData(e,a),t("#"+i.id).remove()},_selectedTable:function(e,a){var i=this._getInst(e),s=i.id,n=i.settings,l=i.settings.data,o=this._getDefaults(this._defaults,n,"styleClass");for(var d in l){var r=l[d].groupData;for(var c in r)if(a===r[c].uuuid){n.selectedRows.push(r[c]),t.unique(n.selectedRows);var u=t(t("#"+s+"SubTable"+d+" tbody")[c]);u.addClass(o.lineSelectedClass),u.find("input").prop("checked",!0)}}},_unSelectedTable:function(e,a){var i=this._getInst(e),s=i.id,n=i.settings,l=i.settings.data,o=this._getDefaults(this._defaults,n,"styleClass");for(var d in l){var r=l[d].groupData;for(var c in r)if(a===r[c].uuuid){for(var u=n.selectedRows,h=0;h<u.length;h++)u[h].uuuid===a&&u.splice(h,1);var g=t(t("#"+s+"SubTable"+d+" tbody")[c]);g.removeClass(o.lineSelectedClass),g.find("input").prop("checked",!1)}}}}),t.fn.table=function(e){var a=Array.prototype.slice.call(arguments);return"string"==typeof e?(a.shift(),t.table["_"+e+"Table"].apply(t.table,[this[0]].concat(a))):this.each(function(){t.table._attach(this,e)})},t.table=new i,window["DP_jQuery_"+e]=t}(jQuery),function(t){t.fn.extend({dialog:{version:"0.0.1.7",author:"lly219@gmail.com"}});var e=(new Date).getTime(),a="dialog",i=function(){this._defaults={styleClass:{background:"dialog-background",panel:"dialog-panel",main:"dialog-main",footer:"dialog-footer",headerMiddle:"dialog-header-middle",headerBg:"dialog-header-bg",closeIcon:"dialog-close-icon",closeIconHover:"dialog-close-icon-hover",title:"dialog-title"}}};t.extend(i.prototype,{_attach:function(e,i){e.id||(this.uuid++,e.id="dp"+this.uuid);var s=this._newInst(t(e));s.settings=t.extend({},i||{}),t.data(e,a,s),this._init(e)},_newInst:function(t){var e=t[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1");return{id:e}},_getInst:function(e){try{return t.data(e,a)}catch(t){throw"Missing instance data for this dialog"}},_destroyDialog:function(e){var i=t.dialog._getInst(e),s=i.id;t.removeData(e,a),t(e).prependTo("#"+s+"Wrap").unwrap(),t(e).removeAttr("style");var n=this._getDefaults(t.dialog._defaults,i.settings,"styleClass");t("."+n.background).remove(),t("#"+s+"Dialog").remove()},_init:function(e){var a=this._getInst(e),i=a.id,s=a.settings,n=t(window).height(),l=t(window).width(),o=this._getDefaults(t.dialog._defaults,s,"styleClass"),d=s.height?s.height:parseInt(.6*n),r=s.width?s.width:parseInt(.6*l);s.title=s.title?s.title:"",s.okText=s.okText?s.okText:"Ok",s.cancelText=s.cancelText?s.cancelText:"Cancel";var c="",u="<div class='"+o.headerBg+"'><div class='"+o.title+"'>"+s.title+"</div><a href='javascript:void(0);' class='"+o.closeIcon+"'></a></div>";s.hideFooter||(c="<a href='javascript:void(0);'>"+s.okText+"</a><a href='javascript:void(0);'>"+s.cancelText+"</a>");var h="<div id='"+i+"Dialog' class='"+o.panel+"' style='width: "+(r+26)+"px;' onselectstart='return false;'>"+u+"<div class='"+o.main+"'><div style='overflow: auto; height: "+d+"px;'></div><div class='"+o.footer+"'>"+c+"</div></div>",g="";if(s.modal&&0===t("."+o.background).length){var p=n<document.documentElement.scrollHeight?document.documentElement.scrollHeight:n;g="<div style='height:"+p+"px;' class='"+o.background+"'></div>"}t("#"+i).wrap("<div id='"+i+"Wrap'></div>");var f=t(e).clone(!0);t(e).remove(),t("body").append(g+h),t(t("#"+i+"Dialog ."+o.main+" div").get(0)).append(f),t(f).show();var v="",_="",b=t("#"+i+"Dialog");s.position?(v=s.position.top,_=s.position.left):(v=parseInt((n-d)/2),_=parseInt((l-r)/2)),b.css({top:v+"px",left:_+"px"}),t("#"+i+"Dialog ."+o.closeIcon).bind("click",function(){t.dialog._close(i,s)});var m=t("#"+i+"Dialog ."+o.footer+" a");t(m.get(1)).bind("click",function(){t.dialog._close(i,s)}),t(m.get(0)).bind("click",function(){(void 0===s.ok||s.ok())&&t.dialog._close(i,s)}),this._bindMove(i,o.headerBg,d,r),t(window).keyup(function(e){27===e.keyCode&&t.dialog._close(i,s)})},_bindMove:function(e,a){t("#"+e+"Dialog ."+a).mousedown(function(a){var i=document;a||(a=window.event);var s=document.getElementById(e+"Dialog"),n=a.clientX-parseInt(s.style.left),l=a.clientY-parseInt(s.style.top);i.ondragstart="return false;",i.onselectstart="return false;",i.onselect="document.selection.empty();",this.setCapture?this.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),i.onmousemove=function(e){e||(e=window.event);var a=e.clientX-n,i=e.clientY-l;a<0&&(a=0),a>t(window).width()-t(s).width()&&(a=t(window).width()-t(s).width()),i<0&&(i=0),i>t(window).height()-t(s).height()&&(i=t(window).height()-t(s).height()),s.style.left=a+"px",s.style.top=i+"px"},i.onmouseup=function(){this.releaseCapture?this.releaseCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),i.onmousemove=null,i.onmouseup=null,i.ondragstart=null,i.onselectstart=null,i.onselect=null}})},_close:function(e,a){if("none"!==t("#"+e+"Dialog").css("display")&&(void 0===a.close||a.close())&&(t("#"+e+"Dialog").hide(),a.modal)){var i=this._getDefaults(t.dialog._defaults,a,"styleClass");t("."+i.background).hide()}},_closeDialog:function(e){var a=this._getInst(e),i=a.id,s=a.settings;t.dialog._close(i,s)},_openDialog:function(e){var a=this._getInst(e),i=a.id,s=a.settings;if(t("#"+i+"Dialog").show(),s.modal){var n=this._getDefaults(t.dialog._defaults,s,"styleClass");t("."+n.background).show()}},_updateDialog:function(e,a){var i=this._getInst(e),s=i.id,n=i.settings,l=this._getDefaults(t.dialog._defaults,n,"styleClass");t.extend(n,a);var o=t("#"+s+"Dialog");a.position&&o.css({top:a.position.top,left:a.position.left}),a.width&&(o.width(a.width+26),o.find("."+l.main+" div")[0].style.width=a.width+"px",o.find("."+l.headerBg).width(a.width+18)),a.height&&(o.find("."+l.main+" div")[0].style.height=a.height+"px"),a.title&&o.find("."+l.title).html(a.title),void 0!==a.modal&&(a.modal?t("."+l.background).show():t("."+l.background).hide()),void 0!==a.hideFooter&&(a.hideFooter?o.find("."+l.footer).hide():o.find("."+l.footer).show())},_getDefaults:function(t,e,a){if("styleClass"===a){if("default"===e.theme||void 0===e.theme)return t.styleClass;e.styleClass={};for(var i in t[a])e.styleClass[i]=e.theme+"-"+t.styleClass[i]}else{if("height"===a||"width"===a)return null===e[a]||void 0===e[a]?"auto":e[a]+"px";if(null===e[a]||void 0===e[a])return t[a]}return e[a]}}),t.fn.dialog=function(e){var a=Array.prototype.slice.call(arguments);return"string"==typeof e?(a.shift(),t.dialog["_"+e+"Dialog"].apply(t.dialog,[this[0]].concat(a))):this.each(function(){t.dialog._attach(this,e)})},t.dialog=new i,window["DP_jQuery_"+e]=t}(jQuery),function(t){var e=(new Date).getTime(),a="completed",i=function(){this._defaults={styleClass:{panelClass:"completed-panel",inputClass:"completed-input",ckClass:"completed-ck"},separator:","},this._settingsDataFormat={}};t.extend(i.prototype,{_attach:function(e,i){e.id||(this.uuid++,e.id="dp"+this.uuid);var s=this._newInst(t(e));s.settings=t.extend({buttonText:"选择"},i||{}),t.data(e,a,s),this._init(e)},_newInst:function(t){var e=t[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1");return{id:e}},_getInst:function(e){try{return t.data(e,a)}catch(t){throw"Missing instance data for this completed"}},_destroyCompleted:function(){},_init:function(e){var a=this._getInst(e),i=a.id,s=a.settings;this._buildHTML(i,s),t(document).click(function(e){e.target.id!==i&&t("#"+i+"SelectedPanel").hide()}),this._buildCheckboxPanel(i,s.data)},_buildHTML:function(e,a){var i=a.height+"px",s=this._getDefaults(t.completed._defaults,a,"styleClass"),n=t("#"+e),l="<button onclick=\"$('#"+e+"CheckboxPanel').toggle()\">"+a.buttonText+"</button><div id='"+e+"SelectedPanel' class='"+s.panelClass+"' style='height:"+i+";'></div><div class='none "+s.ckClass+"' id='"+e+"CheckboxPanel'><div>";a.data.sort(),n.after(l).bind("keyup",{settings:a},this._keyupAction).bind("keydown",function(t){a.chinese=t.keyCode}).addClass(s.inputClass).width(n.width()-78);var o=t("#"+e+"SelectedPanel");a.tipNum=0,o.width(n.width()+2)},_keyupAction:function(e){var a=e.data.settings,i=t.completed._getCurrentWord(this,a);if(""===i.currentWord||27===e.keyCode||16===e.keyCode||16===e.keyCode)return t("#"+this.id+"SelectedPanel").hide(),void(a.tipNum=0);var s=t.completed._getMatchData(a.data,this.value,i.currentWord);if(38===e.keyCode&&(a.tipNum>0?a.tipNum--:a.tipNum=s.length-1),40===e.keyCode&&(a.tipNum<s.length-1?a.tipNum++:a.tipNum=0),t.completed._buildSelectedPanel(this.id,s,a,i.currentWord),13===e.keyCode&&s[a.tipNum]&&229!==a.chinese){var n=this.value;this.value=n.substring(0,i.startPos)+s[a.tipNum]+n.substring(i.endPos,n.length),t("#"+this.id+"SelectedPanel").hide(),a.chinese=void 0}38!==e.keyCode&&40!==e.keyCode&&(a.tipNum=0)},_getCurrentWord:function(e,a){var i=t(e).val(),s=!0,n=0,l=0,o=t.completed._defaults.separator;if(""===i)return{currentWord:"",startPos:l,endPos:n};if(document.selection)try{var d=document.selection.createRange(),r=e.createTextRange();r.collapse(!0),r.select();var c=document.selection.createRange();c.setEndPoint("EndToEnd",d),a.curPos=c.text.length,d.select()}catch(t){delete t}else a.curPos=e.selectionStart;for(var u=a.curPos,h=0;h<i.length;h++)i.charAt(h)===o&&h>=u&&s&&(n=h,s=!1);s===!0&&(s=!1,n=i.length);for(var g=n;g>-1;g--)i.charAt(g)===o&&g<u&&!s&&(l=g+1,s=!0);return{currentWord:i.substring(l,n),startPos:l,endPos:n}},_getMatchData:function(e,a,i){for(var s=a.split(t.completed._defaults.separator),n=[],l=0;l<e.length;l++)if("number"==typeof e[l]&&(e[l]=e[l].toString()),e[l].toLowerCase().indexOf(i.toLowerCase())>-1){for(var o=!0,d=0;d<s.length;d++)e[l]===s[d].toString()&&e[l].toLowerCase()!==i.toLowerCase()&&(o=!1);o&&n.push(e[l])}return n},_mousemoveSelectPanel:function(e,a,i){t(e).parent().find("a").removeClass("selected"),e.className="selected";var s=t.completed._getInst(document.getElementById(i));s.settings.tipNum=a},_buildSelectedPanel:function(e,a,i,s){var n=t("#"+e+"SelectedPanel");if(0===a.length)return void n.html("").hide();i.tipNum>=a.length&&(i.tipNum=0);for(var l="",o=0;o<a.length;o++){var d="",r=a[o].replace(s,"<b>"+s+"</b>");i.tipNum===o&&(d="class='selected'"),l+="<a href='javascript:void(0);'                                         onmousemove=\"$.completed._mousemoveSelectPanel(this, "+o+", '"+e+"');\"                                        "+d+">"+r+"</a>"}n.html(l).show();var c=t("#"+e+"SelectedPanel a.selected");c.position().top+n.scrollTop()>50-c.height()&&n.scrollTop(c.position().top+n.scrollTop()+c.height()-50),c.position().top<0&&n.scrollTop(n.scrollTop-c.height()),t("#"+e+"SelectedPanel a").click(function(){var a=document.getElementById(e),s=t.completed._getCurrentWord(document.getElementById(e),i),n=t.completed._getMatchData(i.data,a.value,s.currentWord),l=a.value;a.value=l.substring(0,s.startPos)+n[i.tipNum]+l.substring(s.endPos,l.length),i.tipNum=0,t(a).focus()})},_buildCheckboxPanel:function(e,a){for(var i="",s=t("#"+e),n=0;n<a.length;n++)i+="<span>"+a[n]+"</span>";t("#"+e+"CheckboxPanel").html(i+"<div class='clear'></div>"),t("#"+e+"CheckboxPanel span").click(function(){var t=s.val(),e=this.innerHTML;if("selected"===this.className){this.className="";var a=t.substr(t.indexOf(e)+e.length,1);e===t||","!==a?s.val(t.replace(e,"")):s.val(t.replace(e+",",""))}else this.className="selected",""===t.replace(/\s/g,"")||","===t.substr(t.length-1,1)?s.val(t+e):s.val(t+","+e)}),this._matchChecked(e),s.blur(function(){t.completed._matchChecked(e)})},_matchChecked:function(e){var a=t("#"+e).val().split(",");t("#"+e+"CheckboxPanel span").removeClass().each(function(){for(var t=0;t<a.length;t++)this.innerHTML===a[t]&&(this.className="selected")})},_getDefaults:function(t,e,a){if("styleClass"===a){if("default"===e.theme||void 0===e.theme)return t.styleClass;e.styleClass={};for(var i in t[a])e.styleClass[i]=e.theme+"-"+t.styleClass[i]}else{if("height"===a||"width"===a)return null===e[a]||void 0===e[a]?"auto":e[a]+"px";if(null===e[a]||void 0===e[a])return t[a]}return e[a]}}),t.fn.completed=function(e){var a=Array.prototype.slice.call(arguments);return this.each(function(){"string"==typeof e?t.completed["_"+e+"Completed"].apply(t.completed,[this].concat(a)):t.completed._attach(this,e)})},t.completed=new i,window["DP_jQuery_"+e]=t}(jQuery),function(t){t.fn.extend({tip:{version:"0.0.0.3",author:"lly219@gmail.com"}});var e=(new Date).getTime(),a="tip",i=function(){this._defaults={styleClass:{panel:"tip-panel"}},this._settingsDataFormat={}};t.extend(i.prototype,{_attach:function(e,i){e.id||(this.uuid++,e.id="dp"+this.uuid);var s=this._newInst(t(e));s.settings=t.extend({},i||{}),t.data(e,a,s),this._init(e)},_newInst:function(t){var e=t[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1");return{id:e}},_getInst:function(e){try{return t.data(e,a)}catch(t){throw"Missing instance data for this tip."}},_destroyTip:function(e){t.removeData(e,a),t("#"+e.id+"Panel").remove()},_init:function(e){var a=this._getInst(e),i=a.id,s=a.settings,n="",l=s.className?s.className:this._getDefaults(t.tip._defaults,s,"styleClass").panel;n="<div id='"+i+"Panel' class='"+l+"'>"+s.content+"</div>",t(s.appendId?"#"+s.appendId:"body").append(n),t(e).hover(function(){t.tip._parsePosition(s,e),t("#"+i+"Panel").fadeIn("normal")},function(){t("#"+i+"Panel").fadeOut("normal")})},_optionTip:function(e,a,i){var s=t.tip._getInst(e[0]),n=s.settings;return i&&(n[a]=i,t("#"+e[0].id+"Panel").html(i)),n[a]},_parsePosition:function(e,a){var i="",s=t("#"+a.id+"Panel");if(void 0===e.left&&void 0===e.right&&void 0===e.bottom&&void 0===e.top&&void 0===e.position&&(e.position="bottom"),e.position){var n=t(a);switch(e.position){case"top":i="left: "+parseInt(n.position().left)+"px; top: "+parseInt(n.position().top-s.height()-6-parseInt(n.css("padding-top"))-parseInt(s.css("padding-top")))+"px;";break;case"bottom":i="left: "+parseInt(n.position().left)+"px; top: "+parseInt(n.position().top+n.height())+"px;";break;default:alert("Has no type!")}return void s.attr("style",i)}void 0!==e.left&&(i+="left:"+e.left+"px;"),void 0!==e.top&&(i+="top:"+e.top+"px;"),void 0!==e.bottom&&(i+="bottom:"+e.bottom+"px;"),void 0!==e.right&&(i+="right:"+e.right+"px;"),s.attr("style",i)},_getDefaults:function(t,e,a){if("styleClass"===a){if("default"===e.theme||void 0===e.theme)return t.styleClass;e.styleClass={};for(var i in t[a])e.styleClass[i]=e.theme+"-"+t.styleClass[i]}else{if("height"===a||"width"===a)return null===e[a]||void 0===e[a]?"auto":e[a]+"px";if(null===e[a]||void 0===e[a])return t[a]}return e[a]}}),t.fn.tip=function(e){var a=Array.prototype.slice.call(arguments);return"option"===e?(a.shift(),t.tip["_"+e+"Tip"].apply(t.tip,[this].concat(a))):this.each(function(){"string"==typeof e?t.tip["_"+e+"Tip"].apply(t.tip,[this].concat(a)):t.tip._attach(this,e)})},t.tip=new i,window["DP_jQuery_"+e]=t}(jQuery),function(t){t.fn.extend({tabs:{version:"0.0.1.9",author:"lly219@gmail.com"}});var e=(new Date).getTime(),a="tabs",i=function(){};t.extend(i.prototype,{_attach:function(e,i){e.id||(this.uuid++,e.id="dp"+this.uuid);var s=this._newInst(t(e));s.settings=t.extend({length:0},i||{}),t.data(e,a,s),this._init(e)},_newInst:function(t){var e=t[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1");return{id:e}},_getInst:function(e){try{return t.data(e,a)}catch(t){throw"Missing instance data for this tabs"}},_init:function(e){var a=this._getInst(e),i=a.settings,s=a.id,n=t(e).find("li");i.data=[];for(var l=0,o=0;l<n.length;l++)n[l].children[0].id&&(i.data[o]=n[l].children[0].id.replace(s+"_",""),o++)},_setCurrentTabs:function(e,a){var i=this._getInst(e),s=i.settings,n=i.id;if(!t("#"+n+"_"+a+" a").hasClass("tab-current"))for(var l=s.data,o=0;o<l.length;o++){var d=t("#"+n+"Panel_"+l[o]),r=t("#"+n+"_"+l[o]);a===l[o]?(d.show(),r.find("a").addClass("tab-current")):(d.hide(),r.find("a").removeClass("tab-current"))}},_addTabs:function(e,a){var i=this._getInst(e),s=i.settings,n=i.id;s.data.push(a.id);var l="";l=a.hash?"<a href='"+a.hash+"'>"+a.text+"</a>":"<span>"+a.text+"</span>",t(a.target).before("<li><div id='"+n+"_"+a.id+"'>"+l+"</div></li>"),t("#"+n+"Panel").append("<div id="+n+"Panel_"+a.id+" class='none'>"+a.content+"</div>")},_removeTabs:function(e,a){for(var i=this._getInst(e),s=i.settings.data,n=i.id,l=0;l<s.length;l++)s[l]===a&&s.splice(l,1);t("#"+n+"_"+a).remove(),t("#"+n+"Pabel_"+a).remove()}}),t.fn.tabs=function(e){var a=Array.prototype.slice.call(arguments);return"string"==typeof e?(a.shift(),t.tabs["_"+e+"Tabs"].apply(t.tabs,[this[0]].concat(a))):this.each(function(){t.tabs._attach(this,e)})},t.tabs=new i,window["DP_jQuery_"+e]=t}(jQuery);
!function(e){var t,n=/^\s*|\s*$/g,o="$1"==="B".replace(/A(.)|B/,"$1"),r={majorVersion:"3",minorVersion:"5",releaseDate:"2012-05-03",_init:function(){function t(e){return e.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(e.src)?(/_(src|dev)\.js/g.test(e.src)&&(c.suffix="_src"),(a=e.src.indexOf("?"))!=-1&&(c.query=e.src.substring(a+1)),c.baseURL=e.src.substring(0,e.src.lastIndexOf("/")),i&&c.baseURL.indexOf("://")==-1&&0!==c.baseURL.indexOf("/")&&(c.baseURL=i+c.baseURL),c.baseURL):null}var n,o,r,i,a,s,c=this,l=document,d=navigator,u=d.userAgent;if(c.isOpera=e.opera&&opera.buildNumber,c.isWebKit=/WebKit/.test(u),c.isIE=!c.isWebKit&&!c.isOpera&&/MSIE/gi.test(u)&&/Explorer/gi.test(d.appName),c.isIE6=c.isIE&&/MSIE [56]/.test(u),c.isIE7=c.isIE&&/MSIE [7]/.test(u),c.isIE8=c.isIE&&/MSIE [8]/.test(u),c.isIE9=c.isIE&&/MSIE [9]/.test(u),c.isGecko=!c.isWebKit&&/Gecko/.test(u),c.isMac=u.indexOf("Mac")!=-1,c.isAir=/adobeair/i.test(u),c.isIDevice=/(iPad|iPhone)/.test(u),c.isIOS5=c.isIDevice&&u.match(/AppleWebKit\/(\d*)/)[1]>=534,e.tinyMCEPreInit)return c.suffix=tinyMCEPreInit.suffix,c.baseURL=tinyMCEPreInit.base,void(c.query=tinyMCEPreInit.query);for(c.suffix="",o=l.getElementsByTagName("base"),n=0;n<o.length;n++)s=o[n].href,s&&(/^https?:\/\/[^\/]+$/.test(s)&&(s+="/"),i=s?s.match(/.*\//)[0]:"");for(o=l.getElementsByTagName("script"),n=0;n<o.length;n++)if(t(o[n]))return;if(r=l.getElementsByTagName("head")[0])for(o=r.getElementsByTagName("script"),n=0;n<o.length;n++)if(t(o[n]))return},is:function(e,n){return n?!!("array"==n&&e.hasOwnProperty&&e instanceof Array)||typeof e==n:e!==t},makeMap:function(e,t,n){var o;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},o=e.length;o--;)n[e[o]]={};return n},each:function(e,n,o){var r,i;if(!e)return 0;if(o=o||e,e.length!==t){for(r=0,i=e.length;r<i;r++)if(n.call(o,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&n.call(o,e[r],r,e)===!1)return 0;return 1},map:function(e,t){var n=[];return r.each(e,function(e){n.push(t(e))}),n},grep:function(e,t){var n=[];return r.each(e,function(e){t&&!t(e)||n.push(e)}),n},inArray:function(e,t){var n,o;if(e)for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},extend:function(e,n){var o,r,i,a,s=arguments;for(o=1,r=s.length;o<r;o++){n=s[o];for(i in n)n.hasOwnProperty(i)&&(a=n[i],a!==t&&(e[i]=a))}return e},trim:function(e){return(e?""+e:"").replace(n,"")},create:function(e,t,n){var o,r,i,a,s,c=this,l=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],r=c.createNS(e[3].replace(/\.\w+$/,""),n),!r[i]){if("static"==e[2])return r[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[i]));t[i]||(t[i]=function(){},l=1),r[i]=t[i],c.extend(r[i].prototype,t),e[5]&&(o=c.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[i],l?r[i]=function(){return o[a].apply(this,arguments)}:r[i]=function(){return this.parent=o[a],s.apply(this,arguments)},r[i].prototype[i]=r[i],c.each(o,function(e,t){r[i].prototype[t]=o[t]}),c.each(t,function(e,t){o[t]?r[i].prototype[t]=function(){return this.parent=o[t],e.apply(this,arguments)}:t!=i&&(r[i].prototype[t]=e)})),c.each(t.static,function(e,t){r[i][t]=e}),this.onCreate&&this.onCreate(e[2],e[3],r[i].prototype)}},walk:function(e,t,n,o){o=o||this,e&&(n&&(e=e[n]),r.each(e,function(e,i){return t.call(o,e,i,n)!==!1&&void r.walk(e,t,n,o)}))},createNS:function(t,n){var o,r;for(n=n||e,t=t.split("."),o=0;o<t.length;o++)r=t[o],n[r]||(n[r]={}),n=n[r];return n},resolve:function(t,n){var o,r;for(n=n||e,t=t.split("."),o=0,r=t.length;o<r&&(n=n[t[o]],n);o++);return n},addUnload:function(t,n){function o(){function t(){n.detachEvent("onstop",t),r&&r(),n=0}var n=document;"interactive"==n.readyState&&(n&&n.attachEvent("onstop",t),e.setTimeout(function(){n&&n.detachEvent("onstop",t)},0))}var r,i=this;return r=function(){var t,n,a=i.unloads;if(a){for(n in a)t=a[n],t&&t.func&&t.func.call(t.scope,1);e.detachEvent?(e.detachEvent("onbeforeunload",o),e.detachEvent("onunload",r)):e.removeEventListener&&e.removeEventListener("unload",r,!1),i.unloads=t=a=w=r=0,e.CollectGarbage&&CollectGarbage()}},t={func:t,scope:n||this},i.unloads?i.unloads.push(t):(e.attachEvent?(e.attachEvent("onunload",r),e.attachEvent("onbeforeunload",o)):e.addEventListener&&e.addEventListener("unload",r,!1),i.unloads=[t]),t},removeUnload:function(e){var t=this.unloads,n=null;return r.each(t,function(o,r){if(o&&o.func==e)return t.splice(r,1),n=e,!1}),n},explode:function(e,t){return!e||r.is(e,"array")?e:r.map(e.split(t||","),r.trim)},_addVer:function(e){var t;return this.query?(t=(e.indexOf("?")==-1?"?":"&")+this.query,e.indexOf("#")==-1?e+t:e.replace("#",t+"#")):e},_replace:function(e,n,r){return o?r.replace(e,function(){var e,o=n,r=arguments;for(e=0;e<r.length-2;e++)o=r[e]===t?o.replace(new RegExp("\\$"+e,"g"),""):o.replace(new RegExp("\\$"+e,"g"),r[e]);return o}):r.replace(e,n)}};r._init(),e.tinymce=e.tinyMCE=r}(window),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:!1,Dispatcher:function(e){this.scope=e||this,this.listeners=[]},add:function(e,t){return this.listeners.push({cb:e,scope:t||this.scope}),e},addToTop:function(e,t){var n=this,o={cb:e,scope:t||n.scope};return n.inDispatch?n.listeners=[o].concat(n.listeners):n.listeners.unshift(o),e},remove:function(e){var t=this.listeners,n=null;return tinymce.each(t,function(o,r){if(e==o.cb)return n=o,t.splice(r,1),!1}),n},dispatch:function(){var e,t,n,o=this,r=arguments,i=o.listeners;for(o.inDispatch=!0,t=0;t<i.length&&(n=i[t],e=n.cb.apply(n.scope,r.length>0?r:[n.scope]),e!==!1);t++);return o.inDispatch=!1,e}}),function(){var e=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(t,n){var o,r,i=this;return t=tinymce.trim(t),n=i.settings=n||{},/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?void(i.source=t):(0===t.indexOf("/")&&0!==t.indexOf("//")&&(t=(n.base_uri?n.base_uri.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(r=n.base_uri?n.base_uri.path:new tinymce.util.URI(location.href).directory,t=(n.base_uri&&n.base_uri.protocol||"http")+"://mce_host"+i.toAbsPath(r,t)),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),e(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,n){var o=t[n];o&&(o=o.replace(/\(mce_at\)/g,"@@")),i[e]=o}),o=n.base_uri,void(o&&(i.protocol||(i.protocol=o.protocol),i.userInfo||(i.userInfo=o.userInfo),i.port||"mce_host"!==i.host||(i.port=o.port),i.host&&"mce_host"!==i.host||(i.host=o.host),i.source="")))},setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new tinymce.util.URI(e,{base_uri:n}),"mce_host"!=e.host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol)return e.getURI();var o=n.getURI(),r=e.getURI();return o==r||"/"==o.charAt(o.length-1)&&o.substr(0,o.length-1)==r?o:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new tinymce.util.URI(e,{base_uri:this}),e.getURI(this.host==e.host&&this.protocol==e.protocol?t:0)},toRelPath:function(e,t){var n,o,r,i=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(o=0,r=e.length;o<r;o++)if(o>=n.length||e[o]!=n[o]){i=o+1;break}if(e.length<n.length)for(o=0,r=n.length;o<r;o++)if(o>=e.length||e[o]!=n[o]){i=o+1;break}if(1===i)return t;for(o=0,r=e.length-(i-1);o<r;o++)a+="../";for(o=i-1,r=n.length;o<r;o++)a+=o!=i-1?"/"+n[o]:n[o];return a},toAbsPath:function(t,n){var o,r,i,a=0,s=[];for(r=/\/$/.test(n)?"/":"",t=t.split("/"),n=n.split("/"),e(t,function(e){e&&s.push(e)}),t=s,o=n.length-1,s=[];o>=0;o--)0!==n[o].length&&"."!==n[o]&&(".."!==n[o]?a>0?a--:s.push(n[o]):a++);return o=t.length-a,i=o<=0?s.reverse().join("/"):t.slice(0,o).join("/")+"/"+s.reverse().join("/"),0!==i.indexOf("/")&&(i="/"+i),r&&i.lastIndexOf("/")!==i.length-1&&(i+=r),i},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol&&(t+=n.protocol+"://"),n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}})}(),function(){var e=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(t){var n,o=this.get(t);return o&&e(o.split("&"),function(e){e=e.split("="),n=n||{},n[unescape(e[0])]=unescape(e[1])}),n},setHash:function(t,n,o,r,i,a){var s="";e(n,function(e,t){s+=(s?"&":"")+escape(t)+"="+escape(e)}),this.set(t,s,o,r,i,a)},get:function(e){var t,n,o=document.cookie,r=e+"=";if(o){if(n=o.indexOf("; "+r),n==-1){if(n=o.indexOf(r),0!==n)return null}else n+=2;return t=o.indexOf(";",n),t==-1&&(t=o.length),unescape(o.substring(n+r.length,t))}},set:function(e,t,n,o,r,i){document.cookie=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+(o?"; path="+escape(o):"")+(r?"; domain="+r:"")+(i?"; secure":"")},remove:function(e,t){var n=new Date;n.setTime(n.getTime()-1e3),this.set(e,"",n,t,n)}})}(),function(){function serialize(e,t){var n,o,r,i;if(t=t||'"',null==e)return"null";if(r=typeof e,"string"==r)return o="\bb\tt\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,r){return'"'===t&&"'"===e?e:(n=o.indexOf(r),n+1?"\\"+o.charAt(n+1):(e=r.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"==r){if(e.hasOwnProperty&&e instanceof Array){for(n=0,o="[";n<e.length;n++)o+=(n>0?",":"")+serialize(e[n],t);return o+"]"}o="{";for(i in e)e.hasOwnProperty(i)&&(o+="function"!=typeof e[i]?(o.length>1?","+t:t)+i+t+":"+serialize(e[i],t):"");return o+"}"}return""+e}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(e){}}}}(),tinymce.create("static tinymce.util.XHR",{send:function(e){function t(){!e.async||4==o.readyState||a++>1e4?(e.success&&a<1e4&&200==o.status?e.success.call(e.success_scope,""+o.responseText,o,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",o,e),o=null):i.setTimeout(t,10)}function n(e){o=0;try{o=new ActiveXObject(e)}catch(e){}return o}var o,r,i=window,a=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",o=i.XMLHttpRequest?new XMLHttpRequest:n("Microsoft.XMLHTTP")||n("Msxml2.XMLHTTP")){if(o.overrideMimeType&&o.overrideMimeType(e.content_type),o.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&o.setRequestHeader("Content-Type",e.content_type),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(e.data),!e.async)return t();r=i.setTimeout(t,10)}}}),function(){var e=tinymce.extend,t=tinymce.util.JSON,n=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(t){this.settings=e({},t),this.count=0},send:function(o){var r=o.error,i=o.success;o=e(this.settings,o),o.success=function(e,n){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?r.call(o.error_scope||o.scope,e.error,n):i.call(o.success_scope||o.scope,e.result)},o.error=function(e,t){r&&r.call(o.error_scope||o.scope,e,t)},o.data=t.serialize({id:o.id||"c"+this.count++,method:o.method,params:o.params}),o.content_type="application/json",n.send(o)},static:{sendRPC:function(e){return(new tinymce.util.JSONRequest).send(e)}}})}(),function(e){e.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey}}}(tinymce),tinymce.util.Quirks=function(e){function t(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}}function n(){function t(t){var n,o,r,i;if(n=E.getRng(),o=S.getParent(n.startContainer,S.isBlock),t&&(o=S.getNext(o,S.isBlock)),o){for(r=o.firstChild;r&&3==r.nodeType&&0===r.nodeValue.length;)r=r.nextSibling;r&&"SPAN"===r.nodeName&&(i=r.cloneNode(!1))}e.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),o=S.getParent(n.startContainer,S.isBlock),tinymce.each(S.select("span.Apple-style-span,font.Apple-style-span",o),function(e){var t=E.getBookmark();i?S.replace(i.cloneNode(!1),e,!0):S.remove(e,!0),E.moveToBookmark(t)})}e.onKeyDown.add(function(e,n){var o;o=n.keyCode==x,n.isDefaultPrevented()||!o&&n.keyCode!=_||C.modifierPressed(n)||(n.preventDefault(),t(o))}),e.addCommand("Delete",function(){t()})}function o(){function t(e,t){var n,o,r=t?"start":"end";return n=e[r+"Container"],o=e[r+"Offset"],1==n.nodeType&&n.hasChildNodes()&&(n=n.childNodes[Math.min(t?o:o>0?o-1:0,n.childNodes.length-1)]),n}function n(e,n){var o,r,i,a,s,c=n?"start":"end";if(o=e[c+"Container"],r=e[c+"Offset"],i=S.getRoot(),1==o.nodeType&&(s=r>=o.childNodes.length,o=t(e,n),3==o.nodeType&&(r=n&&!s?0:o.nodeValue.length)),3==o.nodeType&&(n&&r>0||!n&&r<o.nodeValue.length))return!1;for(;o!==i;){if(a=o.parentNode[n?"firstChild":"lastChild"],"BR"==a.nodeName&&(a=a[n?"nextSibling":"previousSibling"]||a),a!==o)return!1;o=o.parentNode}return!0}e.onKeyDown.addToTop(function(e,o){var r,i=o.keyCode;o.isDefaultPrevented()||i!=x&&i!=_||(r=E.getRng(!0),n(r,!0)&&n(r,!1)&&(r.collapsed||S.findCommonAncestor(t(r,!0),t(r))===S.getRoot())&&(e.setContent(""),e.nodeChanged(),o.preventDefault()))})}function r(){e.settings.content_editable||(S.bind(e.getDoc(),"focusin",function(e){E.setRng(E.getRng())}),S.bind(e.getDoc(),"mousedown",function(t){t.target==e.getDoc().documentElement&&(e.getWin().focus(),E.setRng(E.getRng()))}))}function i(){e.onKeyDown.add(function(e,t){if(!t.isDefaultPrevented()&&t.keyCode===_&&E.isCollapsed()&&0===E.getRng(!0).startOffset){var n=E.getNode(),o=n.previousSibling;o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(S.remove(o),tinymce.dom.Event.cancel(t))}})}function a(){Range.prototype.getClientRects||e.onMouseDown.add(function(e,t){if("HTML"===t.target.nodeName){var n=e.getBody();n.blur(),setTimeout(function(){n.focus()},0)}})}function s(){e.onClick.add(function(e,t){t=t.target,/^(IMG|HR)$/.test(t.nodeName)&&E.getSel().setBaseAndExtent(t,0,t,1),"A"==t.nodeName&&S.hasClass(t,"mceItemAnchor")&&E.select(t),e.nodeChanged()})}function c(){function t(){var t=S.getAttribs(E.getStart().cloneNode(!1));return function(){var n=E.getStart();n!==e.getBody()&&(S.setAttrib(n,"style",null),tinymce.each(t,function(e){n.setAttributeNode(e.cloneNode(!0))}))}}function n(){return!E.isCollapsed()&&E.getStart()!=E.getEnd()}function o(e,t){return t.preventDefault(),!1}e.onKeyPress.add(function(e,o){var r;if((8==o.keyCode||46==o.keyCode)&&n())return r=t(),e.getDoc().execCommand("delete",!1,null),r(),o.preventDefault(),!1}),S.bind(e.getDoc(),"cut",function(r){var i;n()&&(i=t(),e.onKeyUp.addToTop(o),setTimeout(function(){i(),e.onKeyUp.remove(o)},0))})}function l(){var t,n;S.bind(e.getDoc(),"selectionchange",function(){n&&(clearTimeout(n),n=0),n=window.setTimeout(function(){var n=E.getRng();t&&tinymce.dom.RangeUtils.compareRanges(n,t)||(e.nodeChanged(),t=n)},50)})}function d(){document.body.setAttribute("role","application")}function u(){e.onKeyDown.add(function(e,t){if(!t.isDefaultPrevented()&&t.keyCode===_&&E.isCollapsed()&&0===E.getRng(!0).startOffset){var n=E.getNode().previousSibling;if(n&&n.nodeName&&"table"===n.nodeName.toLowerCase())return tinymce.dom.Event.cancel(t)}})}function f(){var n=e.getDoc().documentMode;n&&n>7||(t("RespectVisibilityInDesign",!0),S.addClass(e.getBody(),"mceHideBrInPre"),e.parser.addNodeFilter("pre",function(e,t){for(var n,o,r,i,a=e.length;a--;)for(n=e[a].getAll("br"),o=n.length;o--;)r=n[o],i=r.prev,i&&3===i.type&&"\n"!=i.value.charAt(i.value-1)?i.value+="\n":r.parent.insert(new tinymce.html.Node("#text",3),r,!0).value="\n"}),e.serializer.addNodeFilter("pre",function(e,t){for(var n,o,r,i,a=e.length;a--;)for(n=e[a].getAll("br"),o=n.length;o--;)r=n[o],i=r.prev,i&&3==i.type&&(i.value=i.value.replace(/\r?\n$/,""))}))}function p(){S.bind(e.getBody(),"mouseup",function(e){var t,n=E.getNode();"IMG"==n.nodeName&&((t=S.getStyle(n,"width"))&&(S.setAttrib(n,"width",t.replace(/[^0-9%]+/g,"")),S.setStyle(n,"width","")),(t=S.getStyle(n,"height"))&&(S.setAttrib(n,"height",t.replace(/[^0-9%]+/g,"")),S.setStyle(n,"height","")))})}function m(){e.onKeyDown.add(function(e,t){var n,o,r,i,a,s,c;n=t.keyCode==x,t.isDefaultPrevented()||!n&&t.keyCode!=_||C.modifierPressed(t)||(o=E.getRng(),r=o.startContainer,i=o.startOffset,c=o.collapsed,3==r.nodeType&&r.nodeValue.length>0&&(0===i&&!c||c&&i===(n?0:1))&&(nonEmptyElements=e.schema.getNonEmptyElements(),t.preventDefault(),a=S.create("br",{id:"__tmp"}),r.parentNode.insertBefore(a,r),e.getDoc().execCommand(n?"ForwardDelete":"Delete",!1,null),r=E.getRng().startContainer,s=r.previousSibling,s&&1==s.nodeType&&!S.isBlock(s)&&S.isEmpty(s)&&!nonEmptyElements[s.nodeName.toLowerCase()]&&S.remove(s),S.remove("__tmp")))})}function h(){e.onKeyDown.add(function(e,t){var n,o,r,i,a;if(!t.isDefaultPrevented()&&t.keyCode==C.BACKSPACE&&(n=E.getRng(),o=n.startContainer,r=n.startOffset,i=S.getRoot(),a=o,n.collapsed&&0===r)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=i;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(e.formatter.toggle("blockquote",null,a),n.setStart(o,0),n.setEnd(o,0),E.setRng(n),E.collapse(!1))}})}function g(){function n(){e._refreshContentEditable(),t("StyleWithCSS",!1),t("enableInlineTableEditing",!1),k.object_resizing||t("enableObjectResizing",!1)}k.readonly||(e.onBeforeExecCommand.add(n),e.onMouseDown.add(n))}function v(){function t(e,t){tinymce.each(S.select("a"),function(e){var t=e.parentNode,n=S.getRoot();if(t.lastChild===e){for(;t&&!S.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}S.add(t,"br",{"data-mce-bogus":1})}})}e.onExecCommand.add(function(e,n){"CreateLink"===n&&t(e)}),e.onSetContent.add(E.onSetContent.add(t))}function y(){function t(t,n){t&&n.initial||e.execCommand("mceRepaint")}e.onUndo.add(t),e.onRedo.add(t),e.onSetContent.add(t)}function b(){e.onKeyDown.add(function(e,t){t.isDefaultPrevented()||8!=t.keyCode||"IMG"!=E.getNode().nodeName||(t.preventDefault(),e.undoManager.beforeChange(),S.remove(E.getNode()),e.undoManager.add())})}var C=tinymce.VK,_=C.BACKSPACE,x=C.DELETE,S=e.dom,E=e.selection,k=e.settings;u(),h(),o(),tinymce.isWebKit&&(m(),n(),r(),s(),tinymce.isIDevice&&l()),tinymce.isIE&&(i(),d(),f(),p(),b()),tinymce.isGecko&&(i(),a(),c(),g(),v(),y())},function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,o,i,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)o=String.fromCharCode(parseInt(e[n],t)),r[o]||(i="&"+e[n+1]+";",a[o]=i,a[i]=o);return a}}var o,r,i,a=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,l=/&(#x|#)?([\w]+);/g,d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},o=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e.html=e.html||{},e.html.Entities={encodeRaw:function(e,t){return e.replace(t?a:s,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(c,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?a:s,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||o,e.replace(t?a:s,function(e){return r[e]||n[e]||e})},getEncodeFunc:function(t,i){function c(e,t){return e.replace(t?a:s,function(e){return r[e]||i[e]||"&#"+e.charCodeAt(0)+";"||e})}function l(e,t){return d.encodeNamed(e,t,i)}var d=e.html.Entities;return i=n(i)||o,t=e.makeMap(t.replace(/\+/g,",")),t.named&&t.numeric?c:t.named?i?l:d.encodeNamed:t.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(l,function(e,n,r){return n?(r=parseInt(r,2===n.length?16:10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):d[r]||String.fromCharCode(r)):i[e]||o[e]||t(e)})}}}(tinymce),tinymce.html.Styles=function(e,t){function n(e,t,n,o){function r(e){return e=parseInt(e).toString(16),e.length>1?e:"0"+e}return"#"+r(t)+r(n)+r(o)}var o,r,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,d={};for(e=e||{},i="\\\" \\' \\; \\: ; : \ufeff".split(" "),r=0;r<i.length;r++)d[i[r]]="\ufeff"+r,d["\ufeff"+r]=i[r];return{toHex:function(e){return e.replace(a,n)},parse:function(t){function o(e,t){var n,o,r,i;n=y[e+"-top"+t],n&&(o=y[e+"-right"+t],n==o&&(r=y[e+"-bottom"+t],o==r&&(i=y[e+"-left"+t],r==i&&(y[e+t]=i,delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t]))))}function r(e){var t,n=y[e];if(n&&!(n.indexOf(" ")<0)){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}}function i(e,t,n,o){r(t)&&r(n)&&r(o)&&(y[e]=y[t]+" "+y[n]+" "+y[o],delete y[t],delete y[n],delete y[o])}function u(e){return v=!0,d[e]}function f(e,t){return v&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return d[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(e,t,n,o,r,i){return(r=r||i)?(r=f(r),"'"+r.replace(/\'/g,"\\'")+"'"):(t=f(t||n||o),b&&(t=b.call(C,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}var m,h,g,v,y={},b=e.url_converter,C=e.url_converter_scope||this;if(t){for(t=t.replace(/\\[\"\';:\uFEFF]/g,u).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,u)});m=c.exec(t);)h=m[1].replace(l,"").toLowerCase(),g=m[2].replace(l,""),h&&g.length>0&&("font-weight"===h&&"700"===g?g="bold":"color"!==h&&"background-color"!==h||(g=g.toLowerCase()),g=g.replace(a,n),g=g.replace(s,p),y[h]=v?f(g,!0):g),c.lastIndex=m.index+m[0].length;o("border",""),o("border","-width"),o("border","-color"),o("border","-style"),o("padding",""),o("margin",""),i("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border}return y},serialize:function(e,n){function r(n){var r,i,a,c;if(r=t.styles[n])for(i=0,a=r.length;i<a;i++)n=r[i],c=e[n],c!==o&&c.length>0&&(s+=(s.length>0?" ":"")+n+": "+c+";")}var i,a,s="";if(n&&t&&t.styles)r("*"),r(n);else for(i in e)a=e[i],a!==o&&a.length>0&&(s+=(s.length>0?" ":"")+i+": "+a+";");return s}}},function(e){function t(e,t){return e.split(t||",")}function n(e,n){function o(t){return t.replace(/[A-Z]+/g,function(t){return o(e[t])})}var r,i={};for(r in e)e.hasOwnProperty(r)&&(e[r]=o(e[r]));return o(n).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(e,n,o,r){o=t(o,"|"),i[n]={attributes:a(o),attributesOrder:o,children:a(r,"|",{"#comment":{}})}}),i}function o(){var e=i.html5;return e||(e=i.html5=n({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][C]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|summary][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]")),e}function r(){var e=i.html4;return e||(e=i.html4=n({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")),
e}var i={},a=e.makeMap,s=e.each;e.html.Schema=function(n){function c(t,o,r){var s=n[t];return s?s=a(s,",",a(s.toUpperCase()," ")):(s=i[t],s||(s=a(o," ",a(o.toUpperCase()," ")),s=e.extend(s,r),i[t]=s)),s}function l(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function d(n){var o,r,i,s,c,d,u,f,p,m,h,g,v,y,b,C,_,x,S,k=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,N=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(n)for(n=t(n),E["@"]&&(C=E["@"].attributes,_=E["@"].attributesOrder),o=0,r=n.length;o<r;o++)if(c=k.exec(n[o])){if(y=c[1],p=c[2],b=c[3],f=c[4],g={},v=[],d={attributes:g,attributesOrder:v},"#"===y&&(d.paddEmpty=!0),"-"===y&&(d.removeEmpty=!0),C){for(x in C)g[x]=C[x];v.push.apply(v,_)}if(f)for(f=t(f,"|"),i=0,s=f.length;i<s;i++)if(c=N.exec(f[i])){if(u={},h=c[1],m=c[2].replace(/::/g,":"),y=c[3],S=c[4],"!"===h&&(d.attributesRequired=d.attributesRequired||[],d.attributesRequired.push(m),u.required=!0),"-"===h){delete g[m],v.splice(e.inArray(v,m),1);continue}y&&("="===y&&(d.attributesDefault=d.attributesDefault||[],d.attributesDefault.push({name:m,value:S}),u.defaultValue=S),":"===y&&(d.attributesForced=d.attributesForced||[],d.attributesForced.push({name:m,value:S}),u.forcedValue=S),"<"===y&&(u.validValues=a(S,"?"))),T.test(m)?(d.attributePatterns=d.attributePatterns||[],u.pattern=l(m),d.attributePatterns.push(u)):(g[m]||v.push(m),g[m]=u)}C||"@"!=p||(C=g,_=v),b&&(d.outputName=p,E[b]=d),T.test(p)?(d.pattern=l(p),w.push(d)):E[p]=d}}function u(e){E={},w=[],d(e),s(g,function(e,t){k[t]=e.children})}function f(e){var n=/^(~)?(.+)$/;e&&s(t(e),function(e){var t=n.exec(e),o="~"===t[1],r=o?"span":"div",i=t[2];k[i]=k[r],N[i]=r,o||(_[i]={}),s(k,function(e,t){e[r]&&(e[i]=e[r])})})}function p(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&s(t(e),function(e){var o,r,i=n.exec(e);i&&(r=i[1],o=r?k[i[2]]:k[i[2]]={"#comment":{}},o=k[i[2]],s(t(i[3],"|"),function(e){"-"===r?delete o[e]:o[e]={}}))})}function m(e){var t,n=E[e];if(n)return n;for(t=w.length;t--;)if(n=w[t],n.pattern.test(e))return n}var h,g,v,y,b,C,_,x,S=this,E={},k={},w=[],N={};n=n||{},g="html5"==n.schema?o():r(),n.verify_html===!1&&(n.valid_elements="*[*]"),n.valid_styles&&(h={},s(n.valid_styles,function(t,n){h[n]=e.explode(t)})),v=c("whitespace_elements","pre script style textarea"),y=c("self_closing_elements","colgroup dd dt li options p td tfoot th thead tr"),b=c("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source"),C=c("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),x=c("non_empty_elements","td th iframe video audio object",b),_=c("block_elements","h1 h2 h3 h4 h5 h6 hr p div address pre form table tbody thead tfoot th tr td li ol ul caption blockquote center dl dt dd dir fieldset noscript menu isindex samp header footer article section hgroup aside nav figure"),n.valid_elements?u(n.valid_elements):(s(g,function(e,t){E[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},k[t]=e.children}),"html5"!=n.schema&&s(t("strong/b,em/i"),function(e){e=t(e,"/"),E[e[1]].outputName=e[0]}),E.img.attributesDefault=[{name:"alt",value:""}],s(t("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(e){E[e]&&(E[e].removeEmpty=!0)}),s(t("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(e){E[e].paddEmpty=!0})),f(n.custom_elements),p(n.valid_children),d(n.extended_valid_elements),p("+ol[ul|ol],+ul[ul|ol]"),n.invalid_elements&&e.each(e.explode(n.invalid_elements),function(e){E[e]&&delete E[e]}),m("span")||d("span[!data-mce-type|*]"),S.children=k,S.styles=h,S.getBoolAttrs=function(){return C},S.getBlockElements=function(){return _},S.getShortEndedElements=function(){return b},S.getSelfClosingElements=function(){return y},S.getNonEmptyElements=function(){return x},S.getWhiteSpaceElements=function(){return v},S.isValidChild=function(e,t){var n=k[e];return!(!n||!n[t])},S.getElementRule=m,S.getCustomElements=function(){return N},S.addValidElements=d,S.setValidElements=u,S.addCustomElements=f,S.addValidChildren=p}}(tinymce),function(e){e.html.SaxParser=function(t,n){var o=this,r=function(){};t=t||{},o.schema=n=n||new e.html.Schema,t.fix_self_closing!==!1&&(t.fix_self_closing=!0),e.each("comment cdata text start end pi doctype".split(" "),function(e){e&&(o[e]=t[e]||r)}),o.parse=function(o){function r(e){var t,n;for(t=H.length;t--&&H[t].name!==e;);if(t>=0){for(n=H.length-1;n>=t;n--)e=H[n],e.valid&&P.end(e.name);H.length=t}}function i(e,t,n,o,r){var i,a;if(t=t.toLowerCase(),n=t in g?t:U(n||o||r||""),y&&!p&&0!==t.indexOf("data-")){if(i=E[t],!i&&k){for(a=k.length;a--&&(i=k[a],!i.pattern.test(t)););a===-1&&(i=null)}if(!i)return;if(i.validValues&&!(n in i.validValues))return}l.map[t]=n,l.push({name:t,value:n})}var a,s,c,l,d,u,f,p,m,h,g,v,y,b,C,_,x,S,E,k,w,N,T,A,M,B,R,L,D,I,P=this,O=0,H=[],F=0,U=e.html.Entities.decode;for(M=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),B=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:\\.|[^\"])*)\")|(?:\'((?:\\.|[^\'])*)\')|([^>\s]+)))?/g,R={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi},h=n.getShortEndedElements(),A=n.getSelfClosingElements(),g=n.getBoolAttrs(),y=t.validate,m=t.remove_internals,D=t.fix_self_closing,I=e.isIE,S=/^:/;a=M.exec(o);){if(O<a.index&&P.text(U(o.substr(O,a.index-O))),s=a[6])s=s.toLowerCase(),I&&S.test(s)&&(s=s.substr(1)),r(s);else if(s=a[7]){if(s=s.toLowerCase(),I&&S.test(s)&&(s=s.substr(1)),v=s in h,D&&A[s]&&H.length>0&&H[H.length-1].name===s&&r(s),!y||(b=n.getElementRule(s))){if(C=!0,y&&(E=b.attributes,k=b.attributePatterns),(x=a[8])?(p=x.indexOf("data-mce-type")!==-1,p&&m&&(C=!1),l=[],l.map={},x.replace(B,i)):(l=[],l.map={}),y&&!p){if(w=b.attributesRequired,N=b.attributesDefault,T=b.attributesForced)for(d=T.length;d--;)_=T[d],f=_.name,L=_.value,"{$uid}"===L&&(L="mce_"+F++),l.map[f]=L,l.push({name:f,value:L});if(N)for(d=N.length;d--;)_=N[d],f=_.name,f in l.map||(L=_.value,"{$uid}"===L&&(L="mce_"+F++),l.map[f]=L,l.push({name:f,value:L}));if(w){for(d=w.length;d--&&!(w[d]in l.map););d===-1&&(C=!1)}l.map["data-mce-bogus"]&&(C=!1)}C&&P.start(s,l,v)}else C=!1;if(c=R[s]){c.lastIndex=O=a.index+a[0].length,(a=c.exec(o))?(C&&(u=o.substr(O,a.index-O)),O=a.index+a[0].length):(u=o.substr(O),O=o.length),C&&u.length>0&&P.text(u,!0),C&&P.end(s),M.lastIndex=O;continue}v||(x&&x.indexOf("/")==x.length-1?C&&P.end(s):H.push({name:s,valid:C}))}else(s=a[1])?P.comment(s):(s=a[2])?P.cdata(s):(s=a[3])?P.doctype(s):(s=a[4])&&P.pi(s,a[5]);O=a.index+a[0].length}for(O<o.length&&P.text(U(o.substr(O))),d=H.length-1;d>=0;d--)s=H[d],s.valid&&P.end(s.name)}}}(tinymce),function(e){function t(e,t,n){var o,r,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(o=e[a])return o;for(r=e.parent;r&&r!==t;r=r.parent)if(o=r[a])return o}}function n(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var o=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};e.extend(n.prototype,{replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,o,r,i=this;if("string"!=typeof e){for(o in e)i.attr(o,e[o]);return i}if(n=i.attributes){if(t!==r){if(null===t){if(e in n.map)for(delete n.map[e],o=n.length;o--;)if(n[o].name===e)return n=n.splice(o,1),i;return i}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,i}return n.map[e]}},clone:function(){var e,t,o,r,i,a=this,s=new n(a.name,a.type);if(o=a.attributes){for(i=[],i.map={},e=0,t=o.length;e<t;e++)r=o[e],"id"!==r.name&&(i[i.length]={name:r.name,value:r.value},i.map[r.name]=r.value);s.attributes=i}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o.next=n,t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n.prev=o,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var o;return e.parent&&e.remove(),o=t.parent||this,n?(t===o.firstChild?o.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=o,e},getAll:function(e){var n,o=this,r=[];for(n=o.firstChild;n;n=t(n,o))n.name===e&&r.push(n);return r},empty:function(){var e,n,o,r=this;if(r.firstChild){for(e=[],o=r.firstChild;o;o=t(o,r))e.push(o);for(n=e.length;n--;)o=e[n],o.parent=o.firstChild=o.lastChild=o.next=o.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(e){var n,r,i=this,a=i.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(n=a.attributes.length;n--;)if(r=a.attributes[n].name,"name"===r||0===r.indexOf("data-"))return!1}if(8===a.type)return!1;if(3===a.type&&!o.test(a.value))return!1}while(a=t(a,i));return!0},walk:function(e){return t(this,null,e)}}),e.extend(n,{create:function(e,t){var o,i;if(o=new n(e,r[e]||1),t)for(i in t)o.attr(i,t[i]);return o}}),e.html.Node=n}(tinymce),function(e){var t=e.html.Node;e.html.DomParser=function(n,o){function r(n){var r,a,s,c,l,d,u,f,p,m,h,g,v;for(h=e.makeMap("tr,td,th,tbody,thead,tfoot,table"),m=o.getNonEmptyElements(),r=0;r<n.length;r++)if(a=n[r],a.parent){for(c=[a],s=a.parent;s&&!o.isValidChild(s.name,a.name)&&!h[s.name];s=s.parent)c.push(s);if(s&&c.length>1){for(c.reverse(),l=d=i.filterNode(c[0].clone()),p=0;p<c.length-1;p++){for(o.isValidChild(d.name,c[p].name)?(u=i.filterNode(c[p].clone()),d.append(u)):u=d,f=c[p].firstChild;f&&f!=c[p+1];)v=f.next,u.append(f),f=v;d=u}l.isEmpty(m)?s.insert(a,c[0],!0):(s.insert(l,c[0],!0),s.insert(a,l)),s=c[0],(s.isEmpty(m)||s.firstChild===s.lastChild&&"br"===s.firstChild.name)&&s.empty().remove()}else if(a.parent){if("li"===a.name){if(g=a.prev,g&&("ul"===g.name||"ul"===g.name)){g.append(a);continue}if(g=a.next,g&&("ul"===g.name||"ul"===g.name)){g.insert(a,g.firstChild,!0);continue}a.wrap(i.filterNode(new t("ul",1)));continue}o.isValidChild(a.parent.name,"div")&&o.isValidChild("div",a.name)?a.wrap(i.filterNode(new t("div",1))):"style"===a.name||"script"===a.name?a.empty().remove():a.unwrap()}}}var i=this,a={},s=[],c={},l={};n=n||{},n.validate=!("validate"in n)||n.validate,n.root_name=n.root_name||"body",i.schema=o=o||new e.html.Schema,i.filterNode=function(e){var t,n,o;n in a&&(o=c[n],o?o.push(e):c[n]=[e]),t=s.length;for(;t--;)n=s[t].name,n in e.attributes.map&&(o=l[n],o?o.push(e):l[n]=[e]);return e},i.addNodeFilter=function(t,n){e.each(e.explode(t),function(e){var t=a[e];t||(a[e]=t=[]),t.push(n)})},i.addAttributeFilter=function(t,n){e.each(e.explode(t),function(e){var t;for(t=0;t<s.length;t++)if(s[t].name===e)return void s[t].callbacks.push(n);s.push({name:e,callbacks:[n]})})},i.parse=function(i,d){function u(){for(var e,t,n=h.firstChild;n;)e=n.next,3==n.type||1==n.type&&"p"!==n.name&&!k[n.name]&&!n.attr("data-mce-type")?t?t.append(n):(t=f(D,1),h.insert(t,n),t.append(n)):t=null,n=e}function f(e,n){var o,r=new t(e,n);return e in a&&(o=c[e],o?o.push(r):c[e]=[r]),r}function p(e){var t,n,o;for(t=e.prev;t&&3===t.type;)n=t.value.replace(T,""),n.length>0?(t.value=n,t=t.prev):(o=t.prev,t.remove(),t=o)}var m,h,g,v,y,b,C,_,x,S,E,k,w,N,T,A,M,B,R,L,D,I=[];if(d=d||{},c={},l={},k=e.extend(e.makeMap("script,style,head,html,body,title,meta,param"),o.getBlockElements()),L=o.getNonEmptyElements(),R=o.children,E=n.validate,D="forced_root_block"in d?d.forced_root_block:n.forced_root_block,B=o.getWhiteSpaceElements(),w=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,A=/[ \t\r\n]+/g,M=/^[ \t\r\n]+$/,m=new e.html.SaxParser({validate:E,fix_self_closing:!E,cdata:function(e){g.append(f("#cdata",4)).value=e},text:function(e,t){var n;N||(e=e.replace(A," "),g.lastChild&&k[g.lastChild.name]&&(e=e.replace(w,""))),0!==e.length&&(n=f("#text",3),n.raw=!!t,g.append(n).value=e)},comment:function(e){g.append(f("#comment",8)).value=e},pi:function(e,t){g.append(f(e,7)).value=t,p(g)},doctype:function(e){var t;t=g.append(f("#doctype",10)),t.value=e,p(g)},start:function(e,t,n){var r,i,a,c,d;if(a=E?o.getElementRule(e):{}){for(r=f(a.outputName||e,1),r.attributes=t,r.shortEnded=n,g.append(r),d=R[g.name],d&&R[r.name]&&!d[r.name]&&I.push(r),i=s.length;i--;)c=s[i].name,c in t.map&&(x=l[c],x?x.push(r):l[c]=[r]);k[e]&&p(r),n||(g=r),!N&&B[e]&&(N=!0)}},end:function(e){var n,r,i,a,s;if(r=E?o.getElementRule(e):{}){if(k[e]){if(!N){if(n=g.firstChild,n&&3===n.type)for(i=n.value.replace(w,""),i.length>0?(n.value=i,n=n.next):(a=n.next,n.remove(),n=a);n&&3===n.type;)i=n.value,a=n.next,(0===i.length||M.test(i))&&(n.remove(),n=a),n=a;if(n=g.lastChild,n&&3===n.type)for(i=n.value.replace(T,""),i.length>0?(n.value=i,n=n.prev):(a=n.prev,n.remove(),n=a);n&&3===n.type;)i=n.value,a=n.prev,(0===i.length||M.test(i))&&(n.remove(),n=a),n=a}n=g.prev,n&&3===n.type&&(i=n.value.replace(w,""),i.length>0?n.value=i:n.remove())}if(N&&B[e]&&(N=!1),(r.removeEmpty||r.paddEmpty)&&g.isEmpty(L))if(r.paddEmpty)g.empty().append(new t("#text","3")).value=" ";else if(!g.attributes.map.name)return s=g.parent,g.empty().remove(),void(g=s);g=g.parent}}},o),h=g=new t(d.context||n.root_name,11),m.parse(i),E&&I.length&&(d.context?d.invalid=!0:r(I)),D&&"body"==h.name&&u(),!d.invalid){for(S in c){for(x=a[S],v=c[S],C=v.length;C--;)v[C].parent||v.splice(C,1);for(y=0,b=x.length;y<b;y++)x[y](v,S,d)}for(y=0,b=s.length;y<b;y++)if(x=s[y],x.name in l){for(v=l[x.name],C=v.length;C--;)v[C].parent||v.splice(C,1);for(C=0,_=x.callbacks.length;C<_;C++)x.callbacks[C](v,x.name,d)}}return h},n.remove_trailing_brs&&i.addNodeFilter("br",function(t,n){var r,i,a,s,c,l,d=t.length,u=e.extend({},o.getBlockElements()),f=o.getNonEmptyElements();for(u.body=1,r=0;r<d;r++)if(i=t[r],a=i.parent,u[i.parent.name]&&i===a.lastChild){for(c=i.prev;c;){if(l=c.name,"span"!==l||"bookmark"!==c.attr("data-mce-type")){if("br"!==l)break;if("br"===l){i=null;break}}c=c.prev}i&&(i.remove(),a.isEmpty(f)&&(elementRule=o.getElementRule(a.name),elementRule&&(elementRule.removeEmpty?a.remove():elementRule.paddEmpty&&(a.empty().append(new e.html.Node("#text",3)).value=" "))))}else{for(s=i;a.firstChild===s&&a.lastChild===s&&(s=a,!u[a.name]);)a=a.parent;s===a&&(textNode=new e.html.Node("#text",3),textNode.value=" ",i.replace(textNode))}}),n.allow_html_in_named_anchor||i.addAttributeFilter("name",function(e,t){for(var n,o,r,i,a=e.length;a--;)if(i=e[a],"a"===i.name&&i.firstChild){r=i.parent,n=i.lastChild;do o=n.prev,r.insert(n,i),n=o;while(n)}})}}(tinymce),tinymce.html.Writer=function(e){var t,n,o,r,i,a=[];return e=e||{},t=e.indent,n=tinymce.makeMap(e.indent_before||""),o=tinymce.makeMap(e.indent_after||""),r=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="html"==e.element_format,{start:function(e,s,c){var l,d,u,f;if(t&&n[e]&&a.length>0&&(f=a[a.length-1],f.length>0&&"\n"!==f&&a.push("\n")),a.push("<",e),s)for(l=0,d=s.length;l<d;l++)u=s[l],a.push(" ",u.name,'="',r(u.value,!0),'"');!c||i?a[a.length]=">":a[a.length]=" />",c&&t&&o[e]&&a.length>0&&(f=a[a.length-1],f.length>0&&"\n"!==f&&a.push("\n"))},end:function(e){var n;a.push("</",e,">"),t&&o[e]&&a.length>0&&(n=a[a.length-1],n.length>0&&"\n"!==n&&a.push("\n"))},text:function(e,t){e.length>0&&(a[a.length]=t?e:r(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("<!--",e,"-->")},pi:function(e,n){n?a.push("<?",e," ",n,"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}},function(e){e.html.Serializer=function(t,n){var o=this,r=new e.html.Writer(t);t=t||{},t.validate=!("validate"in t)||t.validate,o.schema=n=n||new e.html.Schema,o.writer=r,o.serialize=function(e){function o(e){var t,s,c,l,d,u,f,p,m,h=i[e.type];if(h)h(e);else{if(t=e.name,s=e.shortEnded,c=e.attributes,a&&c&&c.length>1){for(u=[],u.map={},m=n.getElementRule(e.name),f=0,p=m.attributesOrder.length;f<p;f++)l=m.attributesOrder[f],l in c.map&&(d=c.map[l],u.map[l]=d,u.push({name:l,value:d}));for(f=0,p=c.length;f<p;f++)l=c[f].name,l in u.map||(d=c.map[l],u.map[l]=d,u.push({name:l,value:d}));c=u}if(r.start(e.name,c,s),!s){if(e=e.firstChild)do o(e);while(e=e.next);r.end(t)}}}var i,a;return a=t.validate,i={3:function(e,t){r.text(e.value,e.raw)},8:function(e){r.comment(e.value)},7:function(e){r.pi(e.name,e.value)},10:function(e){r.doctype(e.value)},4:function(e){r.cdata(e.value)},11:function(e){if(e=e.firstChild)do o(e);while(e=e.next)}},r.reset(),1!=e.type||t.inner?i[11](e):o(e),r.getContent()}}}(tinymce),tinymce.dom={},function(e,t){function n(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function o(e,t,n,o){e.removeEventListener?e.removeEventListener(t,n,o||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function r(e,t){function n(){return!1}function o(){return!0}var r,i=t||{};for(r in e)"layerX"!==r&&"layerY"!==r&&(i[r]=e[r]);return i.target||(i.target=i.srcElement||document),i.preventDefault=function(){i.isDefaultPrevented=o,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=o,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=o,i.stopPropagation()},i.isDefaultPrevented||(i.isDefaultPrevented=n,i.isPropagationStopped=n,i.isImmediatePropagationStopped=n),i}function i(e,t,r){function i(){r.domLoaded||(r.domLoaded=!0,t(c))}var a=e.document,c={type:"ready"};s?n(e,"DOMContentLoaded",i):(n(a,"readystatechange",function(){"complete"===a.readyState&&(o(a,"readystatechange",arguments.callee),i())}),a.documentElement.doScroll&&e===e.top&&!function(){try{a.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}i()}()),n(e,"load",i)}function a(e){function a(e,t){var n,o,r,i;if(n=p[t][e.type])for(o=0,r=n.length;o<r;o++)if(i=n[o],i&&i.func.call(i.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var c,l,d,u,f=this,p={};d="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},c=1,f.domLoaded=!1,f.events=p,f.bind=function(o,m,h,g){function v(e){a(r(e||k.event),y)}var y,b,C,_,x,S,E,k=window;if(o&&3!==o.nodeType&&8!==o.nodeType){for(o[t]?(y=o[t],p[y]||(p[y]={})):(y=c++,o[t]=y,p[y]={}),g=g||o,m=m.split(" "),C=m.length;C--;)_=m[C],S=v,x=E=!1,"DOMContentLoaded"===_&&(_="ready"),!f.domLoaded&&"complete"!=o.readyState||"ready"!==_?(d||(x=u[_],x&&(S=function(e){var t,n;if(t=e.currentTarget,n=e.relatedTarget,n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=r(e||k.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,a(e,y))})),l||"focusin"!==_&&"focusout"!==_||(E=!0,x="focusin"===_?"focus":"blur",S=function(e){e=r(e||k.event),e.type="focus"===e.type?"focusin":"focusout",a(e,y)}),b=p[y][_],b?b.push({func:h,scope:g}):(p[y][_]=b=[{func:h,scope:g}],b.fakeName=x,b.capture=E,b.nativeHandler=S,s||(b.proxyHandler=e(y)),"ready"===_?i(o,S,f):n(o,x||_,s?S:b.proxyHandler,E))):(f.domLoaded=!0,h.call(g,r({type:_})));return o=b=0,h}},f.unbind=function(e,n,r){var i,a,c,l,d,u;if(!e||3===e.nodeType||8===e.nodeType)return f;if(i=e[t]){if(u=p[i],n){for(n=n.split(" "),c=n.length;c--;)if(d=n[c],a=u[d]){if(r)for(l=a.length;l--;)a[l].func===r&&a.splice(l,1);r&&0!==a.length||(delete u[d],o(e,a.fakeName||d,s?a.nativeHandler:a.proxyHandler,a.capture))}}else{for(d in u)a=u[d],o(e,a.fakeName||d,s?a.nativeHandler:a.proxyHandler,a.capture);u={}}for(d in u)return f;delete p[i];try{delete e[t]}catch(n){e[t]=null}}return f},f.fire=function(e,n,o){var i,s;if(!e||3===e.nodeType||8===e.nodeType)return f;s=r(null,o),s.type=n;do i=e[t],i&&a(s,i),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!s.isPropagationStopped());return f},f.clean=function(e){var n,o,r=f.unbind;if(!e||3===e.nodeType||8===e.nodeType)return f;if(e[t]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),o=e.getElementsByTagName("*"),n=o.length;n--;)e=o[n],e[t]&&r(e);return f},f.callNativeHandler=function(e,t){p&&p[e][t.type].nativeHandler(t)},f.destory=function(){p={}},f.add=function(e,t,n,o){"string"==typeof e&&(e=document.getElementById(e));{if(!(e&&e instanceof Array))return"init"===t&&(t="ready"),f.bind(e,t instanceof Array?t.join(" "):t,n,o);for(var r=e;r--;)f.add(e[r],t,n,o)}},f.remove=function(e,t,n,o){if(!e)return f;if("string"==typeof e&&(e=document.getElementById(e)),e instanceof Array){for(var r=e.length;r--;)f.remove(e[r],t,n,o);return f}return f.unbind(e,t instanceof Array?t.join(" "):t,n)},f.clear=function(e){return"string"==typeof e&&(e=document.getElementById(e)),f.clean(e)},f.cancel=function(e){return e&&(f.prevent(e),f.stop(e)),!1},f.prevent=function(e){return e.preventDefault(),!1},f.stop=function(e){return e.stopPropagation(),!1}}var s=!!document.addEventListener;e.EventUtils=a,e.Event=new a(function(e){return function(t){tinymce.dom.Event.callNativeHandler(e,t)}}),e.Event.bind(window,"ready",function(){}),e=0}(tinymce.dom,"data-mce-expando"),tinymce.dom.TreeWalker=function(e,t){function n(e,n,o,r){var i,a;if(e){if(!r&&e[n])return e[n];if(e!=t){if(i=e[o])return i;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(i=a[o])return i}}}var o=e;this.current=function(){return o},this.next=function(e){return o=n(o,"firstChild","nextSibling",e)},this.prev=function(e){return o=n(o,"lastChild","previousSibling",e)}},function(e){var t=e.each,n=e.is,o=e.isWebKit,r=e.isIE,i=e.html.Entities,a=/^([a-z0-9],?)+$/i,s=/^[ \t\r\n]*$/;e.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{for:"htmlFor",class:"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(t,n){var o,r=this;if(r.doc=t,r.win=window,r.files={},r.cssFlicker=!1,r.counter=0,r.stdMode=!e.isIE||t.documentMode>=8,r.boxModel=!e.isIE||"CSS1Compat"==t.compatMode||r.stdMode,r.hasOuterHTML="outerHTML"in t.createElement("a"),r.settings=n=e.extend({keep_values:!1,hex_colors:1},n),r.schema=n.schema,r.styles=new e.html.Styles({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),e.isIE6)try{t.execCommand("BackgroundImageCache",!1,!0)}catch(e){r.cssFlicker=!0}r.fixDoc(t),r.events=n.ownEvents?new e.dom.EventUtils(n.proxy):e.dom.Event,e.addUnload(r.destroy,r),o=n.schema?n.schema.getBlockElements():{},r.isBlock=function(e){var t=e.nodeType;return t?!(1!==t||!o[e.nodeName]):!!o[e]}},fixDoc:function(e){var t,n=this.settings;if(r&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,n){var o,i,a=this;return!r||1!==e.nodeType||n?e.cloneNode(n):(i=a.doc,n?o.firstChild:(o=i.createElement(e.nodeName),t(a.getAttribs(e),function(t){a.setAttrib(o,t.nodeName,a.getAttrib(e,t.nodeName))}),o))},getRoot:function(){var e=this,t=e.settings;return t&&e.get(t.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,o=this;return e=o.get(e),t=o.getPos(e),n=o.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,o=this;return e=o.get(e),t=o.getStyle(e,"width"),n=o.getStyle(e,"height"),t.indexOf("px")===-1&&(t=0),n.indexOf("px")===-1&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,o,r){var i,a=this,s=a.settings,c=[];for(e=a.get(e),r=void 0===r,s.strict_root&&(o=o||a.getRoot()),n(t,"string")&&(i=t,t="*"===t?function(e){return 1==e.nodeType}:function(e){return a.is(e,i)});e&&e!=o&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;c.push(e)}e=e.parentNode}return r?c:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var o=this;return e.dom.Sizzle(t,o.get(n)||o.get(o.settings.root_element)||o.doc,[])},is:function(t,n){var o;if(void 0===t.length){if("*"===n)return 1==t.nodeType;if(a.test(n)){for(n=n.toLowerCase().split(/,/),t=t.nodeName.toLowerCase(),o=n.length-1;o>=0;o--)if(n[o]==t)return!0;return!1}}return e.dom.Sizzle.matches(n,t.nodeType?[t]:t).length>0},add:function(e,t,o,r,i){var a=this;return this.run(e,function(e){var s;return s=n(t,"string")?a.doc.createElement(t):t,a.setAttribs(s,o),r&&(r.nodeType?s.appendChild(r):a.setHTML(s,r)),i?s:e.appendChild(s)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var o,r="",i=this;r+="<"+e;for(o in t)t.hasOwnProperty(o)&&(r+=" "+o+'="'+i.encode(t[o])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},remove:function(t,n){return this.run(t,function(t){var o,r=t.parentNode;if(!r)return null;if(n)for(;o=t.firstChild;)!e.isIE||3!==o.nodeType||o.nodeValue?r.insertBefore(o,t):t.removeChild(o);return r.removeChild(t)})},setStyle:function(t,n,o){var i=this;return i.run(t,function(a){var s;switch(s=a.style,n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),i.pixelStyles.test(n)&&(e.is(o,"number")||/^[\-0-9\.]+$/.test(o))&&(o+="px"),n){case"opacity":r&&(s.filter=""===o?"":"alpha(opacity="+100*o+")",t.currentStyle&&t.currentStyle.hasLayout||(s.display="inline-block")),s[n]=s["-moz-opacity"]=s["-khtml-opacity"]=o||"";break;case"float":r?s.styleFloat=o:s.cssFloat=o;break;default:s[n]=o||""}i.settings.update_styles&&i.setAttrib(a,"data-mce-style")})},getStyle:function(e,t,n){if(e=this.get(e)){if(this.doc.defaultView&&n){t=t.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(t)}catch(e){return null}}return t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==t&&(t=r?"styleFloat":"cssFloat"),e.currentStyle&&n?e.currentStyle[t]:e.style?e.style[t]:void 0}},setStyles:function(e,n){var o,r=this,i=r.settings;o=i.update_styles,i.update_styles=0,t(n,function(t,n){r.setStyle(e,n,t)}),i.update_styles=o,i.update_styles&&r.setAttrib(e,i.cssText)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,o,r){var i=this;if(e&&o)return i.settings.strict&&(o=o.toLowerCase()),this.run(e,function(e){var a=i.settings,s=e.getAttribute(o);if(null!==r)switch(o){case"style":if(!n(r,"string"))return void t(r,function(t,n){i.setStyle(e,n,t)});a.keep_values&&(r&&!i._isRes(r)?e.setAttribute("data-mce-style",r,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=r;break;case"class":e.className=r||"";break;case"src":case"href":a.keep_values&&(a.url_converter&&(r=a.url_converter.call(a.url_converter_scope||i,r,o,e)),i.setAttrib(e,"data-mce-"+o,r,2));break;case"shape":e.setAttribute("data-mce-style",r)}if(n(r)&&null!==r&&0!==r.length?e.setAttribute(o,""+r,2):e.removeAttribute(o,2),tinyMCE.activeEditor&&s!=r){var c=tinyMCE.activeEditor;c.onSetAttrib.dispatch(c,e,o,r)}})},setAttribs:function(e,n){var o=this;return this.run(e,function(e){t(n,function(t,n){o.setAttrib(e,n,t)})})},getAttrib:function(t,i,a){var s,c,l=this;if(t=l.get(t),!t||1!==t.nodeType)return a!==c&&a;if(n(a)||(a=""),/^(src|href|style|coords|shape)$/.test(i)&&(s=t.getAttribute("data-mce-"+i)))return s;if(r&&l.props[i]&&(s=t[l.props[i]],s=s&&s.nodeValue?s.nodeValue:s),s||(s=t.getAttribute(i,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(i))return t[l.props[i]]===!0&&""===s?i:s?i:"";if("FORM"===t.nodeName&&t.getAttributeNode(i))return t.getAttributeNode(i).nodeValue;if("style"===i&&(s=s||t.style.cssText,s&&(s=l.serializeStyle(l.parseStyle(s),t.nodeName),l.settings.keep_values&&!l._isRes(s)&&t.setAttribute("data-mce-style",s))),o&&"class"===i&&s&&(s=s.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),r)switch(i){case"rowspan":case"colspan":1===s&&(s="");break;case"size":"+0"!==s&&20!==s&&0!==s||(s="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===s&&(s="");break;case"hspace":s===-1&&(s="");break;case"maxlength":case"tabindex":32768!==s&&2147483647!==s&&"32768"!==s||(s="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===s?i:a;case"shape":s=s.toLowerCase();break;default:0===i.indexOf("on")&&s&&(s=e._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+s))}return s!==c&&null!==s&&""!==s?""+s:a},getPos:function(e,t){var n,o,r=this,i=0,a=0,s=r.doc;if(e=r.get(e),t=t||s.body,e){if(e.getBoundingClientRect)return e=e.getBoundingClientRect(),n=r.boxModel?s.documentElement:s.body,i=e.left+(s.documentElement.scrollLeft||s.body.scrollLeft)-n.clientTop,a=e.top+(s.documentElement.scrollTop||s.body.scrollTop)-n.clientLeft,{x:i,y:a};for(o=e;o&&o!=t&&o.nodeType;)i+=o.offsetLeft||0,a+=o.offsetTop||0,o=o.offsetParent;for(o=e.parentNode;o&&o!=t&&o.nodeType;)i-=o.scrollLeft||0,a-=o.scrollTop||0,o=o.parentNode}return{x:i,y:a}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},loadCSS:function(n){var o,i=this,a=i.doc;n||(n=""),o=a.getElementsByTagName("head")[0],t(n.split(","),function(t){var n;i.files[t]||(i.files[t]=!0,n=i.create("link",{rel:"stylesheet",href:e._addVer(t)}),r&&a.documentMode&&a.recalc&&(n.onload=function(){a.recalc&&a.recalc(),n.onload=null}),o.appendChild(n))})},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=(""!=n?n+" ":"")+t):0})},removeClass:function(t,n){var o,r=this;return r.run(t,function(t){var i;return r.hasClass(t,n)?(o||(o=new RegExp("(^|\\s+)"+n+"(\\s+|$)","g")),i=t.className.replace(o," "),i=e.trim(" "!=i?i:""),t.className=i,i||(t.removeAttribute("class"),t.removeAttribute("className")),i):t.className})},hasClass:function(e,t){return e=this.get(e),!(!e||!t)&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||"none"==e.style.display||"none"==this.getStyle(e,"display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,n){var o=this;return o.run(e,function(e){if(r){for(;e.firstChild;)e.removeChild(e.firstChild);try{e.innerHTML="<br />"+n,e.removeChild(e.firstChild)}catch(r){e=o.create("div"),e.innerHTML="<br />"+n,t(e.childNodes,function(t,n){n&&e.appendChild(t)})}}else e.innerHTML=n;return n})},getOuterHTML:function(e){var t,n=this;return(e=n.get(e))?1===e.nodeType&&n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){function o(e,t,n){var o,r;for(r=n.createElement("body"),r.innerHTML=t,o=r.lastChild;o;)i.insertAfter(o.cloneNode(!0),e),
o=o.previousSibling;i.remove(e)}var i=this;return this.run(e,function(e){if(e=i.get(e),1==e.nodeType)if(n=n||e.ownerDocument||i.doc,r)try{r&&1==e.nodeType?e.outerHTML=t:o(e,t,n)}catch(r){o(e,t,n)}else o(e,t,n)})},decode:i.decode,encode:i.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,o;return n=t.parentNode,o=t.nextSibling,o?n.insertBefore(e,o):n.appendChild(e),e})},replace:function(o,r,i){var a=this;return n(r,"array")&&(o=o.cloneNode(!0)),a.run(r,function(n){return i&&t(e.grep(n.childNodes),function(e){o.appendChild(e)}),n.parentNode.replaceChild(o,n)})},rename:function(e,n){var o,r=this;return e.nodeName!=n.toUpperCase()&&(o=r.create(n),t(r.getAttribs(e),function(t){r.setAttrib(o,t.nodeName,r.getAttrib(e,t.nodeName))}),r.replace(o,e,1)),o||e},findCommonAncestor:function(e,t){for(var n,o=e;o;){for(n=t;n&&o!=n;)n=n.parentNode;if(o==n)break;o=o.parentNode}return!o&&e.ownerDocument?e.ownerDocument.documentElement:o},toHex:function(e){function t(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}var n=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(e);return n?e="#"+t(n[1])+t(n[2])+t(n[3]):e},getClasses:function(){function n(r){t(r.imports,function(e){n(e)}),t(r.cssRules||r.rules,function(r){switch(r.type||1){case 1:r.selectorText&&t(r.selectorText.split(","),function(t){t=t.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(t)&&/\.[\w\-]+$/.test(t)&&(o=t,t=e._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",t),s&&!(t=s(t,o))||a[t]||(i.push({class:t}),a[t]=1))});break;case 3:n(r.styleSheet)}})}var o,r=this,i=[],a={},s=r.settings.class_filter;if(r.classes)return r.classes;try{t(r.doc.styleSheets,n)}catch(e){}return i.length>0&&(r.classes=i),i},run:function(e,n,o){var r,i=this;return i.doc&&"string"==typeof e&&(e=i.get(e)),!!e&&(o=o||this,e.nodeType||!e.length&&0!==e.length?n.call(o,e):(r=[],t(e,function(e,t){e&&("string"==typeof e&&(e=i.doc.getElementById(e)),r.push(n.call(o,e,t)))}),r))},getAttribs:function(e){var t;return e=this.get(e),e?r?(t=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t)):e.attributes:[]},isEmpty:function(t,n){var o,r,i,a,c,l=this,d=0;if(t=t.firstChild){a=new e.dom.TreeWalker(t,t.parentNode),n=n||l.schema?l.schema.getNonEmptyElements():null;do{if(i=t.nodeType,1===i){if(t.getAttribute("data-mce-bogus"))continue;if(c=t.nodeName.toLowerCase(),n&&n[c]){if("br"===c){d++;continue}return!1}for(r=l.getAttribs(t),o=t.attributes.length;o--;)if(c=t.attributes[o].nodeName,"name"===c||"data-mce-bookmark"===c)return!1}if(8==i)return!1;if(3===i&&!s.test(t.nodeValue))return!1}while(t=a.next())}return d<=1},destroy:function(t){var n=this;n.win=n.doc=n.root=n.events=n.frag=null,t||e.removeUnload(n.destroy)},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new e.dom.Range(this)},nodeIndex:function(e,t){var n,o,r,i=0;if(e)for(n=e.nodeType,e=e.previousSibling,o=e;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(i++,n=r);return i},split:function(t,n,o){function r(t){function n(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var o,i=t.childNodes,a=t.nodeType;if(1!=a||"bookmark"!=t.getAttribute("data-mce-type")){for(o=i.length-1;o>=0;o--)r(i[o]);if(9!=a){if(3==a&&t.nodeValue.length>0){var s=e.trim(t.nodeValue).length;if(!c.isBlock(t.parentNode)||s>0||0===s&&n(t))return}else if(1==a&&(i=t.childNodes,1==i.length&&i[0]&&1==i[0].nodeType&&"bookmark"==i[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(i[0],t),i.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;c.remove(t)}return t}}var i,a,s,c=this,l=c.createRng();if(t&&n)return l.setStart(t.parentNode,c.nodeIndex(t)),l.setEnd(n.parentNode,c.nodeIndex(n)),i=l.extractContents(),l=c.createRng(),l.setStart(n.parentNode,c.nodeIndex(n)+1),l.setEnd(t.parentNode,c.nodeIndex(t)+1),a=l.extractContents(),s=t.parentNode,s.insertBefore(r(i),t),o?s.replaceChild(o,n):s.insertBefore(n,t),s.insertBefore(r(a),t),c.remove(t),o||n},bind:function(e,t,n,o){return this.events.add(e,t,n,o||this)},unbind:function(e,t,n){return this.events.remove(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return 1!=e.nodeType?null:(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null)},_findSib:function(e,t,o){var r=this,i=t;if(e)for(n(i,"string")&&(i=function(e){return r.is(e,t)}),e=e[o];e;e=e[o])if(i(e))return e;return null},_isRes:function(e){return/^(top|left|bottom|right|width|height)/i.test(e)||/;\s*(top|left|bottom|right|width|height)/i.test(e)}}),e.DOM=new e.dom.DOMUtils(document,{process_html:0})}(tinymce),function(e){function t(e){function n(){return L.createDocumentFragment()}function o(e,t){x(O,e,t)}function r(e,t){x(H,e,t)}function i(e){o(e.parentNode,K(e))}function a(e){o(e.parentNode,K(e)+1)}function s(e){r(e.parentNode,K(e))}function c(e){r(e.parentNode,K(e)+1)}function l(e){e?(R[V]=R[U],R[z]=R[F]):(R[U]=R[V],R[F]=R[z]),R.collapsed=O}function d(e){i(e),c(e)}function u(e){o(e,0),r(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function f(e,t){var n=R[U],o=R[F],r=R[V],i=R[z],a=t.startContainer,s=t.startOffset,c=t.endContainer,l=t.endOffset;return 0===e?_(n,o,a,s):1===e?_(r,i,a,s):2===e?_(r,i,c,l):3===e?_(n,o,c,l):void 0}function p(){S(P)}function m(){return S(D)}function h(){return S(I)}function g(t){var n,o,r=this[U],i=this[F];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(o=r.childNodes[i]),o?r.insertBefore(t,o):r.appendChild(t)):i?i>=r.nodeValue.length?e.insertAfter(t,r):(n=r.splitText(i),r.parentNode.insertBefore(t,n)):r.parentNode.insertBefore(t,r)}function v(e){var t=R.extractContents();R.insertNode(e),e.appendChild(t),R.selectNode(e)}function y(){return q(new t(e),{startContainer:R[U],startOffset:R[F],endContainer:R[V],endOffset:R[z],collapsed:R.collapsed,commonAncestorContainer:R.commonAncestorContainer})}function b(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function C(){return R[U]==R[V]&&R[F]==R[z]}function _(t,n,o,r){var i,a,s,c,l,d;if(t==o)return n==r?0:n<r?-1:1;for(i=o;i&&i.parentNode!=t;)i=i.parentNode;if(i){for(a=0,s=t.firstChild;s!=i&&a<n;)a++,s=s.nextSibling;return n<=a?-1:1}for(i=t;i&&i.parentNode!=o;)i=i.parentNode;if(i){for(a=0,s=o.firstChild;s!=i&&a<r;)a++,s=s.nextSibling;return a<r?-1:1}for(c=e.findCommonAncestor(t,o),l=t;l&&l.parentNode!=c;)l=l.parentNode;for(l||(l=c),d=o;d&&d.parentNode!=c;)d=d.parentNode;if(d||(d=c),l==d)return 0;for(s=c.firstChild;s;){if(s==l)return-1;if(s==d)return 1;s=s.nextSibling}}function x(t,n,o){var r,i;for(t?(R[U]=n,R[F]=o):(R[V]=n,R[z]=o),r=R[V];r.parentNode;)r=r.parentNode;for(i=R[U];i.parentNode;)i=i.parentNode;i==r?_(R[U],R[F],R[V],R[z])>0&&R.collapse(t):R.collapse(t),R.collapsed=C(),R.commonAncestorContainer=e.findCommonAncestor(R[U],R[V])}function S(e){var t,n,o,r,i,a,s,c=0,l=0;if(R[U]==R[V])return E(e);for(t=R[V],n=t.parentNode;n;t=n,n=n.parentNode){if(n==R[U])return k(t,e);++c}for(t=R[U],n=t.parentNode;n;t=n,n=n.parentNode){if(n==R[V])return w(t,e);++l}for(o=l-c,r=R[U];o>0;)r=r.parentNode,o--;for(i=R[V];o<0;)i=i.parentNode,o++;for(a=r.parentNode,s=i.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,i=s;return N(r,i,e)}function E(e){var t,o,r,i,a,s,c,l,d;if(e!=P&&(t=n()),R[F]==R[z])return t;if(3==R[U].nodeType){if(o=R[U].nodeValue,r=o.substring(R[F],R[z]),e!=I&&(i=R[U],l=R[F],d=R[z]-R[F],0===l&&d>=i.nodeValue.length-1?i.parentNode.removeChild(i):i.deleteData(l,d),R.collapse(O)),e==P)return;return r.length>0&&t.appendChild(L.createTextNode(r)),t}for(i=b(R[U],R[F]),a=R[z]-R[F];i&&a>0;)s=i.nextSibling,c=B(i,e),t&&t.appendChild(c),--a,i=s;return e!=I&&R.collapse(O),t}function k(e,t){var o,r,i,a,s,c;if(t!=P&&(o=n()),r=T(e,t),o&&o.appendChild(r),i=K(e),a=i-R[F],a<=0)return t!=I&&(R.setEndBefore(e),R.collapse(H)),o;for(r=e.previousSibling;a>0;)s=r.previousSibling,c=B(r,t),o&&o.insertBefore(c,o.firstChild),--a,r=s;return t!=I&&(R.setEndBefore(e),R.collapse(H)),o}function w(e,t){var o,r,i,a,s,c;for(t!=P&&(o=n()),i=A(e,t),o&&o.appendChild(i),r=K(e),++r,a=R[z]-r,i=e.nextSibling;i&&a>0;)s=i.nextSibling,c=B(i,t),o&&o.appendChild(c),--a,i=s;return t!=I&&(R.setStartAfter(e),R.collapse(O)),o}function N(e,t,o){var r,i,a,s,c,l,d,u;for(o!=P&&(i=n()),r=A(e,o),i&&i.appendChild(r),a=e.parentNode,s=K(e),c=K(t),++s,l=c-s,d=e.nextSibling;l>0;)u=d.nextSibling,r=B(d,o),i&&i.appendChild(r),d=u,--l;return r=T(t,o),i&&i.appendChild(r),o!=I&&(R.setStartAfter(e),R.collapse(O)),i}function T(e,t){var n,o,r,i,a,s=b(R[V],R[z]-1),c=s!=R[V];if(s==e)return M(s,c,H,t);for(n=s.parentNode,o=M(n,H,H,t);n;){for(;s;)r=s.previousSibling,i=M(s,c,H,t),t!=P&&o.insertBefore(i,o.firstChild),c=O,s=r;if(n==e)return o;s=n.previousSibling,n=n.parentNode,a=M(n,H,H,t),t!=P&&a.appendChild(o),o=a}}function A(e,t){var n,o,r,i,a,s=b(R[U],R[F]),c=s!=R[U];if(s==e)return M(s,c,O,t);for(n=s.parentNode,o=M(n,H,O,t);n;){for(;s;)r=s.nextSibling,i=M(s,c,O,t),t!=P&&o.appendChild(i),c=O,s=r;if(n==e)return o;s=n.nextSibling,n=n.parentNode,a=M(n,H,O,t),t!=P&&a.appendChild(o),o=a}}function M(t,n,o,r){var i,a,s,c,l;if(n)return B(t,r);if(3==t.nodeType){if(i=t.nodeValue,o?(c=R[F],a=i.substring(c),s=i.substring(0,c)):(c=R[z],a=i.substring(0,c),s=i.substring(c)),r!=I&&(t.nodeValue=s),r==P)return;return l=e.clone(t,H),l.nodeValue=a,l}if(r!=P)return e.clone(t,H)}function B(t,n){return n!=P?n==I?e.clone(t,O):t:void t.parentNode.removeChild(t)}var R=this,L=e.doc,D=0,I=1,P=2,O=!0,H=!1,F="startOffset",U="startContainer",V="endContainer",z="endOffset",q=tinymce.extend,K=e.nodeIndex;q(R,{startContainer:L,startOffset:0,endContainer:L,endOffset:0,collapsed:O,commonAncestorContainer:L,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:o,setEnd:r,setStartBefore:i,setStartAfter:a,setEndBefore:s,setEndAfter:c,collapse:l,selectNode:d,selectNodeContents:u,compareBoundaryPoints:f,deleteContents:p,extractContents:m,cloneContents:h,insertNode:g,surroundContents:v,cloneRange:y})}e.Range=t}(tinymce.dom),function(){function e(e){function t(t,n){var o,r,i,a,s,c,l,d,u=0,f=-1;if(o=t.duplicate(),o.collapse(n),d=o.parentElement(),d.ownerDocument===e.dom.doc){for(;"false"===d.contentEditable;)d=d.parentNode;if(!d.hasChildNodes())return{node:d,inside:1};for(a=d.children,r=a.length-1;u<=r;)if(l=Math.floor((u+r)/2),s=a[l],o.moveToElementText(s),f=o.compareEndPoints(n?"StartToStart":"EndToEnd",t),f>0)r=l-1;else{if(!(f<0))return{node:s};u=l+1}if(f<0)for(s?o.collapse(!1):(o.moveToElementText(d),o.collapse(!0),s=d,i=!0),c=0;0!==o.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==o.move("character",1)&&d==o.parentElement();)c++;else for(o.collapse(!0),c=0;0!==o.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==o.move("character",-1)&&d==o.parentElement();)c++;return{node:s,position:f,offset:c,inside:i}}}function n(){function n(e){var n,o,r,i,a,s=t(d,e),c=0;if(n=s.node,o=s.offset,s.inside&&!n.hasChildNodes())return void u[e?"setStart":"setEnd"](n,0);if(o===i)return void u[e?"setStartBefore":"setEndAfter"](n);if(s.position<0){if(r=s.inside?n.firstChild:n.nextSibling,!r)return void u[e?"setStartAfter":"setEndAfter"](n);if(!o)return void(3==r.nodeType?u[e?"setStart":"setEnd"](r,0):u[e?"setStartBefore":"setEndBefore"](r));for(;r;){if(a=r.nodeValue,c+=a.length,c>=o){n=r,c-=o,c=a.length-c;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return u[e?"setStartBefore":"setEndBefore"](n);if(!o)return void(3==n.nodeType?u[e?"setStart":"setEnd"](r,n.nodeValue.length):u[e?"setStartAfter":"setEndAfter"](r));for(;r;){if(c+=r.nodeValue.length,c>=o){n=r,c-=o;break}r=r.previousSibling}}u[e?"setStart":"setEnd"](n,c)}var i,a,s,c,l,d=e.getRng(),u=r.createRng();if(i=d.item?d.item(0):d.parentElement(),i.ownerDocument!=r.doc)return u;if(a=e.isCollapsed(),d.item)return u.setStart(i.parentNode,r.nodeIndex(i)),u.setEnd(u.startContainer,u.startOffset+1),u;try{n(!0),a||n()}catch(t){if(t.number!=-2147024809)throw t;l=o.getBookmark(2),s=d.duplicate(),s.collapse(!0),i=s.parentElement(),a||(s=d.duplicate(),s.collapse(!1),c=s.parentElement(),c.innerHTML=c.innerHTML),i.innerHTML=i.innerHTML,o.moveToBookmark(l),d=e.getRng(),n(!0),a||n()}return u}var o=this,r=e.dom,i=!1;this.getBookmark=function(n){function o(e){var t,n,o,i,a=[];for(t=e.parentNode,n=r.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(o=t.children,i=o.length;i--;)if(e===o[i]){a.push(i);break}e=t,t=t.parentNode}return a}function i(e){var n;if(n=t(a,e))return{position:n.position,offset:n.offset,indexes:o(n.node),inside:n.inside}}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:o(a.item(0))}:(s.start=i(!0),e.isCollapsed()||(s.end=i()))),s},this.moveToBookmark=function(e){function t(e){var t,n,o,i;for(t=r.getRoot(),n=e.length-1;n>=0;n--)i=t.children,o=e[n],o<=i.length-1&&(t=i[o]);return t}function n(n){var r,a,s,c=e[n?"start":"end"];c&&(r=c.position>0,a=i.createTextRange(),a.moveToElementText(t(c.indexes)),offset=c.offset,offset!==s?(a.collapse(c.inside||r),a.moveStart("character",r?-offset:offset)):a.collapse(n),o.setEndPoint(n?"StartToStart":"EndToStart",a),n&&o.collapse(!0))}var o,i=r.doc.body;e.start&&(e.start.ctrl?(o=i.createControlRange(),o.addElement(t(e.start.indexes)),o.select()):(o=i.createTextRange(),n(!0),n(),o.select()))},this.addRange=function(t){function n(e){var t,n,a,p,m;a=r.create("a"),t=e?s:l,n=e?c:d,p=o.duplicate(),t!=u&&t!=u.documentElement||(t=f,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),p.moveToElementText(a),p.moveStart("character",n),r.remove(a),o.setEndPoint(e?"StartToStart":"EndToEnd",p)):(m=t.childNodes,m.length?(n>=m.length?r.insertAfter(a,m[m.length-1]):t.insertBefore(a,m[n]),p.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>\ufeff</span>",a=t.firstChild,p.moveToElementText(a),p.collapse(i)),o.setEndPoint(e?"StartToStart":"EndToEnd",p),r.remove(a))}var o,a,s,c,l,d,u=e.dom.doc,f=u.body;if(s=t.startContainer,c=t.startOffset,l=t.endContainer,d=t.endOffset,o=f.createTextRange(),s==l&&1==s.nodeType){if(c==d&&!s.hasChildNodes()){if(s.canHaveHTML)return s.innerHTML="<span>\ufeff</span><span>\ufeff</span>",o.moveToElementText(s.lastChild),o.select(),r.doc.selection.clear(),void(s.innerHTML="");c=r.nodeIndex(s),s=s.parentNode}if(c==d-1)try{return a=f.createControlRange(),a.addElement(s.childNodes[c]),void a.select()}catch(e){}}n(!0),n(),o.select()},this.getRangeAt=n}tinymce.dom.TridentSelection=e}(),function(){function e(e,t,n,r,i,a){for(var s=0,c=r.length;s<c;s++){var l=r[s];if(l){var d=!1;for(l=l[e];l;){if(l[o]===n){d=r[l.sizset];break}if(1!==l.nodeType||a||(l[o]=n,l.sizset=s),l.nodeName.toLowerCase()===t){d=l;break}l=l[e]}r[s]=d}}}function t(e,t,n,r,i,a){for(var s=0,c=r.length;s<c;s++){var l=r[s];if(l){var d=!1;for(l=l[e];l;){if(l[o]===n){d=r[l.sizset];break}if(1===l.nodeType)if(a||(l[o]=n,l.sizset=s),"string"!=typeof t){if(l===t){d=!0;break}}else if(u.filter(t,[l]).length>0){d=l;break}l=l[e]}r[s]=d}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o="sizcache",r=0,i=Object.prototype.toString,a=!1,s=!0,c=/\\/g,l=/\r\n/g,d=/\W/;[0,0].sort(function(){return s=!1,0});var u=function(e,t,o,r){o=o||[],t=t||document;var a=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return o;var s,c,l,d,f,h,g,y,b=!0,_=u.isXML(t),x=[],S=e;do if(n.exec(""),s=n.exec(S),s&&(S=s[3],x.push(s[1]),s[2])){d=s[3];break}while(s);if(x.length>1&&m.exec(e))if(2===x.length&&p.relative[x[0]])c=C(x[0]+x[1],t,r);else for(c=p.relative[x[0]]?[t]:u(x.shift(),t);x.length;)e=x.shift(),p.relative[e]&&(e+=x.shift()),c=C(e,c,r);else if(!r&&x.length>1&&9===t.nodeType&&!_&&p.match.ID.test(x[0])&&!p.match.ID.test(x[x.length-1])&&(f=u.find(x.shift(),t,_),t=f.expr?u.filter(f.expr,f.set)[0]:f.set[0]),t)for(f=r?{expr:x.pop(),set:v(r)}:u.find(x.pop(),1!==x.length||"~"!==x[0]&&"+"!==x[0]||!t.parentNode?t:t.parentNode,_),c=f.expr?u.filter(f.expr,f.set):f.set,x.length>0?l=v(c):b=!1;x.length;)h=x.pop(),g=h,p.relative[h]?g=x.pop():h="",null==g&&(g=t),p.relative[h](l,g,_);else l=x=[];if(l||(l=c),l||u.error(h||e),"[object Array]"===i.call(l))if(b)if(t&&1===t.nodeType)for(y=0;null!=l[y];y++)l[y]&&(l[y]===!0||1===l[y].nodeType&&u.contains(t,l[y]))&&o.push(c[y]);else for(y=0;null!=l[y];y++)l[y]&&1===l[y].nodeType&&o.push(c[y]);else o.push.apply(o,l);else v(l,o);return d&&(u(d,a,o,r),u.uniqueSort(o)),o};u.uniqueSort=function(e){if(y&&(a=s,e.sort(y),a))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},u.matches=function(e,t){return u(e,null,null,t)},u.matchesSelector=function(e,t){return u(t,null,null,[e]).length>0},u.find=function(e,t,n){var o,r,i,a,s,l;if(!e)return[];for(r=0,i=p.order.length;r<i;r++)if(s=p.order[r],(a=p.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(c,""),o=p.find[s](a,t,n),null!=o))){e=e.replace(p.match[s],"");break}return o||(o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:o,expr:e}},u.filter=function(e,t,n,o){for(var r,i,a,s,c,l,d,f,m,h=e,g=[],v=t,y=t&&t[0]&&u.isXML(t[0]);e&&t.length;){for(a in p.filter)if(null!=(r=p.leftMatch[a].exec(e))&&r[2]){if(l=p.filter[a],d=r[1],i=!1,r.splice(1,1),"\\"===d.substr(d.length-1))continue;if(v===g&&(g=[]),p.preFilter[a])if(r=p.preFilter[a](r,v,n,g,o,y)){if(r===!0)continue}else i=s=!0;if(r)for(f=0;null!=(c=v[f]);f++)c&&(s=l(c,r,f,v),m=o^s,n&&null!=s?m?i=!0:v[f]=!1:m&&(g.push(c),i=!0));if(void 0!==s){if(n||(v=g),e=e.replace(p.match[a],""),!i)return[];break}}if(e===h){if(null!=i)break;u.error(e)}h=e}return v},u.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var f=u.getText=function(e){var t,n,o=e.nodeType,r="";if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(l,"");for(e=e.firstChild;e;e=e.nextSibling)r+=f(e)}else if(3===o||4===o)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(r+=f(n));return r},p=u.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,o=n&&!d.test(t),r=n&&!o;o&&(t=t.toLowerCase());for(var i,a=0,s=e.length;a<s;a++)if(i=e[a]){for(;(i=i.previousSibling)&&1!==i.nodeType;);e[a]=r||i&&i.nodeName.toLowerCase()===t?i||!1:i===t}r&&u.filter(t,e,!0)},">":function(e,t){var n,o="string"==typeof t,r=0,i=e.length;if(o&&!d.test(t)){for(t=t.toLowerCase();r<i;r++)if(n=e[r]){var a=n.parentNode;e[r]=a.nodeName.toLowerCase()===t&&a}}else{for(;r<i;r++)n=e[r],n&&(e[r]=o?n.parentNode:n.parentNode===t);o&&u.filter(t,e,!0)}},"":function(n,o,i){var a,s=r++,c=t;"string"!=typeof o||d.test(o)||(o=o.toLowerCase(),a=o,c=e),c("parentNode",o,s,n,a,i)},"~":function(n,o,i){var a,s=r++,c=t;"string"!=typeof o||d.test(o)||(o=o.toLowerCase(),a=o,c=e),c("previousSibling",o,s,n,a,i)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var o=t.getElementById(e[1]);return o&&o.parentNode?[o]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],o=t.getElementsByName(e[1]),r=0,i=o.length;r<i;r++)o[r].getAttribute("name")===e[1]&&n.push(o[r]);return 0===n.length?null:n}},TAG:function(e,t){if("undefined"!=typeof t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,o,r,i){if(e=" "+e[1].replace(c,"")+" ",i)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(r^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||o.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e,t){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||u.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&u.error(e[0]);return e[0]=r++,e},ATTR:function(e,t,n,o,r,i){var a=e[1]=e[1].replace(c,"");return!i&&p.attrMap[a]&&(e[1]=p.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,o,r,i){if("not"===e[1]){if(!((n.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=u.filter(e[3],t,o,!0^i);return o||r.push.apply(r,a),!1}e[3]=u(e[3],null,null,t)}else if(p.match.POS.test(e[0])||p.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!u(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,o){return t===o.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,o){var r=t[1],i=p.filters[r];if(i)return i(e,n,t,o);if("contains"===r)return(e.textContent||e.innerText||f([e])||"").indexOf(t[3])>=0;if("not"===r){for(var a=t[3],s=0,c=a.length;s<c;s++)if(a[s]===e)return!1;return!0}u.error(r)},CHILD:function(e,t){var n,r,i,a,s,c,l=t[1],d=e;switch(l){case"only":case"first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===l)return!0;d=e;case"last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case"nth":if(n=t[2],r=t[3],1===n&&0===r)return!0;if(i=t[0],a=e.parentNode,a&&(a[o]!==i||!e.nodeIndex)){for(s=0,d=a.firstChild;d;d=d.nextSibling)1===d.nodeType&&(d.nodeIndex=++s);a[o]=i}return c=e.nodeIndex-r,0===n?0===c:c%n===0&&c/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],o=u.attr?u.attr(e,n):p.attrHandle[n]?p.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=o+"",i=t[2],a=t[4];return null==o?"!="===i:!i&&u.attr?null!=o:"="===i?r===a:"*="===i?r.indexOf(a)>=0:"~="===i?(" "+r+" ").indexOf(a)>=0:a?"!="===i?r!==a:"^="===i?0===r.indexOf(a):"$="===i?r.substr(r.length-a.length)===a:"|="===i&&(r===a||r.substr(0,a.length+1)===a+"-"):r&&o!==!1},POS:function(e,t,n,o){var r=t[2],i=p.setFilters[r];if(i)return i(e,n,t,o)}}},m=p.match.POS,h=function(e,t){return"\\"+(t-0+1)};for(var g in p.match)p.match[g]=new RegExp(p.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[g].source.replace(/\\(\d+)/g,h));p.match.globalPOS=m;var v=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){v=function(e,t){var n=0,o=t||[];if("[object Array]"===i.call(e))Array.prototype.push.apply(o,e);else if("number"==typeof e.length)for(var r=e.length;n<r;n++)o.push(e[n]);else for(;e[n];n++)o.push(e[n]);return o}}var y,b;document.documentElement.compareDocumentPosition?y=function(e,t){return e===t?(a=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(y=function(e,t){if(e===t)return a=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,o,r=[],i=[],s=e.parentNode,c=t.parentNode,l=s;if(s===c)return b(e,t);if(!s)return-1;if(!c)return 1;for(;l;)r.unshift(l),l=l.parentNode;for(l=c;l;)i.unshift(l),l=l.parentNode;n=r.length,o=i.length;for(var d=0;d<n&&d<o;d++)if(r[d]!==i[d])return b(r[d],i[d]);return d===n?b(e,i[d],-1):b(r[d],t,1)},b=function(e,t,n){if(e===t)return n;for(var o=e.nextSibling;o;){if(o===t)return-1;o=o.nextSibling}return 1}),function(){var e=document.createElement("div"),t="script"+(new Date).getTime(),n=document.documentElement;e.innerHTML="<a name='"+t+"'/>",n.insertBefore(e,n.firstChild),document.getElementById(t)&&(p.find.ID=function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var o=t.getElementById(e[1]);return o?o.id===e[1]||"undefined"!=typeof o.getAttributeNode&&o.getAttributeNode("id").nodeValue===e[1]?[o]:void 0:[]}},p.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),e.getElementsByTagName("*").length>0&&(p.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var o=[],r=0;n[r];r++)1===n[r].nodeType&&o.push(n[r]);n=o}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(p.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),document.querySelectorAll&&!function(){var e=u,t=document.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){u=function(t,o,r,i){if(o=o||document,!i&&!u.isXML(o)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===o.nodeType||9===o.nodeType)){if(a[1])return v(o.getElementsByTagName(t),r);if(a[2]&&p.find.CLASS&&o.getElementsByClassName)return v(o.getElementsByClassName(a[2]),r)}if(9===o.nodeType){if("body"===t&&o.body)return v([o.body],r);if(a&&a[3]){var s=o.getElementById(a[3]);if(!s||!s.parentNode)return v([],r);if(s.id===a[3])return v([s],r)}try{return v(o.querySelectorAll(t),r)}catch(e){}}else if(1===o.nodeType&&"object"!==o.nodeName.toLowerCase()){var c=o,l=o.getAttribute("id"),d=l||n,f=o.parentNode,m=/^\s*[+~]/.test(t);l?d=d.replace(/'/g,"\\$&"):o.setAttribute("id",d),m&&f&&(o=o.parentNode);try{if(!m||f)return v(o.querySelectorAll("[id='"+d+"'] "+t),r)}catch(e){}finally{l||c.removeAttribute("id")}}}return e(t,o,r,i)};for(var o in e)u[o]=e[o];t=null}}(),function(){var e=document.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(document.createElement("div"),"div"),o=!1;try{t.call(document.documentElement,"[test!='']:sizzle")}catch(e){o=!0}u.matchesSelector=function(e,r){if(r=r.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!u.isXML(e))try{if(o||!p.match.PSEUDO.test(r)&&!/!=/.test(r)){var i=t.call(e,r);if(i||!n||e.document&&11!==e.document.nodeType)return i}}catch(e){}return u(r,null,null,[e]).length>0}}}(),function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(e,t,n){if("undefined"!=typeof t.getElementsByClassName&&!n)return t.getElementsByClassName(e[1])},e=null))}(),document.documentElement.contains?u.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:document.documentElement.compareDocumentPosition?u.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:u.contains=function(){return!1},u.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var C=function(e,t,n){for(var o,r=[],i="",a=t.nodeType?[t]:t;o=p.match.PSEUDO.exec(e);)i+=o[0],e=e.replace(p.match.PSEUDO,"");e=p.relative[e]?e+"*":e;for(var s=0,c=a.length;s<c;s++)u(e,a[s],r,n);return u.filter(i,r)};window.tinymce.dom.Sizzle=u}(),function(e){e.dom.Element=function(t,n){var o,r,i=this;i.settings=n=n||{},i.id=t,i.dom=o=n.dom||e.DOM,e.isIE||(r=o.get(i.id)),e.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(e){i[e]=function(){var n,r=[t];for(n=0;n<arguments.length;n++)r.push(arguments[n]);return r=o[e].apply(o,r),i.update(e),r}}),e.extend(i,{on:function(t,n,o){return e.dom.Event.add(i.id,t,n,o)},getXY:function(){return{x:parseInt(i.getStyle("left")),y:parseInt(i.getStyle("top"))}},getSize:function(){var e=o.get(i.id);return{w:parseInt(i.getStyle("width")||e.clientWidth),h:parseInt(i.getStyle("height")||e.clientHeight)}},moveTo:function(e,t){i.setStyles({left:e,top:t})},moveBy:function(e,t){var n=i.getXY();i.moveTo(n.x+e,n.y+t)},resizeTo:function(e,t){i.setStyles({width:e,height:t})},resizeBy:function(e,t){var n=i.getSize();i.resizeTo(n.w+e,n.h+t)},update:function(t){var r;if(e.isIE6&&n.blocker){if(t=t||"",0===t.indexOf("get")||0===t.indexOf("has")||0===t.indexOf("is"))return;if("remove"==t)return void o.remove(i.blocker);i.blocker?r=o.get(i.blocker):(i.blocker=o.uniqueId(),r=o.add(n.container||o.getRoot(),"iframe",{id:i.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),o.setStyle(r,"opacity",0)),o.setStyles(r,{left:i.getStyle("left",1),top:i.getStyle("top",1),width:i.getStyle("width",1),height:i.getStyle("height",1),display:i.getStyle("display",1),zIndex:parseInt(i.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(e){var t=e.is,n=e.isIE,o=e.each,r=e.dom.TreeWalker;e.create("tinymce.dom.Selection",{Selection:function(t,n,r){var i=this;i.dom=t,i.win=n,i.serializer=r,o(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(t){i[t]=new e.util.Dispatcher(i)}),i.win.getSelection||(i.tridentSel=new e.dom.TridentSelection(i)),e.isIE&&t.boxModel&&this._fixIESelection(),e.addUnload(i.destroy,i)},setCursorLocation:function(e,t){var n=this,o=n.dom.createRng();o.setStart(e,t),o.setEnd(e,t),n.setRng(o),n.collapse(!1)},getContent:function(e){var n,o,r,i=this,a=i.getRng(),s=i.dom.create("body"),c=i.getSel();return e=e||{},n=o="",e.get=!0,e.format=e.format||"html",e.forced_root_block="",i.onBeforeGetContent.dispatch(i,e),"text"==e.format?i.isCollapsed()?"":a.text||(c.toString?c.toString():""):(a.cloneContents?(r=a.cloneContents(),
r&&s.appendChild(r)):t(a.item)||t(a.htmlText)?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(o=" "),e.getInner=!0,e.content=i.isCollapsed()?"":n+i.serializer.serialize(s,e)+o,i.onGetContent.dispatch(i,e),e.content)},setContent:function(e,t){var n,o,r,i=this,a=i.getRng(),s=i.win.document;if(t=t||{format:"html"},t.set=!0,e=t.content=e,t.no_events||i.onBeforeSetContent.dispatch(i,t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(o=s.createDocumentFragment(),r=s.createElement("div"),o.appendChild(r),r.outerHTML=e,a.insertNode(o))),n=i.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),i.setRng(a),i.dom.remove("__caret");try{i.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=i.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),i.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||i.onSetContent.dispatch(i,t)},getStart:function(){var e,t,n,o,r=this.getRng();if(r.duplicate||r.item){if(r.item)return r.item(0);for(n=r.duplicate(),n.collapse(1),e=n.parentElement(),t=o=r.parentElement();o=o.parentNode;)if(o==e){e=t;break}return e}return e=r.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,r.startOffset)]),e&&3==e.nodeType?e.parentNode:e},getEnd:function(){var e,t,n=this,o=n.getRng();return o.duplicate||o.item?o.item?o.item(0):(o=o.duplicate(),o.collapse(0),e=o.parentElement(),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=o.endContainer,t=o.endOffset,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[t>0?t-1:t]),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(e,t){function n(e,t){var n=0;return o(m.select(e),function(e,o){e==t&&(n=o)}),n}function r(e){function t(t){var n,o,r,i=t?"start":"end";n=e[i+"Container"],o=e[i+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(t?o:o-1,r.length-1)],n&&(o=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,o)))}return t(!0),t(),e}function i(){function e(e,n){var r,i,a=e[n?"startContainer":"endContainer"],s=e[n?"startOffset":"endOffset"],c=[],l=0;if(3==a.nodeType){if(t)for(r=a.previousSibling;r&&3==r.nodeType;r=r.previousSibling)s+=r.nodeValue.length;c.push(s)}else i=a.childNodes,s>=i.length&&i.length&&(l=1,s=Math.max(0,i.length-1)),c.push(p.dom.nodeIndex(i[s],t)+l);for(;a&&a!=o;a=a.parentNode)c.push(p.dom.nodeIndex(a,t));return c}var n=p.getRng(!0),o=m.getRoot(),r={};return r.start=e(n,!0),p.isCollapsed()||(r.end=e(n)),r}var a,s,c,l,d,u,f,p=this,m=p.dom,h="\ufeff";if(2==e)return p.tridentSel?p.tridentSel.getBookmark(e):i();if(e)return{rng:p.getRng()};if(a=p.getRng(),c=m.uniqueId(),l=tinyMCE.activeEditor.selection.isCollapsed(),f="overflow:hidden;line-height:0px",a.duplicate||a.item){if(a.item)return u=a.item(0),d=u.nodeName,{name:d,index:n(d,u)};s=a.duplicate();try{a.collapse(),a.pasteHTML('<span data-mce-type="bookmark" id="'+c+'_start" style="'+f+'">'+h+"</span>"),l||(s.collapse(!1),a.moveToElementText(s.parentElement()),0===a.compareEndPoints("StartToEnd",s)&&s.move("character",-1),s.pasteHTML('<span data-mce-type="bookmark" id="'+c+'_end" style="'+f+'">'+h+"</span>"))}catch(e){return null}}else{if(u=p.getNode(),d=u.nodeName,"IMG"==d)return{name:d,index:n(d,u)};s=r(a.cloneRange()),l||(s.collapse(!1),s.insertNode(m.create("span",{"data-mce-type":"bookmark",id:c+"_end",style:f},h))),a=r(a),a.collapse(!0),a.insertNode(m.create("span",{"data-mce-type":"bookmark",id:c+"_start",style:f},h))}return p.moveToBookmark({id:c,keep:1}),{id:c}},moveToBookmark:function(t){function r(e){var n,o,r,i,a=t[e?"start":"end"];if(a){for(r=a[0],o=c,n=a.length-1;n>=1;n--){if(i=o.childNodes,a[n]>i.length-1)return;o=i[a[n]]}3===o.nodeType&&(r=Math.min(a[0],o.nodeValue.length)),1===o.nodeType&&(r=Math.min(a[0],o.childNodes.length)),e?s.setStart(o,r):s.setEnd(o,r)}return!0}function i(n){var r,i,a,s,c=m.get(t.id+"_"+n),p=t.keep;if(c&&(r=c.parentNode,"start"==n?(p?(r=c.firstChild,i=1):i=m.nodeIndex(c),l=d=r,u=f=i):(p?(r=c.firstChild,i=1):i=m.nodeIndex(c),d=r,f=i),!p)){for(s=c.previousSibling,a=c.nextSibling,o(e.grep(c.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=m.get(t.id+"_"+n);)m.remove(c,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!e.isOpera&&(i=s.nodeValue.length,s.appendData(a.nodeValue),m.remove(a),"start"==n?(l=d=s,u=f=i):(d=s,f=i))}}function a(e){return!m.isBlock(e)||e.innerHTML||n||(e.innerHTML='<br data-mce-bogus="1" />'),e}var s,c,l,d,u,f,p=this,m=p.dom;if(t)if(t.start){if(s=m.createRng(),c=m.getRoot(),p.tridentSel)return p.tridentSel.moveToBookmark(t);r(!0)&&r()&&p.setRng(s)}else t.id?(i("start"),i("end"),l&&(s=m.createRng(),s.setStart(a(l),u),s.setEnd(a(d),f),p.setRng(s))):t.name?p.select(m.select(t.name)[t.index]):t.rng&&p.setRng(t.rng)},select:function(t,n){function o(t,n){var o=new r(t,t);do{if(3==t.nodeType&&0!==e.trim(t.nodeValue).length)return void(n?c.setStart(t,0):c.setEnd(t,t.nodeValue.length));if("BR"==t.nodeName)return void(n?c.setStartBefore(t):c.setEndBefore(t))}while(t=n?o.next():o.prev())}var i,a=this,s=a.dom,c=s.createRng();return t&&(i=s.nodeIndex(t),c.setStart(t.parentNode,i),c.setEnd(t.parentNode,i+1),n&&(o(t,1),o(t)),a.setRng(c)),t},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed)},collapse:function(e){var t,n=this,o=n.getRng();o.item&&(t=o.item(0),o=n.win.document.body.createTextRange(),o.moveToElementText(t)),o.collapse(!!e),n.setRng(o)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(t){var n,o,r,i=this,a=i.win.document;if(t&&i.tridentSel)return i.tridentSel.getRangeAt(0);try{(n=i.getSel())&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():a.createRange())}catch(e){}return e.isIE&&o&&o.setStart&&a.selection.createRange().item&&(r=a.selection.createRange().item(0),o=a.createRange(),o.setStartBefore(r),o.setEndAfter(r)),o||(o=a.createRange?a.createRange():a.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(r=i.dom.getRoot(),o.setStart(r,0),o.setEnd(r,0)),i.selectedRange&&i.explicitRange&&(0===o.compareBoundaryPoints(o.START_TO_START,i.selectedRange)&&0===o.compareBoundaryPoints(o.END_TO_END,i.selectedRange)?o=i.explicitRange:(i.selectedRange=null,i.explicitRange=null)),o},setRng:function(e,t){var n,o=this;if(o.tridentSel){if(e.cloneRange)try{return void o.tridentSel.addRange(e)}catch(e){}try{e.select()}catch(e){}}else if(n=o.getSel()){o.explicitRange=e;try{n.removeAllRanges()}catch(e){}n.addRange(e),t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),o.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,o=n.getRng(),r=(n.getSel(),o.startContainer),i=o.endContainer;return o?o.setStart?(t=o.commonAncestorContainer,!o.collapsed&&(o.startContainer==o.endContainer&&o.endOffset-o.startOffset<2&&o.startContainer.hasChildNodes()&&(t=o.startContainer.childNodes[o.startOffset]),3===r.nodeType&&3===i.nodeType&&(r=r.length===o.startOffset?e(r.nextSibling,!0):r.parentNode,i=0===o.endOffset?e(i.previousSibling,!1):i.parentNode,r&&r===i))?r:t&&3==t.nodeType?t.parentNode:t):o.item?o.item(0):o.parentElement():n.dom.getRoot()},getSelectedBlocks:function(e,t){var n,o,i,a=this,s=a.dom,c=[];if(n=s.getParent(e||a.getStart(),s.isBlock),o=s.getParent(t||a.getEnd(),s.isBlock),n&&c.push(n),n&&o&&n!=o){i=n;for(var l=new r(n,s.getRoot());(i=l.next())&&i!=o;)s.isBlock(i)&&c.push(i)}return o&&n!=o&&c.push(o),c},isForward:function(){var e,t,n=this.dom,o=this.getSel();return!o||null==o.anchorNode||null==o.focusNode||(e=n.createRng(),e.setStart(o.anchorNode,o.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(o.focusNode,o.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){function t(e){function t(e,t){for(var n=new r(e,m.getParent(e.parentNode,m.isBlock)||h);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return!0}function s(e,t){var n,a;for(t=t||c,n=new r(t,m.getParent(t.parentNode,m.isBlock)||h);u=n[e?"prev":"next"]();){if(3===u.nodeType&&u.nodeValue.length>0)return c=u,l=e?u.nodeValue.length:0,void(o=!0);if(m.isBlock(u)||f[u.nodeName.toLowerCase()])return;a=u}i&&a&&(c=a,o=!0,l=0)}var c,l,d,u,f,p,m=a.dom,h=m.getRoot();if(c=n[(e?"start":"end")+"Container"],l=n[(e?"start":"end")+"Offset"],f=m.schema.getNonEmptyElements(),9===c.nodeType&&(c=m.getRoot(),l=0),c===h){if(e&&(u=c.childNodes[l>0?l-1:0],u&&(p=u.nodeName.toLowerCase(),f[u.nodeName]||"TABLE"==u.nodeName)))return;if(c.hasChildNodes()&&(c=c.childNodes[Math.min(!e&&l>0?l-1:l,c.childNodes.length-1)],l=0,c.hasChildNodes()&&!/TABLE/.test(c.nodeName))){u=c,d=new r(c,h);do{if(3===u.nodeType&&u.nodeValue.length>0){l=e?0:u.nodeValue.length,c=u,o=!0;break}if(f[u.nodeName.toLowerCase()]){l=m.nodeIndex(u),c=u.parentNode,"IMG"!=u.nodeName||e||l++,o=!0;break}}while(u=e?d.next():d.prev())}}i&&(3===c.nodeType&&0===l&&s(!0),1===c.nodeType&&(u=c.childNodes[l],!u||"BR"!==u.nodeName||t(u)||t(u,!0)||s(!0,c.childNodes[l]))),e&&!i&&3===c.nodeType&&l===c.nodeValue.length&&s(!1),o&&n["set"+(e?"Start":"End")](c,l)}var n,o,i,a=this;e.isIE||(n=a.getRng(),i=n.collapsed,t(!0),i||t(),o&&(i&&n.collapse(!0),a.setRng(n,a.isForward())))},destroy:function(t){var n=this;n.win=null,t||e.removeUnload(n.destroy)},_fixIESelection:function(){function e(e,t){var n=c.createTextRange();try{n.moveToPoint(e,t)}catch(e){n=null}return n}function t(t){var o;t.button?(o=e(t.x,t.y),o&&(o.compareEndPoints("StartToStart",r)>0?o.setEndPoint("StartToStart",r):o.setEndPoint("EndToEnd",r),o.select())):n()}function n(){var e=s.selection.createRange();r&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&r.select(),a.unbind(s,"mouseup",n),a.unbind(s,"mousemove",t),r=o=0}var o,r,i,a=this.dom,s=a.doc,c=s.body;s.documentElement.unselectable=!0,a.bind(s,["mousedown","contextmenu"],function(c){if("HTML"===c.target.nodeName){if(o&&n(),i=s.documentElement,i.scrollHeight>i.clientHeight)return;o=1,r=e(c.x,c.y),r&&(a.bind(s,"mouseup",n),a.bind(s,"mousemove",t),a.win.focus(),r.select())}})}})}(tinymce),function(e){e.dom.Serializer=function(t,n,o){var r,i,a,s=e.isIE,c=e.each;return t.apply_source_formatting||(t.indent=!1),n=n||e.DOM,o=o||new e.html.Schema(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,r=new e.util.Dispatcher(self),i=new e.util.Dispatcher(self),a=new e.html.DomParser(t,o),a.addAttributeFilter("src,href,style",function(e,o){for(var r,i,a,s=e.length,c="data-mce-"+o,l=t.url_converter,d=t.url_converter_scope;s--;)r=e[s],i=r.attributes.map[c],i!==a?(r.attr(o,i.length>0?i:null),r.attr(c,null)):(i=r.attributes.map[o],"style"===o?i=n.serializeStyle(n.parseStyle(i),r.name):l&&(i=l.call(d,i,o,r.name)),r.attr(o,i.length>0?i:null))}),a.addAttributeFilter("class",function(e,t){for(var n,o,r=e.length;r--;)n=e[r],o=n.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,""),n.attr("class",o.length>0?o:null)}),a.addAttributeFilter("data-mce-type",function(e,t,n){for(var o,r=e.length;r--;)o=e[r],"bookmark"!==o.attributes.map["data-mce-type"]||n.cleanup||o.remove()}),a.addAttributeFilter("data-mce-expando",function(e,t,n){for(var o=e.length;o--;)e[o].attr(t,null)}),a.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var o,r,i=e.length;i--;)o=e[i],r=o.firstChild?o.firstChild.value:"","script"===t?(o.attr("type",(o.attr("type")||"text/javascript").replace(/^mce\-/,"")),r.length>0&&(o.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):r.length>0&&(o.firstChild.value="<!--\n"+n(r)+"\n-->")}),a.addNodeFilter("#comment",function(e,t){for(var n,o=e.length;o--;)n=e[o],0===n.value.indexOf("[CDATA[")?(n.name="#cdata",n.type=4,n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===n.value.indexOf("mce:protected ")&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}),a.addNodeFilter("xml:namespace,input",function(e,t){for(var n,o=e.length;o--;)n=e[o],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),t.fix_list_elements&&a.addNodeFilter("ul,ol",function(e,t){for(var n,o,r=e.length;r--;)n=e[r],o=n.parent,"ul"!==o.name&&"ol"!==o.name||n.prev&&"li"===n.prev.name&&n.prev.append(n)}),a.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:o,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,onPreProcess:r,onPostProcess:i,serialize:function(l,d){var u,f,p,m,h;return s&&n.select("script,style,select,map").length>0?(h=l.innerHTML,l=l.cloneNode(!1),n.setHTML(l,h)):l=l.cloneNode(!0),u=l.ownerDocument.implementation,u.createHTMLDocument&&(f=u.createHTMLDocument(""),c("BODY"==l.nodeName?l.childNodes:[l],function(e){f.body.appendChild(f.importNode(e,!0))}),l="BODY"!=l.nodeName?f.body.firstChild:f.body,p=n.doc,n.doc=f),d=d||{},d.format=d.format||"html",d.no_events||(d.node=l,r.dispatch(self,d)),m=new e.html.Serializer(t,o),d.content=m.serialize(a.parse(e.trim(d.getInner?l.innerHTML:n.getOuterHTML(l)),d)),d.cleanup||(d.content=d.content.replace(/\uFEFF|\u200B/g,"")),d.no_events||i.dispatch(self,d),p&&(n.doc=p),d.node=null,d.content},addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)}}}}(tinymce),function(e){e.dom.ScriptLoader=function(t){function n(t,n){function o(){l.remove(c),i&&(i.onreadystatechange=i.onload=i=null),n()}function r(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var i,a,s,c,l=e.DOM;return c=l.uniqueId(),e.isIE6&&(a=new e.util.URI(t),s=location,a.host==s.hostname&&a.port==s.port&&a.protocol+":"==s.protocol&&"file"!=a.protocol.toLowerCase())?void e.util.XHR.send({url:e._addVer(a.getURI()),success:function(e){var t=l.create("script",{type:"text/javascript"});t.text=e,document.getElementsByTagName("head")[0].appendChild(t),l.remove(t),o()},error:r}):(i=l.create("script",{id:c,type:"text/javascript",src:e._addVer(t)}),e.isIE||(i.onload=o),i.onerror=r,e.isOpera||(i.onreadystatechange=function(){var e=i.readyState;"complete"!=e&&"loaded"!=e||o()}),void(document.getElementsByTagName("head")[0]||document.body).appendChild(i))}var o,r=0,i=1,a=2,s={},c=[],l={},d=[],u=0;this.isDone=function(e){return s[e]==a},this.markDone=function(e){s[e]=a},this.add=this.load=function(e,t,n){var i=s[e];i==o&&(c.push(e),s[e]=r),t&&(l[e]||(l[e]=[]),l[e].push({func:t,scope:n||this}))},this.loadQueue=function(e,t){this.loadScripts(c,e,t)},this.loadScripts=function(t,r,c){function f(t){e.each(l[t],function(e){e.func.call(e.scope)}),l[t]=o}var p;d.push({func:r,scope:c||this}),(p=function(){var o=e.grep(t);t.length=0,e.each(o,function(e){return s[e]==a?void f(e):void(s[e]!=i&&(s[e]=i,u++,n(e,function(){s[e]=a,u--,f(e),p()})))}),u||(e.each(d,function(e){e.func.call(e.scope)}),d.length=0)})()}},e.ScriptLoader=new e.dom.ScriptLoader}(tinymce),function(e){e.dom.RangeUtils=function(t){this.walk=function(n,o){function r(e){var t;return t=e[0],3===t.nodeType&&t===h&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function i(e,t,n){for(var o=[];e&&e!=n;e=e[t])o.push(e);return o}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,n){var a=n?"nextSibling":"previousSibling";for(u=e,f=u.parentNode;u&&u!=t;u=f)f=u.parentNode,p=i(u==e?u:u[a],a),p.length&&(n||p.reverse(),o(r(p)))}var c,l,d,u,f,p,m,h=n.startContainer,g=n.startOffset,v=n.endContainer,y=n.endOffset;if(m=t.select("td.mceSelected,th.mceSelected"),m.length>0)return void e.each(m,function(e){o([e])});if(1==h.nodeType&&h.hasChildNodes()&&(h=h.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(y-1,v.childNodes.length-1)]),h==v)return o(r([h]));for(c=t.findCommonAncestor(h,v),u=h;u;u=u.parentNode){if(u===v)return s(h,c,!0);if(u===c)break}for(u=v;u;u=u.parentNode){if(u===h)return s(v,c);if(u===c)break}l=a(h,c)||h,d=a(v,c)||v,s(h,l,!0),p=i(l==h?l:l.nextSibling,"nextSibling",d==v?d.nextSibling:d),p.length&&o(r(p)),s(v,d)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,o=e.startOffset,r=e.endContainer,i=e.endOffset;return n==r&&3==n.nodeType?o>0&&o<n.nodeValue.length&&(r=t(n,o),n=r.previousSibling,i>o?(i-=o,n=r=t(r,i).previousSibling,i=r.nodeValue.length,o=0):i=0):(3==n.nodeType&&o>0&&o<n.nodeValue.length&&(n=t(n,o),o=0),3==r.nodeType&&i>0&&i<r.nodeValue.length&&(r=t(r,i).previousSibling,i=r.nodeValue.length)),{startContainer:n,startOffset:o,endContainer:r,endOffset:i}}},e.dom.RangeUtils.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1}}(tinymce),function(e){var t=e.dom.Event,n=e.each;e.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(o,r){var i,a,s,c,l,d=this,u=o.root,f=o.items,p=o.enableUpDown,m=o.enableLeftRight||!o.enableUpDown,h=o.excludeFromTabOrder;r=r||e.DOM,i=function(e){l=e.target.id},a=function(e){r.setAttrib(e.target.id,"tabindex","-1")},c=function(e){var t=r.get(l);r.setAttrib(t,"tabindex","0"),t.focus()},d.focus=function(){r.get(l).focus()},d.destroy=function(){n(f,function(e){r.unbind(r.get(e.id),"focus",i),r.unbind(r.get(e.id),"blur",a)}),r.unbind(r.get(u),"focus",c),r.unbind(r.get(u),"keydown",s),f=r=u=d.focus=i=a=s=c=null,d.destroy=function(){}},d.moveFocus=function(e,i){var a,s=-1;d.controls;l&&(n(f,function(e,t){if(e.id===l)return s=t,!1}),s+=e,s<0?s=f.length-1:s>=f.length&&(s=0),a=f[s],r.setAttrib(l,"tabindex","-1"),r.setAttrib(a.id,"tabindex","0"),r.get(a.id).focus(),o.actOnFocus&&o.onAction(a.id),i&&t.cancel(i))},s=function(e){var n=37,r=39,i=38,a=40,s=27,c=14,u=13,f=32;switch(e.keyCode){case n:m&&d.moveFocus(-1);break;case r:m&&d.moveFocus(1);break;case i:p&&d.moveFocus(-1);break;case a:p&&d.moveFocus(1);break;case s:o.onCancel&&(o.onCancel(),t.cancel(e));break;case c:case u:case f:o.onAction&&(o.onAction(l),t.cancel(e))}},n(f,function(e,t){var n;e.id||(e.id=r.uniqueId("_mce_item_")),h?(r.bind(e.id,"blur",a),n="-1"):n=0===t?"0":"-1",r.setAttrib(e.id,"tabindex",n),r.bind(r.get(e.id),"focus",i)}),f[0]&&(l=f[0].id),r.setAttrib(u,"tabindex","-1"),r.bind(r.get(u),"focus",c),r.bind(r.get(u),"keydown",s)}})}(tinymce),function(e){var t=e.DOM,n=e.is;e.create("tinymce.ui.Control",{Control:function(t,n,o){this.id=t,this.settings=n=n||{},this.rendered=!1,this.onRender=new e.util.Dispatcher(this),this.classPrefix="",this.scope=n.scope||this,this.disabled=0,this.active=0,this.editor=o},setAriaProperty:function(e,n){var o=t.get(this.id+"_aria")||t.get(this.id);o&&t.setAttrib(o,"aria-"+e,!!n)},focus:function(){t.get(this.id).focus()},setDisabled:function(e){e!=this.disabled&&(this.setAriaProperty("disabled",e),this.setState("Disabled",e),this.setState("Enabled",!e),this.disabled=e)},isDisabled:function(){return this.disabled},setActive:function(e){e!=this.active&&(this.setState("Active",e),this.active=e,this.setAriaProperty("pressed",e))},isActive:function(){return this.active},setState:function(e,n){var o=t.get(this.id);e=this.classPrefix+e,n?t.addClass(o,e):t.removeClass(o,e)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(e){t.setHTML(e,this.renderHTML())},postRender:function(){var e,t=this;n(t.disabled)&&(e=t.disabled,t.disabled=-1,t.setDisabled(e)),n(t.active)&&(e=t.active,t.active=-1,t.setActive(e))},remove:function(){t.remove(this.id),this.destroy()},destroy:function(){e.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(e,t,n){this.parent(e,t,n),this.controls=[],this.lookup={}},add:function(e){return this.lookup[e.id]=e,this.controls.push(e),e},get:function(e){return this.lookup[e]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(e,t){this.parent(e,t),this.classPrefix="mceSeparator",this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{class:this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}}),function(e){var t=e.is;e.DOM,e.each,e.walk;e.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(e,t){this.parent(e,t),this.classPrefix="mceMenuItem"},setSelected:function(e){this.setState("Selected",e),this.setAriaProperty("checked",!!e),this.selected=e},isSelected:function(){return this.selected},postRender:function(){var e=this;e.parent(),t(e.selected)&&e.setSelected(e.selected)}})}(tinymce),function(e){var t=(e.is,e.DOM),n=(e.each,e.walk);e.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(t,n){var o=this;o.parent(t,n),o.items={},o.collapsed=!1,o.menuCount=0,o.onAddItem=new e.util.Dispatcher(this)},expand:function(e){var t=this;e&&n(t,function(e){e.expand&&e.expand()},"items",t),t.collapsed=!1},collapse:function(e){var t=this;e&&n(t,function(e){e.collapse&&e.collapse()},"items",t),t.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(n){return n.settings||(n=new e.ui.MenuItem(n.id||t.uniqueId(),n)),this.onAddItem.dispatch(this,n),this.items[n.id]=n},addSeparator:function(){return this.add({separator:!0})},addMenu:function(e){return e.collapse||(e=this.createMenu(e)),this.menuCount++,this.add(e)},hasMenus:function(){return 0!==this.menuCount},remove:function(e){delete this.items[e.id]},removeAll:function(){var e=this;n(e,function(e){e.removeAll?e.removeAll():e.remove(),e.destroy()},"items",e),e.items={}},createMenu:function(n){var o=new e.ui.Menu(n.id||t.uniqueId(),n);return o.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),o}})}(tinymce),function(e){var t=e.is,n=e.DOM,o=e.each,r=e.dom.Event,i=e.dom.Element;e.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(o,r){r=r||{},r.container=r.container||n.doc.body,r.offset_x=r.offset_x||0,r.offset_y=r.offset_y||0,r.vp_offset_x=r.vp_offset_x||0,r.vp_offset_y=r.vp_offset_y||0,t(r.icons)&&!r.icons&&(r.class+=" mceNoIcons"),this.parent(o,r),this.onShowMenu=new e.util.Dispatcher(this),this.onHideMenu=new e.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(t){var o,r=this,i=r.settings;return t.container=t.container||i.container,t.parent=r,t.constrain=t.constrain||i.constrain,t.class=t.class||i.class,t.vp_offset_x=t.vp_offset_x||i.vp_offset_x,t.vp_offset_y=t.vp_offset_y||i.vp_offset_y,t.keyboard_focus=i.keyboard_focus,o=new e.ui.DropMenu(t.id||n.uniqueId(),t),o.onAddItem.add(r.onAddItem.dispatch,r.onAddItem),o},focus:function(){var e=this;e.keyboardNav&&e.keyboardNav.focus()},update:function(){var e,t,o=this,r=o.settings,i=n.get("menu_"+o.id+"_tbl"),a=n.get("menu_"+o.id+"_co");e=r.max_width?Math.min(i.offsetWidth,r.max_width):i.offsetWidth,t=r.max_height?Math.min(i.offsetHeight,r.max_height):i.offsetHeight,n.boxModel?o.element.setStyles({width:e,height:t}):o.element.setStyles({width:e+2,height:t+2}),r.max_width&&n.setStyle(a,"width",e),r.max_height&&(n.setStyle(a,"height",t),i.clientHeight<r.max_height&&n.setStyle(a,"overflow","hidden"))},showMenu:function(t,a,s){var c,l,d,u,f,p,m=this,h=m.settings,g=n.getViewPort(),v=2,y=m.classPrefix;m.collapse(1),m.isMenuVisible||(m.rendered?c=n.get("menu_"+m.id):(c=n.add(m.settings.container,m.renderNode()),o(m.items,function(e){e.postRender()}),m.element=new i("menu_"+m.id,{blocker:1,container:h.container})),e.isOpera||n.setStyles(c,{left:-65535,top:-65535}),n.show(c),m.update(),t+=h.offset_x||0,a+=h.offset_y||0,g.w-=4,g.h-=4,h.constrain&&(l=c.clientWidth-v,d=c.clientHeight-v,u=g.x+g.w,f=g.y+g.h,t+h.vp_offset_x+l>u&&(t=s?s-l:Math.max(0,u-h.vp_offset_x-l)),a+h.vp_offset_y+d>f&&(a=Math.max(0,f-h.vp_offset_y-d))),n.setStyles(c,{left:t,top:a}),m.element.update(),m.isMenuVisible=1,m.mouseClickFunc=r.add(c,"click",function(e){var t;if(e=e.target,e&&(e=n.getParent(e,"tr"))&&!n.hasClass(e,y+"ItemSub")){if(t=m.items[e.id],t.isDisabled())return;for(p=m;p;)p.hideMenu&&p.hideMenu(),p=p.settings.parent;return t.settings.onclick&&t.settings.onclick(e),!1}}),m.hasMenus()&&(m.mouseOverFunc=r.add(c,"mouseover",function(e){var t,o;if(e=e.target,e&&(e=n.getParent(e,"tr"))){if(t=m.items[e.id],m.lastMenu&&m.lastMenu.collapse(1),t.isDisabled())return;e&&n.hasClass(e,y+"ItemSub")&&(o=n.getRect(e),t.showMenu(o.x+o.w-v,o.y-v,o.x),m.lastMenu=t,n.addClass(n.get(t.id).firstChild,y+"ItemActive"))}})),r.add(c,"keydown",m._keyHandler,m),m.onShowMenu.dispatch(m),h.keyboard_focus&&m._setupKeyboardNav())},hideMenu:function(e){var t,o=this,i=n.get("menu_"+o.id);o.isMenuVisible&&(o.keyboardNav&&o.keyboardNav.destroy(),r.remove(i,"mouseover",o.mouseOverFunc),r.remove(i,"click",o.mouseClickFunc),r.remove(i,"keydown",o._keyHandler),n.hide(i),o.isMenuVisible=0,e||o.collapse(1),o.element&&o.element.hide(),(t=n.get(o.id))&&n.removeClass(t.firstChild,o.classPrefix+"ItemActive"),o.onHideMenu.dispatch(o))},add:function(e){var t,o=this;return e=o.parent(e),o.isRendered&&(t=n.get("menu_"+o.id))&&o._add(n.select("tbody",t)[0],e),e},collapse:function(e){this.parent(e),this.hideMenu(1)},remove:function(e){return n.remove(e.id),this.destroy(),this.parent(e)},destroy:function(){var e=this,t=n.get("menu_"+e.id);e.keyboardNav&&e.keyboardNav.destroy(),r.remove(t,"mouseover",e.mouseOverFunc),r.remove(n.select("a",t),"focus",e.mouseOverFunc),r.remove(t,"click",e.mouseClickFunc),r.remove(t,"keydown",e._keyHandler),e.element&&e.element.remove(),n.remove(t)},renderNode:function(){var e,t,r,a,s=this,c=s.settings;return a=n.create("div",{role:"listbox",id:"menu_"+s.id,class:c.class,style:"position:absolute;left:0;top:0;z-index:200000;outline:0"}),s.settings.parent&&n.setAttrib(a,"aria-parent","menu_"+s.settings.parent.id),r=n.add(a,"div",{role:"presentation",id:"menu_"+s.id+"_co",class:s.classPrefix+(c.class?" "+c.class:"")}),s.element=new i("menu_"+s.id,{blocker:1,container:c.container}),c.menu_line&&n.add(r,"span",{class:s.classPrefix+"Line"}),e=n.add(r,"table",{role:"presentation",id:"menu_"+s.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),t=n.add(e,"tbody"),o(s.items,function(e){s._add(t,e)}),s.rendered=!0,a},_setupKeyboardNav:function(){var t,o,r=this;t=n.get("menu_"+r.id),o=n.select("a[role=option]","menu_"+r.id),o.splice(0,0,t),r.keyboardNav=new e.ui.KeyboardNavigation({root:"menu_"+r.id,items:o,onCancel:function(){r.hideMenu()},enableUpDown:!0}),t.focus()},_keyHandler:function(e){var t=this;switch(e.keyCode){case 37:t.settings.parent&&(t.hideMenu(),t.settings.parent.focus(),r.cancel(e));break;case 39:t.mouseOverFunc&&t.mouseOverFunc(e)}},_add:function(e,t){var o,r,i,a,s,c=t.settings,l=this.classPrefix;return c.separator?(i=n.add(e,"tr",{id:t.id,class:l+"ItemSeparator"}),n.add(i,"td",{class:l+"ItemSeparator"}),void((o=i.previousSibling)&&n.addClass(o,"mceLast"))):(o=i=n.add(e,"tr",{id:t.id,class:l+"Item "+l+"ItemEnabled"}),o=a=n.add(o,c.titleItem?"th":"td"),o=r=n.add(o,"a",{id:t.id+"_aria",role:c.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),c.parent&&(n.setAttrib(r,"aria-haspopup","true"),n.setAttrib(r,"aria-owns","menu_"+t.id)),n.addClass(a,c.class),s=n.add(o,"span",{class:"mceIcon"+(c.icon?" mce_"+c.icon:"")}),c.icon_src&&n.add(s,"img",{src:c.icon_src}),o=n.add(o,c.element||"span",{class:"mceText",title:t.settings.title},t.settings.title),t.settings.style&&("function"==typeof t.settings.style&&(t.settings.style=t.settings.style()),n.setAttrib(o,"style",t.settings.style)),1==e.childNodes.length&&n.addClass(i,"mceFirst"),(o=i.previousSibling)&&n.hasClass(o,l+"ItemSeparator")&&n.addClass(i,"mceFirst"),t.collapse&&n.addClass(i,l+"ItemSub"),(o=i.previousSibling)&&n.removeClass(o,"mceLast"),void n.addClass(i,"mceLast"))}})}(tinymce),function(e){var t=e.DOM;e.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceButton"},renderHTML:function(){var e,n,o=this.classPrefix,r=this.settings;return n=t.encode(r.label||""),e='<a role="button" id="'+this.id+'" href="javascript:;" class="'+o+" "+o+"Enabled "+r.class+(n?" "+o+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+t.encode(r.title)+'">',e+=!r.image||this.editor&&this.editor.forcedHighContrastMode?'<span class="mceIcon '+r.class+'"></span>'+(n?'<span class="'+o+'Label">'+n+"</span>":""):'<img class="mceIcon" src="'+r.image+'" alt="'+t.encode(r.title)+'" />'+n,e+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+r.title+"</span>",e+="</a>"},postRender:function(){var t,n=this,o=n.settings;e.isIE&&n.editor&&e.dom.Event.add(n.id,"mousedown",function(e){var o=n.editor.selection.getNode().nodeName;t="IMG"===o?n.editor.selection.getBookmark():null}),e.dom.Event.add(n.id,"click",function(r){if(!n.isDisabled())return e.isIE&&n.editor&&null!==t&&n.editor.selection.moveToBookmark(t),o.onclick.call(o.scope,r)}),e.dom.Event.add(n.id,"keyup",function(t){if(!n.isDisabled()&&t.keyCode==e.VK.SPACEBAR)return o.onclick.call(o.scope,t)})}})}(tinymce),function(e){var t,n=e.DOM,o=e.dom.Event,r=e.each,i=e.util.Dispatcher;e.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(t,n,o){var r=this;r.parent(t,n,o),r.items=[],r.onChange=new i(r),r.onPostRender=new i(r),r.onAdd=new i(r),r.onRenderMenu=new e.util.Dispatcher(this),r.classPrefix="mceListBox",r.marked={}},select:function(e){var n,o,i=this;return i.marked={},e==t?i.selectByIndex(-1):(o=e&&"function"==typeof e?e:function(t){return t==e},void(e!=i.selectedValue&&(r(i.items,function(e,t){if(o(e.value))return n=1,i.selectByIndex(t),!1}),n||i.selectByIndex(-1))))},selectByIndex:function(e){var t,o,r,i=this;i.marked={},e!=i.selectedIndex&&(t=n.get(i.id+"_text"),r=n.get(i.id+"_voiceDesc"),o=i.items[e],o?(i.selectedValue=o.value,i.selectedIndex=e,n.setHTML(t,n.encode(o.title)),n.setHTML(r,i.settings.title+" - "+o.title),n.removeClass(t,"mceTitle"),n.setAttrib(i.id,"aria-valuenow",o.title)):(n.setHTML(t,n.encode(i.settings.title)),n.setHTML(r,n.encode(i.settings.title)),n.addClass(t,"mceTitle"),i.selectedValue=i.selectedIndex=null,n.setAttrib(i.id,"aria-valuenow",i.settings.title)),t=0)},mark:function(e){this.marked[e]=!0},add:function(t,n,o){var r=this;o=o||{},o=e.extend(o,{title:t,value:n}),r.items.push(o),r.onAdd.dispatch(r,o)},getLength:function(){return this.items.length},renderHTML:function(){var e="",t=this,o=t.settings,r=t.classPrefix;return e='<span role="listbox" aria-haspopup="true" aria-labelledby="'+t.id+'_voiceDesc" aria-describedby="'+t.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+t.id+'" cellpadding="0" cellspacing="0" class="'+r+" "+r+"Enabled"+(o.class?" "+o.class:"")+'"><tbody><tr>',e+="<td>"+n.createHTML("span",{id:t.id+"_voiceDesc",class:"voiceLabel",style:"display:none;"},t.settings.title),e+=n.createHTML("a",{id:t.id+"_text",tabindex:-1,href:"javascript:;",class:"mceText",onclick:"return false;",onmousedown:"return false;"},n.encode(t.settings.title))+"</td>",e+="<td>"+n.createHTML("a",{id:t.id+"_open",tabindex:-1,href:"javascript:;",class:"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span></span>')+"</td>",
e+="</tr></tbody></table></span>"},showMenu:function(){var t,i,a=this,s=n.get(this.id);if(!a.isDisabled()&&0!==a.items.length){if(a.menu&&a.menu.isMenuVisible)return a.hideMenu();a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0),t=n.getPos(s),i=a.menu,i.settings.offset_x=t.x,i.settings.offset_y=t.y,i.settings.keyboard_focus=!e.isOpera,r(a.items,function(e){i.items[e.id]&&i.items[e.id].setSelected(0)}),r(a.items,function(e){i.items[e.id]&&a.marked[e.value]&&i.items[e.id].setSelected(1),e.value===a.selectedValue&&i.items[e.id].setSelected(1)}),i.showMenu(0,s.clientHeight),o.add(n.doc,"mousedown",a.hideMenu,a),n.addClass(a.id,a.classPrefix+"Selected")}},hideMenu:function(e){var t=this;if(t.menu&&t.menu.isMenuVisible){if(n.removeClass(t.id,t.classPrefix+"Selected"),e&&"mousedown"==e.type&&(e.target.id==t.id+"_text"||e.target.id==t.id+"_open"))return;e&&n.getParent(e.target,".mceMenu")||(n.removeClass(t.id,t.classPrefix+"Selected"),o.remove(n.doc,"mousedown",t.hideMenu,t),t.menu.hideMenu())}},renderMenu:function(){var e,o=this;e=o.settings.control_manager.createDropMenu(o.id+"_menu",{menu_line:1,class:o.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150}),e.onHideMenu.add(function(){o.hideMenu(),o.focus()}),e.add({title:o.settings.title,class:"mceMenuItemTitle",onclick:function(){o.settings.onselect("")!==!1&&o.select("")}}),r(o.items,function(r){r.value===t?e.add({title:r.title,role:"option",class:"mceMenuItemTitle",onclick:function(){o.settings.onselect("")!==!1&&o.select("")}}):(r.id=n.uniqueId(),r.role="option",r.onclick=function(){o.settings.onselect(r.value)!==!1&&o.select(r.value)},e.add(r))}),o.onRenderMenu.dispatch(o,e),o.menu=e},postRender:function(){var t=this,r=t.classPrefix;o.add(t.id,"click",t.showMenu,t),o.add(t.id,"keydown",function(e){32==e.keyCode&&(t.showMenu(e),o.cancel(e))}),o.add(t.id,"focus",function(){t._focused||(t.keyDownHandler=o.add(t.id,"keydown",function(e){40==e.keyCode&&(t.showMenu(),o.cancel(e))}),t.keyPressHandler=o.add(t.id,"keypress",function(e){var n;13==e.keyCode&&(n=t.selectedValue,t.selectedValue=null,o.cancel(e),t.settings.onselect(n))})),t._focused=1}),o.add(t.id,"blur",function(){o.remove(t.id,"keydown",t.keyDownHandler),o.remove(t.id,"keypress",t.keyPressHandler),t._focused=0}),!e.isIE6&&n.boxModel||(o.add(t.id,"mouseover",function(){n.hasClass(t.id,r+"Disabled")||n.addClass(t.id,r+"Hover")}),o.add(t.id,"mouseout",function(){n.hasClass(t.id,r+"Disabled")||n.removeClass(t.id,r+"Hover")})),t.onPostRender.dispatch(t,n.get(t.id))},destroy:function(){this.parent(),o.clear(this.id+"_text"),o.clear(this.id+"_open")}})}(tinymce),function(e){var t,n=e.DOM,o=e.dom.Event,r=e.each;e.util.Dispatcher;e.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(e,t){this.parent(e,t),this.classPrefix="mceNativeListBox"},setDisabled:function(e){n.get(this.id).disabled=e,this.setAriaProperty("disabled",e)},isDisabled:function(){return n.get(this.id).disabled},select:function(e){var n,o,i=this;return e==t?i.selectByIndex(-1):(o=e&&"function"==typeof e?e:function(t){return t==e},void(e!=i.selectedValue&&(r(i.items,function(e,t){if(o(e.value))return n=1,i.selectByIndex(t),!1}),n||i.selectByIndex(-1))))},selectByIndex:function(e){n.get(this.id).selectedIndex=e+1,this.selectedValue=this.items[e]?this.items[e].value:null},add:function(e,t,o){var r,i=this;o=o||{},o.value=t,i.isRendered()&&n.add(n.get(this.id),"option",o,e),r={title:e,value:t,attribs:o},i.items.push(r),i.onAdd.dispatch(i,r)},getLength:function(){return this.items.length},renderHTML:function(){var e,t=this;return e=n.createHTML("option",{value:""},"-- "+t.settings.title+" --"),r(t.items,function(t){e+=n.createHTML("option",{value:t.value},t.title)}),e=n.createHTML("select",{id:t.id,class:"mceNativeListBox","aria-labelledby":t.id+"_aria"},e),e+=n.createHTML("span",{id:t.id+"_aria",style:"display: none"},t.settings.title)},postRender:function(){function t(e){var t=i.items[e.target.selectedIndex-1];t&&(t=t.value)&&(i.onChange.dispatch(i,t),i.settings.onselect&&i.settings.onselect(t))}var r,i=this,a=!0;i.rendered=!0,o.add(i.id,"change",t),o.add(i.id,"keydown",function(n){var s;return o.remove(i.id,"change",r),a=!1,s=o.add(i.id,"blur",function(){a||(a=!0,o.add(i.id,"change",t),o.remove(i.id,"blur",s))}),!e.isWebKit||37!=n.keyCode&&39!=n.keyCode?13==n.keyCode||32==n.keyCode?(t(n),o.cancel(n)):void 0:o.prevent(n)}),i.onPostRender.dispatch(i,n.get(i.id))}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each;e.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(n,o,r){this.parent(n,o,r),this.onRenderMenu=new e.util.Dispatcher(this),o.menu_container=o.menu_container||t.doc.body},showMenu:function(){var e,o,r,i=this,a=t.get(i.id);if(!i.isDisabled()){if(i.isMenuRendered||(i.renderMenu(),i.isMenuRendered=!0),i.isMenuVisible)return i.hideMenu();e=t.getPos(i.settings.menu_container),o=t.getPos(a),r=i.menu,r.settings.offset_x=o.x,r.settings.offset_y=o.y,r.settings.vp_offset_x=o.x,r.settings.vp_offset_y=o.y,r.settings.keyboard_focus=i._focused,r.showMenu(0,a.firstChild.clientHeight),n.add(t.doc,"mousedown",i.hideMenu,i),i.setState("Selected",1),i.isMenuVisible=1}},renderMenu:function(){var e,t=this;e=t.settings.control_manager.createDropMenu(t.id+"_menu",{menu_line:1,class:this.classPrefix+"Menu",icons:t.settings.icons}),e.onHideMenu.add(function(){t.hideMenu(),t.focus()}),t.onRenderMenu.dispatch(t,e),t.menu=e},hideMenu:function(e){var o=this;e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===o.id||e.id===o.id+"_open"})||(e&&t.getParent(e.target,".mceMenu")||(o.setState("Selected",0),n.remove(t.doc,"mousedown",o.hideMenu,o),o.menu&&o.menu.hideMenu()),o.isMenuVisible=0)},postRender:function(){var e=this,t=e.settings;n.add(e.id,"click",function(){e.isDisabled()||(t.onclick&&t.onclick(e.value),e.showMenu())})}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each;e.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceSplitButton"},renderHTML:function(){var e,n,o=this,r=o.settings;return e="<tbody><tr>",n=r.image?t.createHTML("img ",{src:r.image,role:"presentation",class:"mceAction "+r.class}):t.createHTML("span",{class:"mceAction "+r.class},""),n+=t.createHTML("span",{class:"mceVoiceLabel mceIconOnly",id:o.id+"_voice",style:"display:none;"},r.title),e+="<td >"+t.createHTML("a",{role:"button",id:o.id+"_action",tabindex:"-1",href:"javascript:;",class:"mceAction "+r.class,onclick:"return false;",onmousedown:"return false;",title:r.title},n)+"</td>",n=t.createHTML("span",{class:"mceOpen "+r.class},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'),e+="<td >"+t.createHTML("a",{role:"button",id:o.id+"_open",tabindex:"-1",href:"javascript:;",class:"mceOpen "+r.class,onclick:"return false;",onmousedown:"return false;",title:r.title},n)+"</td>",e+="</tr></tbody>",e=t.createHTML("table",{role:"presentation",class:"mceSplitButton mceSplitButtonEnabled "+r.class,cellpadding:"0",cellspacing:"0",title:r.title},e),t.createHTML("div",{id:o.id,role:"button",tabindex:"0","aria-labelledby":o.id+"_voice","aria-haspopup":"true"},e)},postRender:function(){var o,r=this,i=r.settings;i.onclick&&(o=function(e){r.isDisabled()||(i.onclick(r.value),n.cancel(e))},n.add(r.id+"_action","click",o),n.add(r.id,["click","keydown"],function(e){var t=40;32!==e.keyCode&&13!==e.keyCode&&14!==e.keyCode||e.altKey||e.ctrlKey||e.metaKey?"click"!==e.type&&e.keyCode!==t||(r.showMenu(),n.cancel(e)):(o(),n.cancel(e))})),n.add(r.id+"_open","click",function(e){r.showMenu(),n.cancel(e)}),n.add([r.id,r.id+"_open"],"focus",function(){r._focused=1}),n.add([r.id,r.id+"_open"],"blur",function(){r._focused=0}),!e.isIE6&&t.boxModel||(n.add(r.id,"mouseover",function(){t.hasClass(r.id,"mceSplitButtonDisabled")||t.addClass(r.id,"mceSplitButtonHover")}),n.add(r.id,"mouseout",function(){t.hasClass(r.id,"mceSplitButtonDisabled")||t.removeClass(r.id,"mceSplitButtonHover")}))},destroy:function(){this.parent(),n.clear(this.id+"_action"),n.clear(this.id+"_open"),n.clear(this.id)}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,o=e.is,r=e.each;e.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(t,n,o){var r=this;r.parent(t,n,o),r.settings=n=e.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},r.settings),r.onShowMenu=new e.util.Dispatcher(r),r.onHideMenu=new e.util.Dispatcher(r),r.value=n.default_color},showMenu:function(){var e,o,r=this;if(!r.isDisabled()){if(r.isMenuRendered||(r.renderMenu(),r.isMenuRendered=!0),r.isMenuVisible)return r.hideMenu();e=t.get(r.id),t.show(r.id+"_menu"),t.addClass(e,"mceSplitButtonSelected"),o=t.getPos(e),t.setStyles(r.id+"_menu",{left:o.x,top:o.y+e.firstChild.clientHeight,zIndex:2e5}),e=0,n.add(t.doc,"mousedown",r.hideMenu,r),r.onShowMenu.dispatch(r),r._focused&&(r._keyHandler=n.add(r.id+"_menu","keydown",function(e){27==e.keyCode&&r.hideMenu()}),t.select("a",r.id+"_menu")[0].focus()),r.isMenuVisible=1}},hideMenu:function(e){var o=this;if(o.isMenuVisible){if(e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===o.id+"_open"}))return;e&&t.getParent(e.target,".mceSplitButtonMenu")||(t.removeClass(o.id,"mceSplitButtonSelected"),n.remove(t.doc,"mousedown",o.hideMenu,o),n.remove(o.id+"_menu","keydown",o._keyHandler),t.hide(o.id+"_menu")),o.isMenuVisible=0,o.onHideMenu.dispatch()}},renderMenu:function(){var i,a,s,c,l,d,u=this,f=0,p=u.settings;return l=t.add(p.menu_container,"div",{role:"listbox",id:u.id+"_menu",class:p.menu_class+" "+p.class,style:"position:absolute;left:0;top:-1000px;"}),i=t.add(l,"div",{class:p.class+" mceSplitButtonMenu"}),t.add(i,"span",{class:"mceMenuLine"}),a=t.add(i,"table",{role:"presentation",class:"mceColorSplitMenu"}),s=t.add(a,"tbody"),f=0,r(o(p.colors,"array")?p.colors:p.colors.split(","),function(n){n=n.replace(/^#/,""),f--||(c=t.add(s,"tr"),f=p.grid_width-1),a=t.add(c,"td");var o={href:"javascript:;",style:{backgroundColor:"#"+n},title:u.editor.getLang("colors."+n,n),"data-mce-color":"#"+n};e.isIE||(o.role="option"),a=t.add(a,"a",o),u.editor.forcedHighContrastMode&&(a=t.add(a,"canvas",{width:16,height:16,"aria-hidden":"true"}),a.getContext&&(d=a.getContext("2d"))?(d.fillStyle="#"+n,d.fillRect(0,0,16,16)):t.remove(a))}),p.more_colors_func&&(a=t.add(s,"tr"),a=t.add(a,"td",{colspan:p.grid_width,class:"mceMoreColors"}),a=t.add(a,"a",{role:"option",id:u.id+"_more",href:"javascript:;",onclick:"return false;",class:"mceMoreColors"},p.more_colors_title),n.add(a,"click",function(e){return p.more_colors_func.call(p.more_colors_scope||this),n.cancel(e)})),t.addClass(i,"mceColorSplitMenu"),new e.ui.KeyboardNavigation({root:u.id+"_menu",items:t.select("a",u.id+"_menu"),onCancel:function(){u.hideMenu(),u.focus()}}),n.add(u.id+"_menu","mousedown",function(e){return n.cancel(e)}),n.add(u.id+"_menu","click",function(e){var n;return e=t.getParent(e.target,"a",s),e&&"a"==e.nodeName.toLowerCase()&&(n=e.getAttribute("data-mce-color"))&&u.setColor(n),!1}),l},setColor:function(e){this.displayColor(e),this.hideMenu(),this.settings.onselect(e)},displayColor:function(e){var n=this;t.setStyle(n.id+"_preview","backgroundColor",e),n.value=e},postRender:function(){var e=this,n=e.id;e.parent(),t.add(n+"_action","div",{id:n+"_preview",class:"mceColorPreview"}),t.setStyle(e.id+"_preview","backgroundColor",e.value)},destroy:function(){this.parent(),n.clear(this.id+"_menu"),n.clear(this.id+"_more"),t.remove(this.id+"_menu")}})}(tinymce),function(e){var t=e.DOM,n=e.each,o=e.dom.Event;e.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var n=this,o=[],r=n.controls,i=e.each,a=n.settings;return o.push('<div id="'+n.id+'" role="group" aria-labelledby="'+n.id+'_voice">'),o.push("<span role='application'>"),o.push('<span id="'+n.id+'_voice" class="mceVoiceLabel" style="display:none;">'+t.encode(a.name)+"</span>"),i(r,function(e){o.push(e.renderHTML())}),o.push("</span>"),o.push("</div>"),o.join("")},focus:function(){var e=this;t.get(e.id).focus()},postRender:function(){var o=this,r=[];n(o.controls,function(e){n(e.controls,function(e){e.id&&r.push(e)})}),o.keyNav=new e.ui.KeyboardNavigation({root:o.id,items:r,onCancel:function(){e.isWebKit&&t.get(o.editor.id+"_ifr").focus(),o.editor.focus()},excludeFromTabOrder:!o.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent(),e.keyNav.destroy(),o.clear(e.id)}})}(tinymce),function(e){var t=e.DOM;e.each;e.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var e,n,o,r,i,a,s=this,c="",l=s.settings;for(a=s.controls,o=0;o<a.length;o++)n=a[o],r=a[o-1],i=a[o+1],0===o&&(e="mceToolbarStart",n.Button?e+=" mceToolbarStartButton":n.SplitButton?e+=" mceToolbarStartSplitButton":n.ListBox&&(e+=" mceToolbarStartListBox"),c+=t.createHTML("td",{class:e},t.createHTML("span",null,"<!-- IE -->"))),r&&n.ListBox&&(r.Button||r.SplitButton)&&(c+=t.createHTML("td",{class:"mceToolbarEnd"},t.createHTML("span",null,"<!-- IE -->"))),c+=t.stdMode?'<td style="position: relative">'+n.renderHTML()+"</td>":"<td>"+n.renderHTML()+"</td>",i&&n.ListBox&&(i.Button||i.SplitButton)&&(c+=t.createHTML("td",{class:"mceToolbarStart"},t.createHTML("span",null,"<!-- IE -->")));return e="mceToolbarEnd",n.Button?e+=" mceToolbarEndButton":n.SplitButton?e+=" mceToolbarEndSplitButton":n.ListBox&&(e+=" mceToolbarEndListBox"),c+=t.createHTML("td",{class:e},t.createHTML("span",null,"<!-- IE -->")),t.createHTML("table",{id:s.id,class:"mceToolbar"+(l.class?" "+l.class:""),cellpadding:"0",cellspacing:"0",align:s.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+c+"</tr></tbody>")}})}(tinymce),function(e){var t=e.util.Dispatcher;e.each;e.create("tinymce.AddOnManager",{AddOnManager:function(){var e=this;e.items=[],e.urls={},e.lookup={},e.onAdd=new t(e)},get:function(e){return this.lookup[e]?this.lookup[e].instance:void 0},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t){var n=e.settings;n&&n.language&&n.language_load!==!1&&e.ScriptLoader.add(this.urls[t]+"/langs/"+n.language+".js")},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},this.onAdd.dispatch(this,e,t),t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var o=this.urls[t];e.each(n,function(t){e.ScriptLoader.add(o+"/"+t)})},load:function(t,n,o,r){function i(){var i=a.dependencies(t);e.each(i,function(e){var t=a.createUrl(n,e);a.load(t.resource,t,void 0,void 0)}),o&&(r?o.call(r):o.call(e.ScriptLoader))}var a=this,s=n;a.urls[t]||("object"==typeof n&&(s=n.prefix+n.resource+n.suffix),0!==s.indexOf("/")&&s.indexOf("://")==-1&&(s=e.baseURL+"/"+s),a.urls[t]=s.substring(0,s.lastIndexOf("/")),a.lookup[t]?i():e.ScriptLoader.add(s,i,r))}}),e.PluginManager=new e.AddOnManager,e.ThemeManager=new e.AddOnManager}(tinymce),function(e){var t,n=e.each,o=e.extend,r=e.DOM,i=e.dom.Event,a=(e.ThemeManager,e.PluginManager,e.explode),s=e.util.Dispatcher,c=0;e.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e.documentBaseURL)||(e.documentBaseURL+="/"),e.baseURL=new e.util.URI(e.documentBaseURL).toAbsolute(e.baseURL),e.baseURI=new e.util.URI(e.baseURL),e.onBeforeUnload=new s(e),i.add(window,"beforeunload",function(t){e.onBeforeUnload.dispatch(e,t)}),e.onAddEditor=new s(e),e.onRemoveEditor=new s(e),e.EditorManager=o(e,{editors:[],i18n:{},activeEditor:null,init:function(t){function s(e){var t=e.id;return t||(t=e.name,t=t&&!r.get(t)?e.name:r.uniqueId(),e.setAttribute("id",t)),t}function l(t,n,o){var r=t[n];if(r)return e.is(r,"string")&&(o=r.replace(/\.\w+$/,""),o=o?e.resolve(o):0,r=e.resolve(r)),r.apply(o||this,Array.prototype.slice.call(arguments,2))}function d(e,t){return t.constructor===RegExp?t.test(e.className):r.hasClass(e,t)}var u,f=this,p=(e.ScriptLoader,[]);t=o({theme:"simple",language:"en"},t),f.settings=t,i.bind(window,"ready",function(){var o,i;switch(l(t,"onpageload"),t.mode){case"exact":o=t.elements||"",o.length>0&&n(a(o),function(o){r.get(o)?(u=new e.Editor(o,t),p.push(u),u.render(1)):n(document.forms,function(i){n(i.elements,function(n){n.name===o&&(o="mce_editor_"+c++,r.setAttrib(n,"id",o),u=new e.Editor(o,t),p.push(u),u.render(1))})})});break;case"textareas":case"specific_textareas":n(r.select("textarea"),function(n){t.editor_deselector&&d(n,t.editor_deselector)||t.editor_selector&&!d(n,t.editor_selector)||(u=new e.Editor(s(n),t),p.push(u),u.render(1))});break;default:t.types?n(t.types,function(o){n(r.select(o.selector),function(n){var r=new e.Editor(s(n),e.extend({},t,o));p.push(r),r.render(1)})}):t.selector&&n(r.select(t.selector),function(n){var o=new e.Editor(s(n),t);p.push(o),o.render(1)})}t.oninit&&(o=i=0,n(p,function(e){i++,e.initialized?o++:e.onInit.add(function(){o++,o==i&&l(t,"oninit")}),o==i&&l(t,"oninit")}))})},get:function(e){return e===t?this.editors:this.editors[e]},getInstanceById:function(e){return this.get(e)},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),t._setActive(e),t.onAddEditor.dispatch(t,e),e},remove:function(e){var t,n=this,o=n.editors;if(!o[e.id])return null;for(delete o[e.id],t=0;t<o.length;t++)if(o[t]==e){o.splice(t,1);break}return n.activeEditor==e&&n._setActive(o[0]),e.destroy(),n.onRemoveEditor.dispatch(n,e),e},execCommand:function(t,n,o){function r(){s.destroy(),i.detachEvent("onunload",r),i=i.tinyMCE=i.tinymce=null}var i,a=this,s=a.get(o);switch(t){case"mceFocus":return s.focus(),!0;case"mceAddEditor":case"mceAddControl":return a.get(o)||new e.Editor(o,a.settings).render(),!0;case"mceAddFrameControl":return i=o.window,i.tinyMCE=tinyMCE,i.tinymce=e,e.DOM.doc=i.document,e.DOM.win=i,s=new e.Editor(o.element_id,o),s.render(),e.isIE&&i.attachEvent("onunload",r),o.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return s&&s.remove(),!0;case"mceToggleEditor":return s?(s.isHidden()?s.show():s.hide(),!0):(a.execCommand("mceAddControl",0,o),!0)}return!!a.activeEditor&&a.activeEditor.execCommand(t,n,o)},execInstanceCommand:function(e,t,n,o){var r=this.get(e);return!!r&&r.execCommand(t,n,o)},triggerSave:function(){n(this.editors,function(e){e.save()})},addI18n:function(t,o){var r=this.i18n;e.is(t,"string")?n(o,function(e,n){r[t+"."+n]=e}):n(t,function(e,t){n(e,function(e,o){n(e,function(e,n){"common"===o?r[t+"."+n]=e:r[t+"."+o+"."+n]=e})})})},_setActive:function(e){this.selectedInstance=this.activeEditor=e}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,o=e.extend,r=e.each,i=e.isGecko,a=e.isIE,s=(e.isWebKit,e.is),c=e.ThemeManager,l=e.PluginManager,d=e.explode;e.create("tinymce.Editor",{Editor:function(t,n){var r=this,i=!0;r.settings=n=o({id:t,language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e.documentBaseURL,add_form_submit_trigger:i,submit_patch:i,add_unload_trigger:i,convert_urls:i,relative_urls:i,remove_script_host:i,table_inline_editing:!1,object_resizing:i,accessibility_focus:i,doctype:e.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:i,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:i,directionality:"ltr",forced_root_block:"p",hidden_input:i,padd_empty_editor:i,render_ui:i,indentation:"30px",fix_table_elements:i,inline_styles:i,convert_fonts_to_spans:i,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure",validate:i,entity_encoding:"named",url_converter:r.convertURL,url_converter_scope:r,ie7_compat:i},n),r.id=r.editorId=t,r.isNotDirty=!1,r.plugins={},r.documentBaseURI=new e.util.URI(n.document_base_url||e.documentBaseURL,{base_uri:tinyMCE.baseURI}),r.baseURI=e.baseURI,r.contentCSS=[],r.setupEvents(),r.execCommands={},r.queryStateCommands={},r.queryValueCommands={},r.execCallback("setup",r)},render:function(o){function i(){s.language&&s.language_load!==!1&&f.add(e.baseURL+"/langs/"+s.language+".js"),s.theme&&"-"!=s.theme.charAt(0)&&!c.urls[s.theme]&&c.load(s.theme,"themes/"+s.theme+"/editor_template"+e.suffix+".js"),r(d(s.plugins),function(t){if(t&&!l.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var n=l.dependencies(t);r(n,function(t){var n={prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"};t=l.createUrl(n,t),l.load(t.resource,t)})}else{if("safari"==t)return;l.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"})}}),f.loadQueue(function(){a.removed||a.init()})}var a=this,s=a.settings,u=a.id,f=e.ScriptLoader;return n.domLoaded?(tinyMCE.settings=s,void(a.getElement()&&(e.isIDevice&&!e.isIOS5||(!/TEXTAREA|INPUT/i.test(a.getElement().nodeName)&&s.hidden_input&&t.getParent(u,"form")&&t.insertAfter(t.create("input",{type:"hidden",name:u}),u),e.WindowManager&&(a.windowManager=new e.WindowManager(a)),"xml"==s.encoding&&a.onGetContent.add(function(e,n){n.save&&(n.content=t.encode(n.content))}),s.add_form_submit_trigger&&a.onSubmit.addToTop(function(){a.initialized&&(a.save(),a.isNotDirty=1)}),s.add_unload_trigger&&(a._beforeUnload=tinyMCE.onBeforeUnload.add(function(){!a.initialized||a.destroyed||a.isHidden()||a.save({format:"raw",no_events:!0})})),e.addUnload(a.destroy,a),s.submit_patch&&a.onBeforeRenderUI.add(function(){var t=a.getElement().form;t&&(t._mceOldSubmit||(t.submit.nodeType||t.submit.length||(a.formElement=t,t._mceOldSubmit=t.submit,t.submit=function(){return e.triggerSave(),a.isNotDirty=1,a.formElement._mceOldSubmit(a.formElement)}),t=null))}),i())))):void n.add(window,"ready",function(){a.render()})},init:function(){function n(t){var o,i=l.get(t),a=l.urls[t]||e.documentBaseURL.replace(/\/$/,"");i&&e.inArray(C,t)===-1&&(r(l.dependencies(t),function(e){n(e)}),o=new i(v,a),v.plugins[t]=o,o.init&&(o.init(v,a),C.push(t)))}var o,i,s,u,f,p,m,h,g,v=this,y=v.settings,b=v.getElement(),C=[];if(e.add(v),y.aria_label=y.aria_label||t.getAttrib(b,"aria-label",v.getLang("aria.rich_text_area")),y.theme&&(y.theme=y.theme.replace(/-/,""),u=c.get(y.theme),v.theme=new u,v.theme.init&&v.theme.init(v,c.urls[y.theme]||e.documentBaseURL.replace(/\/$/,""))),r(d(y.plugins.replace(/\-/g,"")),n),y.popup_css!==!1&&(y.popup_css?y.popup_css=v.documentBaseURI.toAbsolute(y.popup_css):y.popup_css=v.baseURI.toAbsolute("themes/"+y.theme+"/skins/"+y.skin+"/dialog.css")),y.popup_css_add&&(y.popup_css+=","+v.documentBaseURI.toAbsolute(y.popup_css_add)),v.controlManager=new e.ControlManager(v),v.onExecCommand.add(function(e,t){/^(FontName|FontSize)$/.test(t)||v.nodeChanged()}),v.onBeforeRenderUI.dispatch(v,v.controlManager),y.render_ui&&v.theme&&(i=y.width||b.style.width||b.offsetWidth,s=y.height||b.style.height||b.offsetHeight,v.orgDisplay=b.style.display,h=/^[0-9\.]+(|px)$/i,h.test(""+i)&&(i=Math.max(parseInt(i,10)+(u.deltaWidth||0),100)),h.test(""+s)&&(s=Math.max(parseInt(s,10)+(u.deltaHeight||0),100)),u=v.theme.renderUI({targetNode:b,width:i,height:s,deltaWidth:y.delta_width,deltaHeight:y.delta_height}),v.editorContainer=u.editorContainer),y.content_css&&r(d(y.content_css),function(e){v.contentCSS.push(v.documentBaseURI.toAbsolute(e))}),y.content_editable)return b=o=u=null,v.initContentBody();for(document.domain&&location.hostname!=document.domain&&(e.relaxedDomain=document.domain),t.setStyles(u.sizeContainer||u.editorContainer,{width:i,height:s}),s=(u.iframeHeight||s)+("number"==typeof s?u.deltaHeight||0:""),s<100&&(s=100),v.iframeHTML=y.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',y.document_base_url!=e.documentBaseURL&&(v.iframeHTML+='<base href="'+v.documentBaseURI.getURI()+'" />'),y.ie7_compat?v.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />':v.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=edge" />',v.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',g=0;g<v.contentCSS.length;g++)v.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+v.contentCSS[g]+'" />';v.contentCSS=[],p=y.body_id||"tinymce",p.indexOf("=")!=-1&&(p=v.getParam("body_id","","hash"),p=p[v.id]||p),m=y.body_class||"",m.indexOf("=")!=-1&&(m=v.getParam("body_class","","hash"),m=m[v.id]||""),v.iframeHTML+='</head><body id="'+p+'" class="mceContentBody '+m+'" onload="window.parent.tinyMCE.get(\''+v.id+"').onLoad.dispatch();\"><br></body></html>",e.relaxedDomain&&(a||e.isOpera&&parseFloat(opera.version())<11)&&(f='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+v.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),o=t.add(u.iframeContainer,"iframe",{id:v.id+"_ifr",src:f||'javascript:""',frameBorder:"0",allowTransparency:"true",title:y.aria_label,style:{width:"100%",height:s,display:"block"}}),v.contentAreaContainer=u.iframeContainer,t.get(u.editorContainer).style.display=v.orgDisplay,t.get(v.id).style.display="none",t.setAttrib(v.id,"aria-hidden",!0),e.relaxedDomain&&f||v.initContentBody(),b=o=u=null},initContentBody:function(){var n,o=this,i=o.settings,s=t.get(o.id),c=o.getDoc();a&&e.relaxedDomain||i.content_editable||(c.open(),c.write(o.iframeHTML),c.close(),e.relaxedDomain&&(c.domain=e.relaxedDomain)),i.content_editable&&(t.addClass(s,"mceContentBody"),o.contentDocument=c=i.content_document||document,o.contentWindow=i.content_window||window,o.bodyElement=s,i.content_document=i.content_window=null),n=o.getBody(),n.disabled=!0,i.readonly||(n.contentEditable=o.getParam("content_editable_state",!0)),n.disabled=!1,o.schema=new e.html.Schema(i),o.dom=new e.dom.DOMUtils(c,{keep_values:!0,url_converter:o.convertURL,url_converter_scope:o,hex_colors:i.force_hex_style_colors,class_filter:i.class_filter,update_styles:!0,root_element:i.content_editable?o.id:null,schema:o.schema}),o.parser=new e.html.DomParser(i,o.schema),o.parser.addAttributeFilter("src,href,style",function(e,t){for(var n,r,i,a=e.length,s=o.dom;a--;)n=e[a],r=n.attr(t),i="data-mce-"+t,n.attributes.map[i]||("style"===t?n.attr(i,s.serializeStyle(s.parseStyle(r),n.name)):n.attr(i,o.convertURL(r,t,n.name)))}),o.parser.addNodeFilter("script",function(e,t){for(var n,o=e.length;o--;)n=e[o],n.attr("type","mce-"+(n.attr("type")||"text/javascript"))}),o.parser.addNodeFilter("#cdata",function(e,t){for(var n,o=e.length;o--;)n=e[o],n.type=8,n.name="#comment",n.value="[CDATA["+n.value+"]]"}),o.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t,n){for(var r,i=t.length,a=o.schema.getNonEmptyElements();i--;)r=t[i],r.isEmpty(a)&&(r.empty().append(new e.html.Node("br",1)).shortEnded=!0)}),o.serializer=new e.dom.Serializer(i,o.dom,o.schema),o.selection=new e.dom.Selection(o.dom,o.getWin(),o.serializer),o.formatter=new e.Formatter(o),o.undoManager=new e.UndoManager(o),o.forceBlocks=new e.ForceBlocks(o),o.enterKey=new e.EnterKey(o),o.editorCommands=new e.EditorCommands(o),o.serializer.onPreProcess.add(function(e,t){return o.onPreProcess.dispatch(o,t,e)}),o.serializer.onPostProcess.add(function(e,t){return o.onPostProcess.dispatch(o,t,e)}),o.onPreInit.dispatch(o),i.gecko_spellcheck||(c.body.spellcheck=!1),i.readonly||o.bindNativeEvents(),o.controlManager.onPostRender.dispatch(o,o.controlManager),o.onPostRender.dispatch(o),o.quirks=e.util.Quirks(o),i.directionality&&(n.dir=i.directionality),i.nowrap&&(n.style.whiteSpace="nowrap"),i.protect&&o.onBeforeSetContent.add(function(e,t){r(i.protect,function(e){t.content=t.content.replace(e,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),o.onSetContent.add(function(){o.addVisual(o.getBody())}),i.padd_empty_editor&&o.onPostProcess.add(function(e,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"}),o.initialized=!0,o.onInit.dispatch(o),o.execCallback("setupcontent_callback",o.id,n,c),o.execCallback("init_instance_callback",o),o.focus(!0),o.nodeChanged({initial:!0}),r(o.contentCSS,function(e){o.dom.loadCSS(e)}),i.auto_focus&&setTimeout(function(){var t=e.get(i.auto_focus);t.selection.select(t.getBody(),1),t.selection.collapse(1),t.getBody().focus(),t.getWin().focus()},100),s=c=n=null},focus:function(t){var n,o,r,i,a=this,s=a.selection,c=a.settings.content_editable,l=a.getDoc();t||(o=s.getRng(),o.item&&(r=o.item(0)),a._refreshContentEditable(),c||a.getWin().focus(),(e.isGecko||c)&&(i=a.getBody(),i.setActive?i.setActive():i.focus(),c&&s.normalize()),r&&r.ownerDocument==l&&(o=l.body.createControlRange(),o.addElement(r),o.select())),e.activeEditor!=a&&(null!=(n=e.activeEditor)&&n.onDeactivate.dispatch(n,a),a.onActivate.dispatch(a,n)),e._setActive(a)},execCallback:function(t){var n,o=this,r=o.settings[t];if(r)return o.callbackLookup&&(n=o.callbackLookup[t])&&(r=n.func,n=n.scope),s(r,"string")&&(n=r.replace(/\.\w+$/,""),n=n?e.resolve(n):0,r=e.resolve(r),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[t]={func:r,scope:n}),r.apply(n||o,Array.prototype.slice.call(arguments,1))},translate:function(t){var n=this.settings.language||"en",o=e.i18n;return t?o[n+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(e,t){return o[n+"."+t]||"{#"+t+"}"}):""},getLang:function(t,n){return e.i18n[(this.settings.language||"en")+"."+t]||(s(n)?n:"{#"+t+"}")},getParam:function(t,n,o){var i,a=e.trim,c=s(this.settings[t])?this.settings[t]:n;return"hash"===o?(i={},s(c,"string")?r(c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(","),function(e){e=e.split("="),e.length>1?i[a(e[0])]=a(e[1]):i[a(e[0])]=a(e)}):i=c,i):c},nodeChanged:function(e){var t,n=this,o=n.selection;n.initialized&&(e=e||{},o.normalize(),t=o.getStart()||n.getBody(),t=a&&t.ownerDocument!=n.getDoc()?n.getBody():t,e.parents=[],n.dom.getParent(t,function(t){return"BODY"==t.nodeName||void e.parents.push(t)}),n.onNodeChange.dispatch(n,e?e.controlManager||n.controlManager:n.controlManager,t,o.isCollapsed(),e))},addButton:function(e,t){var n=this;n.buttons=n.buttons||{},n.buttons[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,o){var i,a=this;return a.settings.custom_shortcuts!==!1&&(a.shortcuts=a.shortcuts||{},s(n,"string")&&(i=n,n=function(){a.execCommand(i,!1,null)}),s(n,"object")&&(i=n,n=function(){a.execCommand(i[0],i[1],i[2])}),r(d(e),function(e){var i={func:n,scope:o||this,desc:a.translate(t),alt:!1,ctrl:!1,shift:!1};r(d(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":i[e]=!0;break;default:i.charCode=e.charCodeAt(0),i.keyCode=e.toUpperCase().charCodeAt(0)}}),a.shortcuts[(i.ctrl?"ctrl":"")+","+(i.alt?"alt":"")+","+(i.shift?"shift":"")+","+i.keyCode]=i}),!0)},execCommand:function(e,t,n,i){var a,s,c=this,l=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(e)||i&&i.skip_focus||c.focus(),i=o({},i),c.onBeforeExecCommand.dispatch(c,e,t,n,i),!i.terminate&&(c.execCallback("execcommand_callback",c.id,c.selection.getNode(),e,t,n)?(c.onExecCommand.dispatch(c,e,t,n,i),!0):(a=c.execCommands[e])&&(s=a.func.call(a.scope,t,n),s!==!0)?(c.onExecCommand.dispatch(c,e,t,n,i),s):(r(c.plugins,function(o){if(o.execCommand&&o.execCommand(e,t,n))return c.onExecCommand.dispatch(c,e,t,n,i),l=1,!1}),!!l||(c.theme&&c.theme.execCommand&&c.theme.execCommand(e,t,n)?(c.onExecCommand.dispatch(c,e,t,n,i),
!0):c.editorCommands.execCommand(e,t,n)?(c.onExecCommand.dispatch(c,e,t,n,i),!0):(c.getDoc().execCommand(e,t,n),void c.onExecCommand.dispatch(c,e,t,n,i)))))},queryCommandState:function(e){var t,n,o=this;if(!o._isHidden()){if((t=o.queryStateCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=o.editorCommands.queryCommandState(e),t!==-1)return t;try{return this.getDoc().queryCommandState(e)}catch(e){}}},queryCommandValue:function(e){var t,n,o=this;if(!o._isHidden()){if((t=o.queryValueCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=o.editorCommands.queryCommandValue(e),s(t))return t;try{return this.getDoc().queryCommandValue(e)}catch(e){}}},show:function(){var e=this;t.show(e.getContainer()),t.hide(e.id),e.load()},hide:function(){var e=this,n=e.getDoc();a&&n&&n.execCommand("SelectAll"),e.save(),t.hide(e.getContainer()),t.setStyle(e.id,"display",e.orgDisplay)},isHidden:function(){return!t.isHidden(this.id)},setProgressState:function(e,t,n){return this.onSetProgressState.dispatch(this,e,t,n),e},load:function(e){var t,n=this,o=n.getElement();if(o)return e=e||{},e.load=!0,t=n.setContent(s(o.value)?o.value:o.innerHTML,e),e.element=o,e.no_events||n.onLoadContent.dispatch(n,e),e.element=o=null,t},save:function(e){var n,o,i=this,a=i.getElement();if(a&&i.initialized)return e=e||{},e.save=!0,e.element=a,n=e.content=i.getContent(e),e.no_events||i.onSaveContent.dispatch(i,e),n=e.content,/TEXTAREA|INPUT/i.test(a.nodeName)?a.value=n:(a.innerHTML=n,(o=t.getParent(i.id,"form"))&&r(o.elements,function(e){if(e.name==i.id)return e.value=n,!1})),e.element=a=null,n},setContent:function(t,n){var o,r=this,i=r.getBody();return n=n||{},n.format=n.format||"html",n.set=!0,n.content=t,n.no_events||r.onBeforeSetContent.dispatch(r,n),t=n.content,e.isIE||0!==t.length&&!/^\s+$/.test(t)?("raw"!==n.format&&(t=new e.html.Serializer({},r.schema).serialize(r.parser.parse(t))),n.content=e.trim(t),r.dom.setHTML(i,n.content),n.no_events||r.onSetContent.dispatch(r,n),r.selection.normalize(),n.content):(o=r.settings.forced_root_block,t=o?"<"+o+'><br data-mce-bogus="1"></'+o+">":'<br data-mce-bogus="1">',i.innerHTML=t,r.selection.select(i,!0),void r.selection.collapse(!0))},getContent:function(t){var n,o=this;return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||o.onBeforeGetContent.dispatch(o,t),n="raw"==t.format?o.getBody().innerHTML:o.serializer.serialize(o.getBody(),t),t.content=e.trim(n),t.no_events||o.onGetContent.dispatch(o,t),t.content},isDirty:function(){var t=this;return e.trim(t.startContent)!=e.trim(t.getContent({format:"raw",no_events:1}))&&!t.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=t.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return t.get(this.settings.content_element||this.id)},getWin:function(){var e,n=this;return n.contentWindow||(e=t.get(n.id+"_ifr"),e&&(n.contentWindow=e.contentWindow)),n.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var o=this,r=o.settings;return r.urlconverter_callback?o.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")?e:r.relative_urls?o.documentBaseURI.toRelative(e):e=o.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var t,n=this,o=n.settings,i=n.dom;e=e||n.getBody(),s(n.hasVisual)||(n.hasVisual=o.visual),r(i.select("table,a",e),function(e){var r;switch(e.nodeName){case"TABLE":return t=o.visual_table_class||"mceItemTable",r=i.getAttrib(e,"border"),void(r&&"0"!=r||(n.hasVisual?i.addClass(e,t):i.removeClass(e,t)));case"A":return r=i.getAttrib(e,"name"),t="mceItemAnchor",void(r&&(n.hasVisual?i.addClass(e,t):i.removeClass(e,t)))}}),n.onVisualAid.dispatch(n,e,n.hasVisual)},remove:function(){var o=this,r=o.getContainer();o.removed||(o.removed=1,o.hide(),o.settings.content_editable||(n.clear(o.getWin()),n.clear(o.getDoc())),n.clear(o.getBody()),n.clear(o.formElement),n.unbind(r),o.execCallback("remove_instance_callback",o),o.onRemove.dispatch(o),o.onExecCommand.listeners=[],e.remove(o),t.remove(r))},destroy:function(t){var o=this;o.destroyed||(i&&(n.unbind(o.getDoc()),n.unbind(o.getWin()),n.unbind(o.getBody())),t||(e.removeUnload(o.destroy),tinyMCE.onBeforeUnload.remove(o._beforeUnload),o.theme&&o.theme.destroy&&o.theme.destroy(),o.controlManager.destroy(),o.selection.destroy(),o.dom.destroy()),o.formElement&&(o.formElement.submit=o.formElement._mceOldSubmit,o.formElement._mceOldSubmit=null),o.contentAreaContainer=o.formElement=o.container=o.settings.content_element=o.bodyElement=o.contentDocument=o.contentWindow=null,o.selection&&(o.selection=o.selection.win=o.selection.dom=o.selection.dom.doc=null),o.destroyed=1)},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return i?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}})}(tinymce),function(e){var t=e.each;e.Editor.prototype.setupEvents=function(){var n=this,o=n.settings;t(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(t){n[t]=new e.util.Dispatcher(n)}),o.cleanup_callback&&(n.onBeforeSetContent.add(function(e,t){t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)}),n.onPreProcess.add(function(e,t){t.set&&e.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t),t.get&&e.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}),n.onPostProcess.add(function(e,t){t.set&&(t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)),t.get&&(t.content=e.execCallback("cleanup_callback","get_from_editor",t.content,t))})),o.save_callback&&n.onGetContent.add(function(e,t){t.save&&(t.content=e.execCallback("save_callback",e.id,t.content,e.getBody()))}),o.handle_event_callback&&n.onEvent.add(function(e,t,o){n.execCallback("handle_event_callback",t,e,o)===!1&&Event.cancel(t)}),o.handle_node_change_callback&&n.onNodeChange.add(function(e,t,n){e.execCallback("handle_node_change_callback",e.id,n,-1,-1,!0,e.selection.isCollapsed())}),o.save_callback&&n.onSaveContent.add(function(e,t){var n=e.execCallback("save_callback",e.id,t.content,e.getBody());n&&(t.content=n)}),o.onchange_callback&&n.onChange.add(function(e,t){e.execCallback("onchange_callback",e,t)})},e.Editor.prototype.bindNativeEvents=function(){function n(e,t){e.type;a.removed||a.onEvent.dispatch(a,e,t)!==!1&&a[i[e.fakeType||e.type]].dispatch(a,e,t)}function o(e){a.focus(!0)}function r(n,o){(n.altKey||n.ctrlKey||n.metaKey)&&t(a.shortcuts,function(t){var r=e.isMac?n.metaKey:n.ctrlKey;if(t.ctrl==r&&t.alt==n.altKey&&t.shift==n.shiftKey)return n.keyCode==t.keyCode||n.charCode&&n.charCode==t.charCode?(n.preventDefault(),o&&t.func.call(t.scope),!0):void 0})}var i,a=this,s=a.settings,c=a.dom;i={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"},t(i,function(t,o){var r=s.content_editable?a.getBody():a.getDoc();switch(o){case"contextmenu":c.bind(r,o,n);break;case"paste":c.bind(a.getBody(),o,n);break;case"submit":case"reset":c.bind(a.getElement().form||e.DOM.getParent(a.id,"form"),o,n);break;default:c.bind(r,o,n)}}),c.bind(s.content_editable?a.getBody():e.isGecko?a.getDoc():a.getWin(),"focus",function(e){a.focus(!0)}),s.content_editable&&e.isOpera&&(c.bind(a.getBody(),"click",o),c.bind(a.getBody(),"keydown",o)),a.onMouseUp.add(a.nodeChanged),a.onKeyUp.add(function(t,n){var o=n.keyCode;(o>=33&&o<=36||o>=37&&o<=40||13==o||45==o||46==o||8==o||e.isMac&&(91==o||93==o)||n.ctrlKey)&&a.nodeChanged()}),a.onReset.add(function(){a.setContent(a.startContent,{format:"raw"})}),a.onKeyUp.add(function(e,t){r(t)}),a.onKeyPress.add(function(e,t){r(t)}),a.onKeyDown.add(function(e,t){r(t,!0)}),e.isOpera&&a.onClick.add(function(e,t){t.preventDefault()})}}(tinymce),function(e){var t,n=e.each,o=!0,r=!1;e.EditorCommands=function(i){function a(e,t,n){var i;return e=e.toLowerCase(),(i=y.exec[e])?(i(e,t,n),o):r}function s(e){var t;return e=e.toLowerCase(),(t=y.state[e])?t(e):-1}function c(e){var t;return e=e.toLowerCase(),(t=y.value[e])?t(e):r}function l(e,t){t=t||"exec",n(e,function(e,o){n(o.toLowerCase().split(","),function(n){y[t][n]=e})})}function d(e,n,o){return n===t&&(n=r),o===t&&(o=null),i.getDoc().execCommand(e,n,o)}function u(e){return C.match(e)}function f(e,n){C.toggle(e,n?{value:n}:t)}function p(e){h=v.getBookmark(e)}function m(){v.moveToBookmark(h)}var h,g=i.dom,v=i.selection,y={state:{},exec:{},value:{}},b=i.settings,C=i.formatter;e.extend(this,{execCommand:a,queryCommandState:s,queryCommandValue:c,addCommands:l}),l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){i.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=i.getDoc();try{d(t)}catch(e){n=o}!n&&r.queryCommandSupported(t)||(e.isGecko?i.windowManager.confirm(i.getLang("clipboard_msg"),function(e){e&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):i.windowManager.alert(i.getLang("clipboard_no_support")))},unlink:function(e){v.isCollapsed()&&v.select(v.getNode()),d(e),v.collapse(r)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);n("left,center,right,full".split(","),function(e){t!=e&&C.remove("align"+e)}),f("align"+t),a("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;d(e),t=g.getParent(v.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(p(),g.split(n,t),m()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){f(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){f(e,n)},FontSize:function(t,n,o){var r,i;o>=1&&o<=7&&(i=e.explode(b.font_size_style_values),r=e.explode(b.font_size_classes),o=r?r[o-1]||o:i[o-1]||o),f(t,o)},RemoveFormat:function(e){C.remove(e)},mceBlockQuote:function(e){f("blockquote")},FormatBlock:function(e,t,n){return f(n||"p")},mceCleanup:function(){var e=v.getBookmark();i.setContent(i.getContent({cleanup:o}),{cleanup:o}),v.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||v.getNode();r!=i.getBody()&&(p(),i.dom.remove(r,o),m())},mceSelectNodeDepth:function(e,t,n){var o=0;g.getParent(v.getNode(),function(e){if(1==e.nodeType&&o++==n)return v.select(e),r},i.getBody())},mceSelectNode:function(e,t,n){v.select(n)},mceInsertContent:function(t,n,o){var r,a,s,c,l,d,u,f,p,m,h,y,b,C;if(r=i.parser,a=new e.html.Serializer({},i.schema),b='<span id="mce_marker" data-mce-type="bookmark">\ufeff</span>',d={content:o,format:"html"},v.onBeforeSetContent.dispatch(v,d),o=d.content,o.indexOf("{$caret}")==-1&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,b),v.isCollapsed()||i.getDoc().execCommand("Delete",!1,null),s=v.getNode(),d={context:s.nodeName.toLowerCase()},l=r.parse(o,d),h=l.lastChild,"mce_marker"==h.attr("id"))for(u=h,h=h.prev;h;h=h.walk(!0))if(3==h.type||!g.isBlock(h.name)){h.parent.insert(u,h,"br"===h.name);break}if(d.invalid){for(v.setContent(b),s=i.selection.getNode(),c=i.getBody(),9==s.nodeType?s=h=c:h=s;h!==c;)s=h,h=h.parentNode;o=s==c?c.innerHTML:g.getOuterHTML(s),o=a.serialize(r.parse(o.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return a.serialize(l)}))),s==c?g.setHTML(c,o):g.setOuterHTML(s,o)}else o=a.serialize(l),h=s.firstChild,y=s.lastChild,!h||h===y&&"BR"===h.nodeName?g.setHTML(s,o):v.setContent(o);u=g.get("mce_marker"),f=g.getRect(u),p=g.getViewPort(i.getWin()),(f.y+f.h>p.y+p.h||f.y<p.y||f.x>p.x+p.w||f.x<p.x)&&(C=e.isIE?i.getDoc().documentElement:i.getBody(),C.scrollLeft=f.x,C.scrollTop=f.y-p.h+25),m=g.createRng(),h=u.previousSibling,h&&3==h.nodeType?m.setStart(h,h.nodeValue.length):(m.setStartBefore(u),m.setEndBefore(u)),g.remove(u),v.setRng(m),v.onSetContent.dispatch(v,d),i.addVisual()},mceInsertRawHTML:function(e,t,n){v.setContent("tiny_mce_marker"),i.setContent(i.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceSetContent:function(e,t,n){i.setContent(n)},"Indent,Outdent":function(e){var t,o,r;t=b.indentation,o=/[a-z%]+$/i.exec(t),t=parseInt(t),s("InsertUnorderedList")||s("InsertOrderedList")?d(e):(b.forced_root_block||g.getParent(v.getNode(),g.isBlock)||C.apply("div"),n(v.getSelectedBlocks(),function(n){"outdent"==e?(r=Math.max(0,parseInt(n.style.paddingLeft||0)-t),g.setStyle(n,"paddingLeft",r?r+o:"")):g.setStyle(n,"paddingLeft",parseInt(n.style.paddingLeft||0)+t+o)}))},mceRepaint:function(){if(e.isGecko)try{p(o),v.getSel()&&v.getSel().selectAllChildren(i.getBody()),v.collapse(o),m()}catch(e){}},mceToggleFormat:function(e,t,n){C.toggle(n)},InsertHorizontalRule:function(){i.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){i.hasVisual=!i.hasVisual,i.addVisual()},mceReplaceContent:function(e,t,n){i.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,v.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var o;"string"==typeof n&&(n={href:n}),o=g.getParent(v.getNode(),"a"),n.href=n.href.replace(" ","%20"),o&&n.href||C.remove("link"),n.href&&C.apply("link",n,o)},selectAll:function(){var e=g.getRoot(),t=g.createRng();t.setStart(e,0),t.setEnd(e,e.childNodes.length),i.selection.setRng(t)}}),l({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var n="align"+t.substring(7),r=v.isCollapsed()?[g.getParent(v.getNode(),g.isBlock)]:v.getSelectedBlocks(),i=e.map(r,function(e){return!!C.matchNode(e,n)});return e.inArray(i,o)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return u(e)},mceBlockQuote:function(){return u("blockquote")},Outdent:function(){var e;if(b.inline_styles){if((e=g.getParent(v.getStart(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return o;if((e=g.getParent(v.getEnd(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return o}return s("InsertUnorderedList")||s("InsertOrderedList")||!b.inline_styles&&!!g.getParent(v.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){return g.getParent(v.getNode(),"insertunorderedlist"==e?"UL":"OL")}},"state"),l({"FontSize,FontName":function(e){var t,n=0;return(t=g.getParent(v.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),l({Undo:function(){i.undoManager.undo()},Redo:function(){i.undoManager.redo()}})}}(tinymce),function(e){var t=e.util.Dispatcher;e.UndoManager=function(n){function o(){return e.trim(n.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function r(){i.typing=!1,i.add()}var i,a,s,c,l,d=0,u=[];return s=new t(i),c=new t(i),l=new t(i),s.add(function(e,t){if(e.hasUndo())return n.onChange.dispatch(n,t,e)}),c.add(function(e,t){return n.onUndo.dispatch(n,t,e)}),l.add(function(e,t){return n.onRedo.dispatch(n,t,e)}),n.onInit.add(function(){i.add()}),n.onBeforeExecCommand.add(function(e,t,n,o,r){"Undo"==t||"Redo"==t||"mceRepaint"==t||r&&r.skip_undo||i.beforeChange()}),n.onExecCommand.add(function(e,t,n,o,r){"Undo"==t||"Redo"==t||"mceRepaint"==t||r&&r.skip_undo||i.add()}),n.onSaveContent.add(r),n.dom.bind(n.dom.getRoot(),"dragend",r),n.dom.bind(n.getDoc(),e.isGecko?"blur":"focusout",function(e){!n.removed&&i.typing&&r()}),n.onKeyUp.add(function(e,t){var n=t.keyCode;(n>=33&&n<=36||n>=37&&n<=40||45==n||13==n||t.ctrlKey)&&r()}),n.onKeyDown.add(function(e,t){var n=t.keyCode;return n>=33&&n<=36||n>=37&&n<=40||45==n?void(i.typing&&r()):void((n<16||n>20)&&224!=n&&91!=n&&!i.typing&&(i.beforeChange(),i.typing=!0,i.add()))}),n.onMouseDown.add(function(e,t){i.typing&&r()}),n.addShortcut("ctrl+z","undo_desc","Undo"),n.addShortcut("ctrl+y","redo_desc","Redo"),i={data:u,typing:!1,onAdd:s,onUndo:c,onRedo:l,beforeChange:function(){a=n.selection.getBookmark(2,!0)},add:function(e){var t,r,s=n.settings;if(e=e||{},e.content=o(),r=u[d],r&&r.content==e.content)return null;if(u[d]&&(u[d].beforeBookmark=a),s.custom_undo_redo_levels&&u.length>s.custom_undo_redo_levels){for(t=0;t<u.length-1;t++)u[t]=u[t+1];u.length--,d=u.length}return e.bookmark=n.selection.getBookmark(2,!0),d<u.length-1&&(u.length=d+1),u.push(e),d=u.length-1,i.onAdd.dispatch(i,e),n.isNotDirty=0,e},undo:function(){var e;return i.typing&&(i.add(),i.typing=!1),d>0&&(e=u[--d],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.beforeBookmark),i.onUndo.dispatch(i,e)),e},redo:function(){var e;return d<u.length-1&&(e=u[++d],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.bookmark),i.onRedo.dispatch(i,e)),e},clear:function(){u=[],d=0,i.typing=!1},hasUndo:function(){return d>0||this.typing},hasRedo:function(){return d<u.length-1&&!this.typing}}}}(tinymce),tinymce.ForceBlocks=function(e){function t(){var t,a,s,c,l,d,u,f,p=r.getStart(),m=e.getBody(),h=-16777215;if(p&&1===p.nodeType&&n.forced_root_block){for(;p!=m;){if(i[p.nodeName])return;p=p.parentNode}for(t=r.getRng(),t.setStart?(a=t.startContainer,s=t.startOffset,c=t.endContainer,l=t.endOffset):(t.item&&(p=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(p)),tmpRng=t.duplicate(),tmpRng.collapse(!0),s=tmpRng.move("character",h)*-1,tmpRng.collapsed||(tmpRng=t.duplicate(),tmpRng.collapse(!1),l=tmpRng.move("character",h)*-1-s)),p=m.firstChild;p;)3===p.nodeType||1==p.nodeType&&!i[p.nodeName]?(d||(d=o.create(n.forced_root_block),p.parentNode.insertBefore(d,p),f=!0),u=p,p=p.nextSibling,d.appendChild(u)):(d=null,p=p.nextSibling);if(t.setStart)t.setStart(a,s),t.setEnd(c,l),r.setRng(t);else try{t=e.getDoc().body.createTextRange(),t.moveToElementText(m),t.collapse(!0),t.moveStart("character",s),l>0&&t.moveEnd("character",l),t.select()}catch(e){}f&&e.nodeChanged()}}var n=e.settings,o=e.dom,r=e.selection,i=e.schema.getBlockElements();n.forced_root_block&&(e.onKeyUp.add(t),e.onNodeChange.add(t))},function(e){var t=(e.DOM,e.dom.Event),n=e.each,o=e.extend;e.create("tinymce.ControlManager",{ControlManager:function(t,o){var r=this;o=o||{},r.editor=t,r.controls={},r.onAdd=new e.util.Dispatcher(r),r.onPostRender=new e.util.Dispatcher(r),r.prefix=o.prefix||t.id+"_",r._cls={},r.onPostRender.add(function(){n(r.controls,function(e){e.postRender()})})},get:function(e){return this.controls[this.prefix+e]||this.controls[e]},setActive:function(e,t){var n=null;return(n=this.get(e))&&n.setActive(t),n},setDisabled:function(e,t){var n=null;return(n=this.get(e))&&n.setDisabled(t),n},add:function(e){var t=this;return e&&(t.controls[e.id]=e,t.onAdd.dispatch(e,t)),e},createControl:function(e){var t,o=this,r=o.editor;switch(n(r.plugins,function(n){if(n.createControl&&(t=n.createControl(e,o)))return!1}),e){case"|":case"separator":return o.createSeparator()}return!t&&r.buttons&&(t=r.buttons[e])?o.createButton(e,t):o.add(t)},createDropMenu:function(t,n,r){var i,a,s,c,l=this,d=l.editor;return n=o({class:"mceDropDown",constrain:d.settings.constrain_menus},n),n.class=n.class+" "+d.getParam("skin")+"Skin",(s=d.getParam("skin_variant"))&&(n.class+=" "+d.getParam("skin")+"Skin"+s.substring(0,1).toUpperCase()+s.substring(1)),n.class+="rtl"==d.settings.directionality?" mceRtl":"",t=l.prefix+t,c=r||l._cls.dropmenu||e.ui.DropMenu,i=l.controls[t]=new c(t,n),i.onAddItem.add(function(e,t){var n=t.settings;n.title=d.getLang(n.title,n.title),n.onclick||(n.onclick=function(e){n.cmd&&d.execCommand(n.cmd,n.ui||!1,n.value)})}),d.onRemove.add(function(){i.destroy()}),e.isIE&&(i.onShowMenu.add(function(){d.focus(),a=d.selection.getBookmark(1)}),i.onHideMenu.add(function(){a&&(d.selection.moveToBookmark(a),a=0)})),l.add(i)},createListBox:function(n,r,i){function a(t){return t.settings.use_accessible_selects&&!e.isGecko}var s,c,l=this,d=l.editor;return l.get(n)?null:(r.title=d.translate(r.title),r.scope=r.scope||d,r.onselect||(r.onselect=function(e){d.execCommand(r.cmd,r.ui||!1,e||r.value)}),r=o({title:r.title,class:"mce_"+n,scope:r.scope,control_manager:l},r),n=l.prefix+n,d.settings.use_native_selects||a(d)?s=new e.ui.NativeListBox(n,r):(c=i||l._cls.listbox||e.ui.ListBox,s=new c(n,r,d)),l.controls[n]=s,e.isWebKit&&s.onPostRender.add(function(e,n){t.add(n,"mousedown",function(){d.bookmark=d.selection.getBookmark(1)}),t.add(n,"focus",function(){d.selection.moveToBookmark(d.bookmark),d.bookmark=null})}),s.hideMenu&&d.onMouseDown.add(s.hideMenu,s),l.add(s))},createButton:function(t,n,r){var i,a,s=this,c=s.editor;return s.get(t)?null:(n.title=c.translate(n.title),n.label=c.translate(n.label),n.scope=n.scope||c,n.onclick||n.menu_button||(n.onclick=function(){c.execCommand(n.cmd,n.ui||!1,n.value)}),n=o({title:n.title,class:"mce_"+t,unavailable_prefix:c.getLang("unavailable",""),scope:n.scope,control_manager:s},n),t=s.prefix+t,n.menu_button?(a=r||s._cls.menubutton||e.ui.MenuButton,i=new a(t,n,c),c.onMouseDown.add(i.hideMenu,i)):(a=s._cls.button||e.ui.Button,i=new a(t,n,c)),s.add(i))},createMenuButton:function(e,t,n){return t=t||{},t.menu_button=1,this.createButton(e,t,n)},createSplitButton:function(t,n,r){var i,a,s=this,c=s.editor;return s.get(t)?null:(n.title=c.translate(n.title),n.scope=n.scope||c,n.onclick||(n.onclick=function(e){c.execCommand(n.cmd,n.ui||!1,e||n.value)}),n.onselect||(n.onselect=function(e){c.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=o({title:n.title,class:"mce_"+t,scope:n.scope,control_manager:s},n),t=s.prefix+t,a=r||s._cls.splitbutton||e.ui.SplitButton,i=s.add(new a(t,n,c)),c.onMouseDown.add(i.hideMenu,i),i)},createColorSplitButton:function(t,n,r){var i,a,s,c=this,l=c.editor;return c.get(t)?null:(n.title=l.translate(n.title),n.scope=n.scope||l,n.onclick||(n.onclick=function(t){e.isIE&&(s=l.selection.getBookmark(1)),l.execCommand(n.cmd,n.ui||!1,t||n.value)}),n.onselect||(n.onselect=function(e){l.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=o({title:n.title,class:"mce_"+t,menu_class:l.getParam("skin")+"Skin",scope:n.scope,more_colors_title:l.getLang("more_colors")},n),t=c.prefix+t,a=r||c._cls.colorsplitbutton||e.ui.ColorSplitButton,i=new a(t,n,l),l.onMouseDown.add(i.hideMenu,i),l.onRemove.add(function(){i.destroy()}),e.isIE&&(i.onShowMenu.add(function(){l.focus(),s=l.selection.getBookmark(1)}),i.onHideMenu.add(function(){s&&(l.selection.moveToBookmark(s),s=0)})),c.add(i))},createToolbar:function(t,n,o){var r,i,a=this;return t=a.prefix+t,i=o||a._cls.toolbar||e.ui.Toolbar,r=new i(t,n,a.editor),a.get(t)?null:a.add(r)},createToolbarGroup:function(t,n,o){var r,i,a=this;return t=a.prefix+t,i=o||this._cls.toolbarGroup||e.ui.ToolbarGroup,r=new i(t,n,a.editor),a.get(t)?null:a.add(r)},createSeparator:function(t){var n=t||this._cls.separator||e.ui.Separator;return new n},setControlType:function(e,t){return this._cls[e.toLowerCase()]=t},destroy:function(){n(this.controls,function(e){e.destroy()}),this.controls=null}})}(tinymce),function(e){var t=e.util.Dispatcher,n=e.each,o=e.isIE,r=e.isOpera;e.create("tinymce.WindowManager",{WindowManager:function(e){var n=this;n.editor=e,n.onOpen=new t(n),n.onClose=new t(n),n.params={},n.features={}},open:function(t,i){var a,s,c,l,d=this,u="",f="modal"==d.editor.settings.dialog_type,p=e.DOM.getViewPort();t=t||{},i=i||{},s=r?p.w:screen.width,c=r?p.h:screen.height,t.name=t.name||"mc_"+(new Date).getTime(),t.width=parseInt(t.width||320),t.height=parseInt(t.height||240),t.resizable=!0,t.left=t.left||parseInt(s/2)-t.width/2,t.top=t.top||parseInt(c/2)-t.height/2,i.inline=!1,i.mce_width=t.width,i.mce_height=t.height,i.mce_auto_focus=t.auto_focus,f&&o&&(t.center=!0,t.help=!1,t.dialogWidth=t.width+"px",t.dialogHeight=t.height+"px",t.scroll=t.scrollbars||!1),n(t,function(t,n){e.is(t,"boolean")&&(t=t?"yes":"no"),/^(name|url)$/.test(n)||(u+=o&&f?(u?";":"")+n+":"+t:(u?",":"")+n+"="+t)}),d.features=t,d.params=i,d.onOpen.dispatch(d,t,i),l=t.url||t.file,l=e._addVer(l);try{o&&f?(a=1,window.showModalDialog(l,window,u)):a=window.open(l,t.name,u)}catch(e){}a||alert(d.editor.getLang("popup_blocked"))},close:function(e){e.close(),this.onClose.dispatch(this)},createInstance:function(t,n,o,r,i,a){var s=e.resolve(t);return new s(n,o,r,i,a)},confirm:function(e,t,n,o){o=o||window,t.call(n||this,o.confirm(this._decode(this.editor.getLang(e,e))))},alert:function(e,t,n,o){var r=this;o=o||window,o.alert(r._decode(r.editor.getLang(e,e))),t&&t.call(n||r)},resizeBy:function(e,t,n){n.resizeBy(e,t)},_decode:function(t){return e.DOM.decode(t).replace(/\\n/g,"\n")}})}(tinymce),function(e){e.Formatter=function(t){function n(e,t){return D.getParents(e,t,D.getRoot())}function o(e){return 1===e.nodeType&&"_mce_caret"===e.id}function r(){s({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e){return!0},onformat:function(e,t,n){L(n,function(t,n){D.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),L("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(e){s(e,{block:e,remove:"all"})}),s(t.settings.formats)}function i(){t.addShortcut("ctrl+b","bold_desc","Bold"),t.addShortcut("ctrl+i","italic_desc","Italic"),t.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;e<=6;e++)t.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),t.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),t.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function a(e){return e?R[e]:R}function s(e,t){e&&("string"!=typeof e?L(e,function(e,t){s(t,e)}):(t=t.length?t:[t],L(t,function(e){e.deep===B&&(e.deep=!e.selector),e.split===B&&(e.split=!e.selector||e.inline),e.remove===B&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),R[e]=t))}function c(n,r,i){function s(e,t){t=t||C,e&&(t.onformat&&t.onformat(e,t,r,i),L(t.styles,function(t,n){D.setStyle(e,n,y(t,r))}),L(t.attributes,function(t,n){D.setAttrib(e,n,y(t,r))}),L(t.classes,function(t){t=y(t,r),D.hasClass(e,t)||D.addClass(e,t)}))}function l(){function e(e,t){var n=new P(t);for(i=n.current();i;i=n.prev())if(i.childNodes.length>1||i==e||"BR"==i.tagName)return i}var n=t.selection.getRng(),o=n.startContainer,r=n.endContainer;if(o!=r&&0===n.endOffset){var a=e(o,r),s=3==a.nodeType?a.length:a.childNodes.length;n.setEnd(a,s)}return n}function d(t,n,o,r,i){var a,s,c=[],l=-1,d=-1,u=-1;return L(t.childNodes,function(e,t){if("UL"===e.nodeName||"OL"===e.nodeName)return l=t,a=e,!1}),L(t.childNodes,function(e,t){"SPAN"===e.nodeName&&"bookmark"==D.getAttrib(e,"data-mce-type")&&(e.id==n.id+"_start"?d=t:e.id==n.id+"_end"&&(u=t))}),l<=0||d<l&&u>l?(L(e.grep(t.childNodes),i),0):(s=D.clone(o,K),L(e.grep(t.childNodes),function(e,t){(d<l&&t<l||d>l&&t>l)&&(c.push(e),e.parentNode.removeChild(e))}),d<l?t.insertBefore(s,a):d>l&&t.insertBefore(s,a.nextSibling),r.push(s),L(c,function(e){s.appendChild(e)}),s)}function f(t,i,a){var c,l,f=[],p=!0;c=C.inline||C.block,l=D.create(c),s(l),O.walk(t,function(t){function m(t){var y,b,_,x,E;return E=p,y=t.nodeName.toLowerCase(),b=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&j(t)&&(E=p,p="true"===j(t),x=!0),g(y,"br")?(h=0,void(C.block&&D.remove(t))):C.wrapper&&u(t,n,r)?void(h=0):p&&!x&&C.block&&!C.wrapper&&N(y)?(t=D.rename(t,c),s(t),f.push(t),void(h=0)):C.selector&&(L(v,function(e){"collapsed"in e&&e.collapsed!==S||D.is(t,e.selector)&&!o(t)&&(s(t,e),_=!0)}),!C.inline||_)?void(h=0):void(p&&!x&&H(c,y)&&H(b,c)&&(a||3!==t.nodeType||1!==t.nodeValue.length||65279!==t.nodeValue.charCodeAt(0))&&!o(t)?(h||(h=D.clone(l,K),t.parentNode.insertBefore(h,t),f.push(h)),h.appendChild(t)):"li"==y&&i?h=d(t,i,l,f,m):(h=0,L(e.grep(t.childNodes),m),x&&(p=E),h=0))}var h;L(t,m)}),C.wrap_links===!1&&L(f,function(t){function n(t){var o,r,i;if("A"===t.nodeName){for(r=D.clone(l,K),f.push(r),i=e.grep(t.childNodes),o=0;o<i.length;o++)r.appendChild(i[o]);t.appendChild(r)}L(e.grep(t.childNodes),n)}n(t)}),L(f,function(e){function t(e){var t=0;return L(e.childNodes,function(e){b(e)||k(e)||t++}),t}function i(e){var t,n;return L(e.childNodes,function(e){if(1==e.nodeType&&!k(e)&&!o(e))return t=e,K}),t&&h(t,C)&&(n=D.clone(t,K),s(n),D.replace(n,e,$),D.remove(t,1)),n||e}var a;if(a=t(e),(f.length>1||!F(e))&&0===a)return void D.remove(e,1);if(C.inline||C.wrapper){if(C.exact||1!==a||(e=i(e)),L(v,function(t){L(D.select(t.inline,e),function(e){var n;if(t.wrap_links===!1){n=e.parentNode;do if("A"===n.nodeName)return;while(n=n.parentNode)}x(t,r,e,t.exact?e:null)})}),u(e.parentNode,n,r))return D.remove(e,1),e=0,$;C.merge_with_parents&&D.getParent(e.parentNode,function(t){if(u(t,n,r))return D.remove(e,1),e=0,$}),e&&C.merge_siblings!==!1&&(e=w(E(e),e),e=w(e,E(e,$)))}})}var p,m,v=a(n),C=v[0],S=I.isCollapsed();if(C)if(i)i.nodeType?(m=D.createRng(),m.setStartBefore(i),m.setEndAfter(i),f(_(m,v),null,!0)):f(i,null,!0);else if(S&&C.inline&&!D.select("td.mceSelected,th.mceSelected").length)A("apply",n,r);else{var T=t.selection.getNode();U||!v[0].defaultBlock||D.getParent(T,D.isBlock)||c(v[0].defaultBlock),t.selection.setRng(l()),p=I.getBookmark(),f(_(I.getRng($),v),p),C.styles&&(C.styles.color||C.styles.textDecoration)&&(e.walk(T,G,"childNodes"),G(T)),I.moveToBookmark(p),M(I.getRng($)),t.nodeChanged()}}function l(o,r,i){function s(t){var n,o,i,a,c;if(1===t.nodeType&&j(t)&&(a=b,b="true"===j(t),c=!0),n=e.grep(t.childNodes),b&&!c)for(o=0,i=v.length;o<i&&!x(v[o],r,t,t);o++);if(y.deep&&n.length){for(o=0,i=n.length;o<i;o++)s(n[o]);c&&(b=a)}}function c(e){var t;return L(n(e.parentNode).reverse(),function(e){var n;t||"_start"==e.id||"_end"==e.id||(n=u(e,o,r),n&&n.split!==!1&&(t=e))}),t}function l(e,t,n,o){var i,a,s,c,l,d;if(e){for(d=e.parentNode,i=t.parentNode;i&&i!=d;i=i.parentNode){
for(a=D.clone(i,K),l=0;l<v.length;l++)if(x(v[l],r,a,a)){a=0;break}a&&(s&&a.appendChild(s),c||(c=a),s=a)}!o||y.mixed&&F(e)||(t=D.split(e,t)),s&&(n.parentNode.insertBefore(s,n),c.appendChild(n))}return t}function d(e){return l(c(e),e,e,!0)}function p(e){var t=D.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return k(n)&&(n=n[e?"firstChild":"lastChild"]),D.remove(t,!0),n}function m(e){var n,o;e=_(e,v,$),y.split&&(n=T(e,$),o=T(e),n!=o?(/^(TR|TD)$/.test(n.nodeName)&&n.firstChild&&(n=("TD"==n.nodeName?n.firstChild:n.firstChild.firstChild)||n),n=C(n,"span",{id:"_start","data-mce-type":"bookmark"}),o=C(o,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(o),n=p($),o=p()):n=o=d(n),e.startContainer=n.parentNode,e.startOffset=V(n),e.endContainer=o.parentNode,e.endOffset=V(o)+1),O.walk(e,function(e){L(e,function(e){s(e),1===e.nodeType&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===W(e.parentNode)&&x({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var h,g,v=a(o),y=v[0],b=!0;return i?void(i.nodeType?(g=D.createRng(),g.setStartBefore(i),g.setEndAfter(i),m(g)):m(i)):void(I.isCollapsed()&&y.inline&&!D.select("td.mceSelected,th.mceSelected").length?A("remove",o,r):(h=I.getBookmark(),m(I.getRng($)),I.moveToBookmark(h),y.inline&&f(o,r,I.getStart())&&M(I.getRng(!0)),t.nodeChanged()))}function d(e,t,n){var o=a(e);!f(e,t,n)||"toggle"in o[0]&&!o[0].toggle?c(e,t,n):l(e,t,n)}function u(e,t,n,o){function r(e,t,r){var i,a,s,c=t[r];if(t.onmatch)return t.onmatch(e,t,r);if(c)if(c.length===B){for(i in c)if(c.hasOwnProperty(i)){if(a="attributes"===r?D.getAttrib(e,i):v(e,i),o&&!a&&!t.exact)return;if((!o||t.exact)&&!g(a,y(c[i],n)))return}}else for(s=0;s<c.length;s++)if("attributes"===r?D.getAttrib(e,c[s]):v(e,c[s]))return t;return t}var i,s,c,l=a(t);if(l&&e)for(s=0;s<l.length;s++)if(i=l[s],h(e,i)&&r(e,i,"attributes")&&r(e,i,"styles")){if(c=i.classes)for(s=0;s<c.length;s++)if(!D.hasClass(e,c[s]))return;return i}}function f(e,t,n){function o(n){return n=D.getParent(n,function(n){return!!u(n,e,t,!0)}),u(n,e,t)}var r;return n?o(n):(n=I.getNode(),o(n)?$:(r=I.getStart(),r!=n&&o(r)?$:K))}function p(e,t){var n,o=[],r={};return n=I.getStart(),D.getParent(n,function(n){var i,a;for(i=0;i<e.length;i++)a=e[i],!r[a]&&u(n,a,t)&&(r[a]=!0,o.push(a))}),o}function m(e){var t,o,r,i,s,c=a(e);if(c)for(t=I.getStart(),o=n(t),i=c.length-1;i>=0;i--){if(s=c[i].selector,!s)return $;for(r=o.length-1;r>=0;r--)if(D.is(o[r],s))return $}return K}function h(e,t){return g(e,t.inline)?$:g(e,t.block)?$:t.selector?D.is(e,t.selector):void 0}function g(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function v(e,t){var n=D.getStyle(e,t);return"color"!=t&&"backgroundColor"!=t||(n=D.toHex(n)),"fontWeight"==t&&700==n&&(n="bold"),""+n}function y(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function b(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function C(e,t,n){var o=D.create(t,n);return e.parentNode.insertBefore(o,e),o.appendChild(e),o}function _(e,o,r){function i(e){var t,n,r,i,a;if(t=n=e?m:v,i=e?"previousSibling":"nextSibling",a=D.getRoot(),3==t.nodeType&&!b(t)&&(e?h>0:y<t.nodeValue.length))return t;for(;;){if(!o[0].block_expand&&F(n))return n;for(r=n[i];r;r=r[i])if(!k(r)&&!b(r))return n;if(n.parentNode==a){t=n;break}n=n.parentNode}return t}function a(e,t){for(t===B&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function s(e){for(var t=e;t;){if(1===t.nodeType&&j(t))return"false"===j(t)?t:e;t=t.parentNode}return e}function c(e,n,o){function i(e,t){var n,i,a=e.nodeValue;return"undefined"==typeof t&&(t=o?a.length:0),o?(n=a.lastIndexOf(" ",t),i=a.lastIndexOf(" ",t),n=n>i?n:i,n===-1||r||n++):(n=a.indexOf(" ",t),i=a.indexOf(" ",t),n=n!==-1&&(i===-1||n<i)?n:i),n}var a,s,c,l;if(3===e.nodeType){if(c=i(e,n),c!==-1)return{container:e,offset:c};l=e}for(a=new P(e,D.getParent(e,F)||t.getBody());s=a[o?"prev":"next"]();)if(3===s.nodeType){if(l=s,c=i(s),c!==-1)return{container:s,offset:c}}else if(F(s))break;if(l)return n=o?0:l.length,{container:l,offset:n}}function l(t,r){var i,a,s,c;for(3==t.nodeType&&0===t.nodeValue.length&&t[r]&&(t=t[r]),i=n(t),a=0;a<i.length;a++)for(s=0;s<o.length;s++)if(c=o[s],!("collapsed"in c&&c.collapsed!==e.collapsed)&&D.is(i[a],c.selector))return i[a];return t}function d(e,t,r){var i;if(o[0].wrapper||(i=D.getParent(e,o[0].block)),i||(i=D.getParent(3==e.nodeType?e.parentNode:e,F)),i&&o[0].wrapper&&(i=n(i,"ul,ol").reverse()[0]||i),!i)for(i=e;i[t]&&!F(i[t])&&(i=i[t],!g(i,"br")););return i||e}var u,f,p,m=e.startContainer,h=e.startOffset,v=e.endContainer,y=e.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(u=m.childNodes.length-1,m=m.childNodes[h>u?u:h],3==m.nodeType&&(h=0)),1==v.nodeType&&v.hasChildNodes()&&(u=v.childNodes.length-1,v=v.childNodes[y>u?u:y-1],3==v.nodeType&&(y=v.nodeValue.length)),m=s(m),v=s(v),(k(m.parentNode)||k(m))&&(m=k(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(h=0)),(k(v.parentNode)||k(v))&&(v=k(v)?v:v.parentNode,v=v.previousSibling||v,3==v.nodeType&&(y=v.length)),o[0].inline&&(e.collapsed&&(p=c(m,h,!0),p&&(m=p.container,h=p.offset),p=c(v,y),p&&(v=p.container,y=p.offset)),f=a(v,y),f.node)){for(;f.node&&0===f.offset&&f.node.previousSibling;)f=a(f.node.previousSibling);f.node&&f.offset>0&&3===f.node.nodeType&&" "===f.node.nodeValue.charAt(f.offset-1)&&f.offset>1&&(v=f.node,v.splitText(f.offset-1))}return(o[0].inline||o[0].block_expand)&&(o[0].inline&&3==m.nodeType&&0!==h||(m=i(!0)),o[0].inline&&3==v.nodeType&&y!==v.nodeValue.length||(v=i())),o[0].selector&&o[0].expand!==K&&!o[0].inline&&(m=l(m,"previousSibling"),v=l(v,"nextSibling")),(o[0].block||o[0].selector)&&(m=d(m,"previousSibling"),v=d(v,"nextSibling"),o[0].block&&(F(m)||(m=i(!0)),F(v)||(v=i()))),1==m.nodeType&&(h=V(m),m=m.parentNode),1==v.nodeType&&(y=V(v)+1,v=v.parentNode),{startContainer:m,startOffset:h,endContainer:v,endOffset:y}}function x(e,t,n,o){var r,i,a;if(!h(n,e))return K;if("all"!=e.remove)for(L(e.styles,function(e,r){e=y(e,t),"number"==typeof r&&(r=e,o=0),o&&!g(v(o,r),e)||D.setStyle(n,r,""),a=1}),a&&""==D.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),L(e.attributes,function(e,r){var i;if(e=y(e,t),"number"==typeof r&&(r=e,o=0),!o||g(D.getAttrib(o,r),e)){if("class"==r&&(e=D.getAttrib(n,r),e&&(i="",L(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(i+=(i?" ":"")+e)}),i)))return void D.setAttrib(n,r,i);"class"==r&&n.removeAttribute("className"),q.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),L(e.classes,function(e){e=y(e,t),o&&!D.hasClass(o,e)||D.removeClass(n,e)}),i=D.getAttribs(n),r=0;r<i.length;r++)if(0!==i[r].nodeName.indexOf("_"))return K;return"none"!=e.remove?(S(n,e),$):void 0}function S(t,n){function o(e,t,n){return e=E(e,t,n),!e||"BR"==e.nodeName||F(e)}var r,i=t.parentNode;n.block&&(U?i==D.getRoot()&&(n.list_block&&g(t,n.list_block)||L(e.grep(t.childNodes),function(e){H(U,e.nodeName.toLowerCase())?r?r.appendChild(e):r=C(e,U):r=0})):F(t)&&!F(i)&&(o(t,K)||o(t.firstChild,$,1)||t.insertBefore(D.create("br"),t.firstChild),o(t,$)||o(t.lastChild,K,1)||t.appendChild(D.create("br")))),n.selector&&n.inline&&!g(n.inline,t)||D.remove(t,1)}function E(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!b(e))return e}function k(e){return e&&1==e.nodeType&&"bookmark"==e.getAttribute("data-mce-type")}function w(t,n){function o(e,t){function n(e){var t={};return L(D.getAttribs(e),function(n){var o=n.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&(t[o]=D.getAttrib(e,o))}),t}function o(e,t){var n,o;for(o in e)if(e.hasOwnProperty(o)){if(n=t[o],n===B)return K;if(e[o]!=n)return K;delete t[o]}for(o in t)if(t.hasOwnProperty(o))return K;return $}return e.nodeName!=t.nodeName?K:o(n(e),n(t))&&o(D.parseStyle(D.getAttrib(e,"style")),D.parseStyle(D.getAttrib(t,"style")))?$:K}function r(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!k(i))return i}return e}var i,a;if(t&&n&&(t=r(t,"previousSibling"),n=r(n,"nextSibling"),o(t,n))){for(i=t.nextSibling;i&&i!=n;)a=i,i=i.nextSibling,t.appendChild(a);return D.remove(n),L(e.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function N(e){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(e)}function T(e,n){var o,r,i;return o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],1==o.nodeType&&(i=o.childNodes.length-1,!n&&r&&r--,o=o.childNodes[r>i?i:r]),3===o.nodeType&&n&&r>=o.nodeValue.length&&(o=new P(o,t.getBody()).next()||o),3!==o.nodeType||n||0!==r||(o=new P(o,t.getBody()).prev()||o),o}function A(n,o,r){function i(e){var n=D.create("span",{id:g,"data-mce-bogus":!0,style:v?"color:red":""});return e&&n.appendChild(t.getDoc().createTextNode(z)),n}function s(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==z||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function d(e){for(;e;){if(e.id===g)return e;e=e.parentNode}}function f(e){var t;if(e)for(t=new P(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e}function p(e,t){var n,o;if(e)o=I.getRng(!0),s(e)?(t!==!1&&(o.setStartBefore(e),o.setEndBefore(e)),D.remove(e)):(n=f(e),n.nodeValue.charAt(0)===z&&(n=n.deleteData(0,1)),D.remove(e,1)),I.setRng(o);else if(e=d(I.getStart()),!e)for(;e=D.get(g);)p(e,!1)}function m(){var e,t,n,s,l,u,p;e=I.getRng(!0),s=e.startOffset,u=e.startContainer,p=u.nodeValue,t=d(I.getStart()),t&&(n=f(t)),p&&s>0&&s<p.length&&/\w/.test(p.charAt(s))&&/\w/.test(p.charAt(s-1))?(l=I.getBookmark(),e.collapse(!0),e=_(e,a(o)),e=O.split(e),c(o,r,e),I.moveToBookmark(l)):(t&&n.nodeValue===z?c(o,r,t):(t=i(!0),n=t.firstChild,e.insertNode(t),s=1,c(o,r,t)),I.setCursorLocation(n,s))}function h(){var e,t,n,s,c,d,f,p,m=I.getRng(!0),h=[];for(e=m.startContainer,t=m.startOffset,c=e,3==e.nodeType&&(t==e.nodeValue.length&&e.nodeValue!==z||(s=!0),c=c.parentNode);c;){if(u(c,o,r)){d=c;break}c.nextSibling&&(s=!0),h.push(c),c=c.parentNode}if(d)if(s)n=I.getBookmark(),m.collapse(!0),m=_(m,a(o),!0),m=O.split(m),l(o,r,m),I.moveToBookmark(n);else{for(p=i(),c=p,f=h.length-1;f>=0;f--)c.appendChild(D.clone(h[f],!1)),c=c.firstChild;c.appendChild(D.doc.createTextNode(z)),c=c.firstChild,D.insertAfter(p,d),I.setCursorLocation(c,1)}}var g="_mce_caret",v=t.settings.caret_debug;self._hasCaretEvents||(t.onBeforeGetContent.addToTop(function(){var e,t=[];if(s(d(I.getStart()),t))for(e=t.length;e--;)D.setAttrib(t[e],"data-mce-bogus","1")}),e.each("onMouseUp onKeyUp".split(" "),function(e){t[e].addToTop(function(){p()})}),t.onKeyDown.addToTop(function(e,t){var n=t.keyCode;8!=n&&37!=n&&39!=n||p(d(I.getStart()))}),I.onSetContent.add(function(){D.getParent(I.getStart(),function(e){e.id!==g&&D.getAttrib(e,"data-mce-bogus")&&!D.isEmpty(e)&&D.setAttrib(e,"data-mce-bogus",null)})}),self._hasCaretEvents=!0),"apply"==n?m():h()}function M(e){var t,n,o,r,i,a=e.startContainer,s=e.startOffset;if(3==a.nodeType&&s>=a.nodeValue.length&&(s=V(a),a=a.parentNode,t=!0),1==a.nodeType)for(r=a.childNodes,a=r[Math.min(s,r.length-1)],n=new P(a,D.getParent(a,D.isBlock)),(s>r.length-1||t)&&n.next(),o=n.current();o;o=n.next())if(3==o.nodeType&&!b(o))return i=D.create("a",null,z),o.parentNode.insertBefore(i,o),e.setStart(o,0),I.setRng(e),void D.remove(i)}var B,R={},L=e.each,D=t.dom,I=t.selection,P=e.dom.TreeWalker,O=new e.dom.RangeUtils(D),H=t.schema.isValidChild,F=D.isBlock,U=t.settings.forced_root_block,V=D.nodeIndex,z=e.isGecko?"​":"\ufeff",q=/^(src|href|style)$/,K=!1,$=!0,j=D.getContentEditable,W=function(e){var n;return t.dom.getParent(e,function(e){return n=t.dom.getStyle(e,"text-decoration"),n&&"none"!==n}),n},G=function(e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=W(e.parentNode),t.dom.getStyle(e,"color")&&n?t.dom.setStyle(e,"text-decoration",n):t.dom.getStyle(e,"textdecoration")===n&&t.dom.setStyle(e,"text-decoration",null))};e.extend(this,{get:a,register:s,apply:c,remove:l,toggle:d,match:f,matchAll:p,matchNode:u,canApply:m}),r(),i()}}(tinymce),tinymce.onAddEditor.add(function(e,t){function n(t,n){e.each(n,function(e,n){e&&a.setStyle(t,n,e)}),a.rename(t,"span")}function o(n,o){a=n.dom,s.convert_fonts_to_spans&&e.each(a.select("font,u,strike",o.node),function(e){r[e.nodeName.toLowerCase()](t.dom,e)})}var r,i,a,s=t.settings;s.inline_styles&&(i=e.explode(s.font_size_legacy_values),r={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:i[parseInt(t.size,10)-1]})},u:function(e,t){n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},t.onPreProcess.add(o),t.onSetContent.add(o),t.onInit.add(function(){t.selection.onSetContent.add(o)}))}),function(e){var t=e.dom.TreeWalker;e.EnterKey=function(n){function o(o){function c(e){return e&&r.isBlock(e)&&!/^(TD|TH|CAPTION)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==r.getContentEditable(e)}function l(e){var o,a,s,c,l,d,u=e;if(s=r.createRng(),e.hasChildNodes()){for(o=new t(e,e);a=o.current();){if(3==a.nodeType){s.setStart(a,0),s.setEnd(a,0);break}if(/^(BR|IMG)$/.test(a.nodeName)){s.setStartBefore(a),s.setEndBefore(a);break}u=a,a=o.next()}a||(s.setStart(u,0),s.setEnd(u,0))}else"BR"==e.nodeName?e.nextSibling&&r.isBlock(e.nextSibling)?((!S||S<9)&&(d=r.create("br"),e.parentNode.insertBefore(d,e)),s.setStartBefore(e),s.setEndBefore(e)):(s.setStartAfter(e),s.setEndAfter(e)):(s.setStart(e,0),s.setEnd(e,0));i.setRng(s),r.remove(d),l=r.getViewPort(n.getWin()),c=r.getPos(e).y,(c<l.y||c+25>l.y+l.h)&&n.getWin().scrollTo(0,c<l.y?c:c-l.h+25)}function d(t){var n,o,i,s=C;if(n=t||"TABLE"==N?r.create(t||A):x.cloneNode(!1),i=n,a.keep_styles!==!1)do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(s.nodeName)&&(o=s.cloneNode(!1),r.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(i=o,n.appendChild(o)));while(s=s.parentNode);return e.isIE||(i.innerHTML="<br>"),n}function u(e){var n,o,r;if(3==C.nodeType&&(e?_>0:_<C.nodeValue.length))return!1;if(C.parentNode==x&&M&&!e)return!0;if("TABLE"===C.nodeName||C.previousSibling&&"TABLE"==C.previousSibling.nodeName)return M&&!e||!M&&e;for(n=new t(C,x);o=e?n.prev():n.next();)if(1===o.nodeType){if(o.getAttribute("data-mce-bogus"))continue;if(r=o.nodeName.toLowerCase(),"IMG"===r)return!1}else if(3===o.nodeType&&!/^[ \t\r\n]*$/.test(o.nodeValue))return!1;return!0}function f(e,t){var n,o,i,a,s,l=A||"P";if(o=r.getParent(e,r.isBlock),!o||!c(o)){if(o=o||b,!o.hasChildNodes())return n=r.create(l),o.appendChild(n),B.setStart(n,0),B.setEnd(n,0),n;for(a=e;a.parentNode!=o;)a=a.parentNode;for(;a&&!r.isBlock(a);)i=a,a=a.previousSibling;if(i){for(n=r.create(l),i.parentNode.insertBefore(n,i),a=i;a&&!r.isBlock(a);)s=a.nextSibling,n.appendChild(a),a=s;B.setStart(e,t),B.setEnd(e,t)}}return e}function p(){function e(e){for(var t=w[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===x}E=A?d(A):r.create("BR"),e(!0)&&e()?r.replace(E,w):e(!0)?w.parentNode.insertBefore(E,w):e()?r.insertAfter(E,w):(y=B.cloneRange(),y.setStartAfter(x),y.setEndAfter(w),k=y.extractContents(),r.insertAfter(k,w),r.insertAfter(E,w)),r.remove(x),l(E),s.add()}function m(){for(var e,n=new t(C,x);e=n.current();){if("BR"==e.nodeName)return!0;e=n.next()}}function h(){var t,n;C&&3==C.nodeType&&_>=C.nodeValue.length&&(e.isIE||m()||(t=r.create("br"),B.insertNode(t),B.setStartAfter(t),B.setEndAfter(t),n=!0)),t=r.create("br"),B.insertNode(t),e.isIE&&"PRE"==N&&(!S||S<8)&&t.parentNode.insertBefore(r.doc.createTextNode("\r"),t),n?(B.setStartBefore(t),B.setEndBefore(t)):(B.setStartAfter(t),B.setEndAfter(t)),i.setRng(B),s.add()}function g(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function v(e){var t,n,o=r.getRoot();for(t=e;t!==o&&"false"!==r.getContentEditable(t);)"true"===r.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==o?n:o}var y,b,C,_,x,S,E,k,w,N,T,A,M,B=i.getRng(!0);if(!B.collapsed)return void n.execCommand("Delete");if(!o.isDefaultPrevented()&&(C=B.startContainer,_=B.startOffset,A=a.forced_root_block,A=A?A.toUpperCase():"",S=r.doc.documentMode,1==C.nodeType&&C.hasChildNodes()&&(M=_>C.childNodes.length-1,C=C.childNodes[Math.min(_,C.childNodes.length-1)]||C,_=0),b=v(C))){if(s.beforeChange(),!r.isBlock(b)&&b!=r.getRoot())return void(A&&!o.shiftKey||h());if((A&&!o.shiftKey||!A&&o.shiftKey)&&(C=f(C,_)),x=r.getParent(C,r.isBlock),w=x?r.getParent(x.parentNode,r.isBlock):null,N=x?x.nodeName.toUpperCase():"",T=w?w.nodeName.toUpperCase():"","LI"==N&&r.isEmpty(x))return!/^(UL|OL|LI)$/.test(w.parentNode.nodeName)&&void p();if("PRE"==N&&a.br_in_pre!==!1){if(!o.shiftKey)return void h()}else if(!A&&!o.shiftKey&&"LI"!=N||A&&o.shiftKey)return void h();A=A||"P",u()?(E=/^(H[1-6]|PRE)$/.test(N)&&"HGROUP"!=T?d(A):d(),a.end_container_on_empty_block&&c(w)&&r.isEmpty(x)?E=r.split(w,x):r.insertAfter(E,x)):u(!0)?E=x.parentNode.insertBefore(d(),x):(y=B.cloneRange(),y.setEndAfter(x),k=y.extractContents(),g(k),E=k.firstChild,r.insertAfter(k,x)),r.setAttrib(E,"id",""),l(E),s.add()}}var r=n.dom,i=n.selection,a=n.settings,s=n.undoManager;n.onKeyDown.add(function(e,t){13==t.keyCode&&o(t)!==!1&&t.preventDefault()})}}(tinymce);
!function(z,m){function W(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function cb(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){for(var n=0,i=t.length;n<i;n++)if(e===t[n])return n;return-1}function k(e,t){if(W(e))for(var n=0,i=e.length;n<i&&t.call(e[n],n,e[n])!==!1;n++);else for(n in e)if(e.hasOwnProperty(n)&&t.call(e[n],n,e[n])===!1)break}function A(e){return e.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")}function ra(e,t,n){return n=n===m?",":n,(n+t+n).indexOf(n+e+n)>=0}function r(e){return e&&/^\d+$/.test(e)?e+"px":e}function s(e){var t;return e&&(t=/(\d+)/.exec(e))?parseInt(t[1],10):0}function D(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Fa(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function da(e){var t=e.split("-"),e="";return k(t,function(t,n){e+=t>0?n.charAt(0).toUpperCase()+n.substr(1):n}),e}function sa(e){function t(e){return e=parseInt(e,10).toString(16).toUpperCase(),e.length>1?e:"0"+e}return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi,function(e,n,i,r){return"#"+t(n)+t(i)+t(r)})}function u(e,t){var n,t=t===m?",":t,i={},r=W(e)?e:e.split(t);return k(r,function(e,t){if(n=/^(\d+)\.\.(\d+)$/.exec(t))for(var r=parseInt(n[1],10);r<=parseInt(n[2],10);r++)i[r.toString()]=!0;else i[t]=!0}),i}function Ga(e,t){return Array.prototype.slice.call(e,t||0)}function n(e,t){return e===m?t:e}function F(e,t,n){n||(n=t,t=null);var i;if(t){var r=function(){};r.prototype=t.prototype,i=new r,k(n,function(e,t){i[e]=t})}else i=n;i.constructor=e,e.prototype=i,e.parent=t?t.prototype:null}function db(a){var b;if((b=/\{[\s\S]*\}|\[[\s\S]*\]/.exec(a))&&(a=b[0]),b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b.lastIndex=0,b.test(a)&&(a=a.replace(b,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+a+")");throw"JSON parse error"}function Qb(e,t,n){e.addEventListener?e.addEventListener(t,n,eb):e.attachEvent&&e.attachEvent("on"+t,n)}function ta(e,t,n){e.removeEventListener?e.removeEventListener(t,n,eb):e.detachEvent&&e.detachEvent("on"+t,n)}function fb(e,t){this.init(e,t)}function gb(e){try{delete e[X]}catch(t){e.removeAttribute&&e.removeAttribute(X)}}function Y(e,t,n){if(t.indexOf(",")>=0)k(t.split(","),function(){Y(e,this,n)});else{var i=e[X]||null;i||(e[X]=++hb,i=hb),v[i]===m&&(v[i]={});var r=v[i][t];r&&r.length>0?ta(e,t,r[0]):(v[i][t]=[],v[i].el=e),r=v[i][t],0===r.length&&(r[0]=function(t){var n=t?new fb(e,t):m;k(r,function(t,i){t>0&&i&&i.call(e,n)})}),M(n,r)<0&&r.push(n),Qb(e,t,r[0])}}function ea(e,t,n){if(t&&t.indexOf(",")>=0)k(t.split(","),function(){ea(e,this,n)});else{var i=e[X]||null;if(i)if(t===m)i in v&&(k(v[i],function(t,n){"el"!=t&&n.length>0&&ta(e,t,n[0])}),delete v[i],gb(e));else if(v[i]){var r=v[i][t];if(r&&r.length>0){n===m?(ta(e,t,r[0]),delete v[i][t]):(k(r,function(e,t){e>0&&t===n&&r.splice(e,1)}),1==r.length&&(ta(e,t,r[0]),delete v[i][t]));var o=0;k(v[i],function(){o++}),o<2&&(delete v[i],gb(e))}}}}function ib(e,t){if(t.indexOf(",")>=0)k(t.split(","),function(){ib(e,this)});else{var n=e[X]||null;if(n){var i=v[n][t];v[n]&&i&&i.length>0&&i[0]()}}}function Ha(e,t,n){t=/^\d{2,}$/.test(t)?t:t.toUpperCase().charCodeAt(0),Y(e,"keydown",function(i){i.ctrlKey&&i.which==t&&!i.shiftKey&&!i.altKey&&(n.call(e),i.stop())})}function fa(e){for(var t,n={},i=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;t=i.exec(e);){var r=A(t[1].toLowerCase());t=A(sa(t[2])),n[r]=t}return n}function J(e){for(var t,n={},i=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;t=i.exec(e);){var r=(t[1]||t[2]||t[4]||t[6]).toLowerCase();n[r]=(t[2]?t[3]:t[4]?t[5]:t[7])||""}return n}function Rb(e,t){return e=/\s+class\s*=/.test(e)?e.replace(/(\s+class=["']?)([^"']*)(["']?[\s>])/,function(e,n,i,r){return(" "+i+" ").indexOf(" "+t+" ")<0?""===i?n+t+r:n+i+" "+t+r:e}):e.substr(0,e.length-1)+' class="'+t+'">'}function Sb(e){var t="";return k(fa(e),function(e,n){t+=e+":"+n+";"}),t}function ua(e,t,i,r){function o(e){for(var e=e.split("/"),t=[],n=0,i=e.length;n<i;n++){var r=e[n];".."==r?t.length>0&&t.pop():""!==r&&"."!=r&&t.push(r)}return"/"+t.join("/")}function a(t,n){if(e.substr(0,t.length)===t){for(var i=[],o=0;o<n;o++)i.push("..");return o=".",i.length>0&&(o+="/"+i.join("/")),"/"==r&&(o+="/"),o+e.substr(t.length)}if(l=/^(.*)\//.exec(t))return a(l[1],++n)}if(t=n(t,"").toLowerCase(),"data:"!=e.substr(0,5)&&(e=e.replace(/([^:])\/\//g,"$1/")),M(t,["absolute","relative","domain"])<0)return e;if(i=i||location.protocol+"//"+location.host,r===m)var s=location.pathname.match(/^(\/.*)\//),r=s?s[1]:"";var l;if(l=/^(\w+:\/\/[^\/]*)/.exec(e)){if(l[1]!==i)return e}else if(/^\w+:/.test(e))return e;return/^\//.test(e)?e=i+o(e.substr(1)):/^\w+:\/\//.test(e)||(e=i+o(r+"/"+e)),"relative"===t?e=a(i+r,0).substr(2):"absolute"===t&&e.substr(0,i.length)===i&&(e=e.substr(i.length)),e}function R(e,t,i,r,o){var i=i||"",r=n(r,!1),o=n(o,"\t"),a="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),e=e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(e,t,n,i){return t+n.replace(/<(?:br|br\s[^>]*)>/gi,"\n")+i}),e=e.replace(/<(?:br|br\s[^>]*)\s*\/?>\s*<\/p>/gi,"</p>"),e=e.replace(/(<(?:p|p\s[^>]*)>)\s*(<\/p>)/gi,"$1<br />$2"),e=e.replace(/\u200B/g,""),e=e.replace(/\u00A9/g,"&copy;"),s={};t&&(k(t,function(e,t){for(var n=e.split(","),i=0,r=n.length;i<r;i++)s[n[i]]=u(t)}),s.script||(e=e.replace(/(<(?:script|script\s[^>]*)>)([\s\S]*?)(<\/script>)/gi,"")),s.style||(e=e.replace(/(<(?:style|style\s[^>]*)>)([\s\S]*?)(<\/style>)/gi,"")));var l=[],e=e.replace(/([ \t\n\r]*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>([ \t\n\r]*)/g,function(e,n,c,d,u,f,h){var n=n||"",c=c||"",p=d.toLowerCase(),m=u||"",d=f?" "+f:"",h=h||"";if(t&&!s[p])return"";if(""===d&&jb[p]&&(d=" /"),kb[p]&&(n&&(n=" "),h&&(h=" ")),Ia[p]&&(c?h="\n":n="\n"),r&&"br"==p&&(h="\n"),lb[p]&&!Ia[p])if(r){for(c&&l.length>0&&l[l.length-1]===p?l.pop():l.push(p),h=n="\n",u=0,f=c?l.length:l.length-1;u<f;u++)n+=o,c||(h+=o);d?l.pop():c||(h+=o)}else n=h="";if(""!==m){var g=J(e);if("font"===p){var b={},v="";k(g,function(e,t){"color"===e&&(b.color=t,delete g[e]),"size"===e&&(b["font-size"]=a[parseInt(t,10)-1]||"",delete g[e]),"face"===e&&(b["font-family"]=t,delete g[e]),"style"===e&&(v=t)}),v&&!/;$/.test(v)&&(v+=";"),k(b,function(e,t){""!==t&&(/\s/.test(t)&&(t="'"+t+"'"),v+=e+":"+t+";")}),g.style=v}k(g,function(e,n){if(Tb[e]&&(g[e]=e),M(e,["src","href"])>=0&&(g[e]=ua(n,i)),(t&&"style"!==e&&!s[p]["*"]&&!s[p][e]||"body"===p&&"contenteditable"===e||/^kindeditor_\d+$/.test(e))&&delete g[e],"style"===e&&""!==n){var r=fa(n);k(r,function(e){t&&!s[p].style&&!s[p]["."+e]&&delete r[e]});var o="";k(r,function(e,t){o+=e+":"+t+";"}),g.style=o}}),m="",k(g,function(e,t){"style"===e&&""===t||(t=t.replace(/"/g,"&quot;"),m+=" "+e+'="'+t+'"')})}return"font"===p&&(p="span"),n+"<"+c+p+m+d+">"+h}),e=e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(e,t,n,i){return t+n.replace(/\n/g,'<span id="__kindeditor_pre_newline__">\n')+i}),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/<span id="__kindeditor_pre_newline__">\n/g,"\n");return A(e)}function mb(e,t){return e=e.replace(/<meta[\s\S]*?>/gi,"").replace(/<![\s\S]*?>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<w:[^>]+>[\s\S]*?<\/w:[^>]+>/gi,"").replace(/<o:[^>]+>[\s\S]*?<\/o:[^>]+>/gi,"").replace(/<xml>[\s\S]*?<\/xml>/gi,"").replace(/<(?:table|td)[^>]*>/gi,function(e){return e.replace(/border-bottom:([#\w\s]+)/gi,"border:$1")}),R(e,t)}function nb(e){return/\.(rm|rmvb)(\?|$)/i.test(e)?"audio/x-pn-realaudio-plugin":/\.(swf|flv)(\?|$)/i.test(e)?"application/x-shockwave-flash":"video/x-ms-asf-plugin"}function ob(e){return J(unescape(e))}function Ja(e){var t="<embed ";return k(e,function(e,n){t+=e+'="'+n+'" '}),t+="/>"}function pb(e,t){var n=t.width,i=t.height,r=t.type||nb(t.src),o=Ja(t),a="";return n>0&&(a+="width:"+n+"px;"),i>0&&(a+="height:"+i+"px;"),n=/realaudio/i.test(r)?"ke-rm":/flash/i.test(r)?"ke-flash":"ke-media",n='<img class="'+n+'" src="'+e+'" ',""!==a&&(n+='style="'+a+'" '),n+='data-ke-tag="'+escape(o)+'" alt="" />'}function xa(e,t){if(9==e.nodeType&&9!=t.nodeType)return!0;for(;t=t.parentNode;)if(t==e)return!0;return!1}function ya(e,t){var t=t.toLowerCase(),n=null;if(Ub||"script"==e.nodeName.toLowerCase())try{n=e.getAttribute(t,2)}catch(i){n=e.getAttribute(t,1)}else{var i=e.ownerDocument.createElement("div");i.appendChild(e.cloneNode(!1)),i=J(Fa(i.innerHTML)),t in i&&(n=i[t])}return"style"===t&&null!==n&&(n=Sb(n)),n}function za(e,t){function n(e){return"string"!=typeof e?e:e.replace(/([^\w\-])/g,"\\$1")}function i(e,t){return"*"===e||e.toLowerCase()===n(t.toLowerCase())}function r(e,t,n){var r=[];return(e=(n.ownerDocument||n).getElementById(e.replace(/\\/g,"")))&&i(t,e.nodeName)&&xa(n,e)&&r.push(e),r}function o(e,t,n){var r,o,a,s=n.ownerDocument||n,l=[];if(n.getElementsByClassName)for(s=n.getElementsByClassName(e.replace(/\\/g,"")),r=0,o=s.length;r<o;r++)a=s[r],i(t,a.nodeName)&&l.push(a);else if(s.querySelectorAll)for(s=s.querySelectorAll(("#document"!==n.nodeName?n.nodeName+" ":"")+t+"."+e),r=0,o=s.length;r<o;r++)a=s[r],xa(n,a)&&l.push(a);else for(s=n.getElementsByTagName(t),e=" "+e+" ",r=0,o=s.length;r<o;r++)a=s[r],1==a.nodeType&&(t=a.className)&&(" "+t+" ").indexOf(e)>-1&&l.push(a);return l}function a(e,t,i,r){for(var o=[],i=r.getElementsByTagName(i),a=0,s=i.length;a<s;a++)r=i[a],1==r.nodeType&&(null===t?null!==ya(r,e)&&o.push(r):t===n(ya(r,e))&&o.push(r));return o}function s(e,t){var n,s=[],l=(n=/^((?:\\.|[^.#\s\[<>])+)/.exec(e))?n[1]:"*";if(n=/#((?:[\w\-]|\\.)+)$/.exec(e))s=r(n[1],l,t);else if(n=/\.((?:[\w\-]|\\.)+)$/.exec(e))s=o(n[1],l,t);else if(n=/\[((?:[\w\-]|\\.)+)\]/.exec(e))s=a(n[1].toLowerCase(),null,l,t);else if(n=/\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(e)){if(s=n[1].toLowerCase(),n=n[2],"id"===s)l=r(n,l,t);else if("class"===s)l=o(n,l,t);else if("name"===s){s=[],n=(t.ownerDocument||t).getElementsByName(n.replace(/\\/g,""));for(var c,d=0,u=n.length;d<u;d++)c=n[d],i(l,c.nodeName)&&xa(t,c)&&c.getAttributeNode("name")&&s.push(c);l=s}else l=a(s,n,l,t);s=l}else for(l=t.getElementsByTagName(l),c=0,d=l.length;c<d;c++)n=l[c],1==n.nodeType&&s.push(n);return s}var l=e.split(",");if(l.length>1){var c=[];return k(l,function(){k(za(this,t),function(){M(this,c)<0&&c.push(this)})}),c}for(var d,t=t||document,l=[],u=/((?:\\.|[^\s>])+|[\s>])/g;d=u.exec(e);)" "!==d[1]&&l.push(d[1]);if(d=[],1==l.length)return s(l[0],t);var f,h,p,m,g,b,v,y,C,w,u=!1;for(b=0,lenth=l.length;b<lenth;b++)if(f=l[b],">"===f)u=!0;else{if(b>0){for(h=[],v=0,C=d.length;v<C;v++)for(m=d[v],p=s(f,m),y=0,w=p.length;y<w;y++)g=p[y],u?m===g.parentNode&&h.push(g):h.push(g);d=h}else d=s(f,t);if(0===d.length)return[]}return d}function S(e){return e?e.ownerDocument||e.document||e:document}function T(e){return e?(e=S(e),e.parentWindow||e.defaultView):z}function Vb(e,t){if(1==e.nodeType){var n=S(e);try{e.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t;var i=n.getElementById("__kindeditor_temp_tag__");i.parentNode.removeChild(i)}catch(i){f(e).empty(),f("@"+t,n).each(function(){e.appendChild(this)})}}}function Ka(e,t,n){o&&B<8&&"class"==t.toLowerCase()&&(t="className"),e.setAttribute(t,""+n)}function La(e){return e&&e.nodeName?e.nodeName.toLowerCase():""}function Wb(e,t){var n=T(e),i=da(t),r="";return n.getComputedStyle?(n=n.getComputedStyle(e,null),r=n[i]||n.getPropertyValue(t)||e.style[i]):e.currentStyle&&(r=e.currentStyle[i]||e.style[i]),r}function I(e){return e=e||document,N?e.body:e.documentElement}function Z(e){var t,e=e||document;return o||Ma?(t=I(e).scrollLeft,e=I(e).scrollTop):(t=T(e).scrollX,e=T(e).scrollY),{x:t,y:e}}function C(e){this.init(e)}function qb(e){return e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e}function Na(e,t,n){function i(i,r,o){var a,l=i.nodeValue.length;if(t&&(a=i.cloneNode(!0),a=r>0?a.splitText(r):a,o<l&&a.splitText(o-r)),n){var c=i;r>0&&(c=i.splitText(r),e.setStart(i,r)),o<l&&(i=c.splitText(o-r),e.setEnd(i,0)),s.push(c)}return a}function r(){n&&e.up().collapse(!0);for(var t=0,i=s.length;t<i;t++){var r=s[t];r.parentNode&&r.parentNode.removeChild(r)}}function o(r,h){for(var p,m=r.firstChild;m;){if(p=new K(a).selectNode(m),c=p.compareBoundaryPoints(ga,e),c>=0&&d<=0&&(d=p.compareBoundaryPoints(ha,e)),d>=0&&u<=0&&(u=p.compareBoundaryPoints($,e)),u>=0&&f<=0&&(f=p.compareBoundaryPoints(ia,e)),f>=0)return!1;if(p=m.nextSibling,c>0)if(1==m.nodeType)if(d>=0&&u<=0)t&&h.appendChild(m.cloneNode(!0)),n&&s.push(m);else{var g;if(t&&(g=m.cloneNode(!1),h.appendChild(g)),o(m,g)===!1)return!1}else if(3==m.nodeType&&(m=m==l.startContainer?i(m,l.startOffset,m.nodeValue.length):m==l.endContainer?i(m,0,l.endOffset):i(m,0,m.nodeValue.length),t))try{h.appendChild(m)}catch(e){}m=p}}var a=e.doc,s=[],l=e.cloneRange().down(),c=-1,d=-1,u=-1,f=-1,h=e.commonAncestor(),p=a.createDocumentFragment();if(3==h.nodeType)return h=i(h,e.startOffset,e.endOffset),t&&p.appendChild(h),r(),t?p:e;o(h,p),n&&e.up().collapse(!0);for(var h=0,m=s.length;h<m;h++){var g=s[h];g.parentNode&&g.parentNode.removeChild(g)}return t?p:e}function ja(e,t){for(var n=t;n;){var i=f(n);if("marquee"==i.name||"select"==i.name)return;n=n.parentNode}try{e.moveToElementText(t)}catch(e){}}function rb(e,t){var n=e.parentElement().ownerDocument,i=e.duplicate();i.collapse(t);var r=i.parentElement(),o=r.childNodes;if(0===o.length)return{node:r.parentNode,offset:f(r).index()};var a=n,s=0,l=-1,c=e.duplicate();ja(c,r);for(var d=0,u=o.length;d<u;d++){var h=o[d],l=c.compareEndPoints("StartToStart",i);if(0===l)return{node:h.parentNode,offset:d};if(1==h.nodeType){var p,m=e.duplicate(),g=f(h),b=h;g.isControl()&&(p=n.createElement("span"),g.after(p),b=p,s+=g.text().replace(/\r\n|\n|\r/g,"").length),ja(m,b),c.setEndPoint("StartToEnd",m),l>0?s+=m.text.replace(/\r\n|\n|\r/g,"").length:s=0,p&&f(p).remove()}else 3==h.nodeType&&(c.moveStart("character",h.nodeValue.length),s+=h.nodeValue.length);l<0&&(a=h)}if(l<0&&1==a.nodeType)return{node:r,offset:f(r.lastChild).index()+1};if(l>0)for(;a.nextSibling&&1==a.nodeType;)a=a.nextSibling;if(c=e.duplicate(),ja(c,r),c.setEndPoint("StartToEnd",i),s-=c.text.replace(/\r\n|\n|\r/g,"").length,l>0&&3==a.nodeType)for(n=a.previousSibling;n&&3==n.nodeType;)s-=n.nodeValue.length,n=n.previousSibling;return{node:a,offset:s}}function sb(e,t){var n=e.ownerDocument||e,i=n.body.createTextRange();if(n==e)return i.collapse(!0),i;if(1==e.nodeType&&e.childNodes.length>0){var r,o=e.childNodes;if(0===t?(r=o[0],o=!0):(r=o[t-1],o=!1),!r)return i;if("head"===f(r).name)return 1===t&&(o=!0),2===t&&(o=!1),i.collapse(o),i;if(1==r.nodeType){var a,s=f(r);return s.isControl()&&(a=n.createElement("span"),o?s.before(a):s.after(a),r=a),ja(i,r),i.collapse(o),a&&f(a).remove(),i}e=r,t=o?0:r.nodeValue.length}return n=n.createElement("span"),f(e).before(n),ja(i,n),i.moveStart("character",t),f(n).remove(),i}function tb(e){function t(e){"tr"==f(e.node).name&&(e.node=e.node.cells[e.offset],e.offset=0)}var n;if(o){if(e.item)return n=S(e.item(0)),n=new K(n),n.selectNode(e.item(0)),n;n=e.parentElement().ownerDocument;var i=rb(e,!0),e=rb(e,!1);return t(i),t(e),n=new K(n),n.setStart(i.node,i.offset),n.setEnd(e.node,e.offset),n}return i=e.startContainer,n=i.ownerDocument||i,n=new K(n),n.setStart(i,e.startOffset),n.setEnd(e.endContainer,e.endOffset),n}function K(e){this.init(e)}function Oa(e){return e.nodeName?new K(e):e.constructor===K?e:tb(e)}function O(e,t,n){try{e.execCommand(t,!1,n)}catch(e){}}function ub(e,t){var n="";try{n=e.queryCommandValue(t)}catch(e){}return"string"!=typeof n&&(n=""),n}function Pa(e){var t=T(e);return e.selection||t.getSelection()}function vb(e){var t,n,i={};return k(e,function(e,r){t=e.split(",");for(var o=0,a=t.length;o<a;o++)n=t[o],i[n]=r}),i}function Qa(e,t){return wb(e,t,"*")||wb(e,t)}function wb(e,t,n){if(n=n||e.name,1!==e.type)return!1;if(t=vb(t),!t[n])return!1;for(var n=t[n].split(","),t=0,i=n.length;t<i;t++){var r=n[t];if("*"===r)return!0;var o=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(r),a=o[1]?"css":"attr",r=o[2],o=o[3]||"";if(""===o&&""!==e[a](r))return!0;if(""!==o&&e[a](r)===o)return!0}return!1}function Ra(e,t){1==e.type&&(xb(e,t,"*"),xb(e,t))}function xb(e,t,n){if(n=n||e.name,1===e.type&&(t=vb(t),t[n])){for(var n=t[n].split(","),t=!1,i=0,r=n.length;i<r;i++){var o=n[i];if("*"===o){t=!0;break}var a=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(o),o=a[2];a[1]?(o=da(o),e[0].style[o]&&(e[0].style[o]="")):e.removeAttr(o)}t&&e.remove(!0)}}function Sa(e){for(;e.first();)e=e.first();return e}function aa(e){return 1==e.type&&""===e.html().replace(/<[^>]+>/g,"")}function Xb(e,t,n){k(t,function(t,n){"style"!==t&&e.attr(t,n)}),k(n,function(t,n){e.css(t,n)})}function ka(e){this.init(e)}function yb(e){return e.nodeName&&(e=S(e),e=Oa(e).selectNodeContents(e.body).collapse(!1)),new ka(e)}function Ta(e){var t=e.moveEl,n=e.moveFn,i=e.clickEl||t,r=e.beforeDrag,o=[document];(e.iframeFix===m||e.iframeFix)&&f("iframe").each(function(){var e;try{e=Ua(this),f(e)}catch(t){e=null}if(e){var t=f(this).pos();f(e).data("pos-x",t.x),f(e).data("pos-y",t.y),o.push(e)}}),i.mousedown(function(e){function a(e){e.preventDefault();var t=f(S(e.target)),r=P((t.data("pos-x")||0)+e.pageX-g),e=P((t.data("pos-y")||0)+e.pageY-b);n.call(i,u,h,p,m,r,e)}function l(e){e.preventDefault()}function c(e){e.preventDefault(),f(o).unbind("mousemove",a).unbind("mouseup",c).unbind("selectstart",l),d.releaseCapture&&d.releaseCapture()}e.stopPropagation();var d=i.get(),u=s(t.css("left")),h=s(t.css("top")),p=t.width(),m=t.height(),g=e.pageX,b=e.pageY;r&&r(),f(o).mousemove(a).mouseup(c).bind("selectstart",l),d.setCapture&&d.setCapture()})}function Q(e){this.init(e)}function Va(e){return new Q(e)}function Ua(e){return e=f(e)[0],e.contentDocument||e.contentWindow.document}function Yb(e,t,n,i){var r=[""===Wa?"<html>":'<html dir="'+Wa+'">','<head><meta charset="utf-8" /><title></title>',"<style>","html {margin:0;padding:0;}","body {margin:0;padding:5px;}",'body, td {font:12px/1.5 "sans serif",tahoma,verdana,helvetica;}',"body, p, div {word-wrap: break-word;}","p {margin:5px 0;}","table {border-collapse:collapse;}","img {border:0;}","noscript {display:none;}","table.ke-zeroborder td {border:1px dotted #AAA;}","img.ke-flash {","\tborder:1px solid #AAA;","\tbackground-image:url("+e+"common/flash.gif);","\tbackground-position:center center;","\tbackground-repeat:no-repeat;","\twidth:100px;","\theight:100px;","}","img.ke-rm {","\tborder:1px solid #AAA;","\tbackground-image:url("+e+"common/rm.gif);","\tbackground-position:center center;","\tbackground-repeat:no-repeat;","\twidth:100px;","\theight:100px;","}","img.ke-media {","\tborder:1px solid #AAA;","\tbackground-image:url("+e+"common/media.gif);","\tbackground-position:center center;","\tbackground-repeat:no-repeat;","\twidth:100px;","\theight:100px;","}","img.ke-anchor {","\tborder:1px dashed #666;","\twidth:16px;","\theight:16px;","}",".ke-script, .ke-noscript {","\tdisplay:none;","\tfont-size:0;","\twidth:0;","\theight:0;","}",".ke-pagebreak {","\tborder:1px dotted #AAA;","\tfont-size:0;","\theight:2px;","}","</style>"];return W(n)||(n=[n]),k(n,function(e,t){t&&r.push('<link href="'+t+'" rel="stylesheet" />')}),i&&r.push("<style>"+i+"</style>"),r.push("</head><body "+(t?'class="'+t+'"':"")+"></body></html>"),r.join("\n")}function la(e,t){return e.hasVal()?e.val(t):e.html(t)}function ma(e){this.init(e)}function zb(e){return new ma(e)}function Ab(e,t){var n=this.get(e);n&&!n.hasClass("ke-disabled")&&t(n)}function Aa(e){this.init(e)}function Bb(e){return new Aa(e)}function na(e){this.init(e)}function Xa(e){return new na(e)}function oa(e){this.init(e)}function Cb(e){return new oa(e)}function Ya(e){this.init(e)}function pa(e){this.init(e)}function Db(e){return new pa(e)}function Za(e,t){var n=document.getElementsByTagName("head")[0]||(N?document.body:document.documentElement),i=document.createElement("script");n.appendChild(i),i.src=e,i.charset="utf-8",i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState||(t&&t(),i.onload=i.onreadystatechange=null,n.removeChild(i))}}function Eb(e){var t=e.indexOf("?");return t>0?e.substr(0,t):e}function $a(e){for(var t=document.getElementsByTagName("head")[0]||(N?document.body:document.documentElement),n=document.createElement("link"),i=Eb(ua(e,"absolute")),r=f('link[rel="stylesheet"]',t),o=0,a=r.length;o<a;o++)if(Eb(ua(r[o].href,"absolute"))===i)return;t.appendChild(n),n.href=e,n.rel="stylesheet"}function Fb(e,t){return e===m?U:t?void(U[e]=t):U[e]}function Gb(e){var t,n="core";return(t=/^(\w+)\.(\w+)$/.exec(e))&&(n=t[1],e=t[2]),{ns:n,key:e}}function Hb(e,t){if(t=t===m?f.options.langType:t,"string"==typeof e){if(!L[t])return"no language";var n=e.length-1;return"."===e.substr(n)?L[t][e.substr(0,n)]:(n=Gb(e),L[t][n.ns][n.key])}k(e,function(e,n){var i=Gb(e);L[t]||(L[t]={}),L[t][i.ns]||(L[t][i.ns]={}),L[t][i.ns][i.key]=n})}function Ba(e,t){if(!e.collapsed){var e=e.cloneRange().up(),n=e.startContainer,i=e.startOffset;if((ba||e.isControl())&&(n=f(n.childNodes[i]))&&"img"==n.name&&t(n))return n}}function Zb(){var e=this;f(e.edit.doc).contextmenu(function(t){if(e.menu&&e.hideMenu(),e.useContextmenu){if(0!==e._contextmenus.length){var n=0,i=[];for(k(e._contextmenus,function(){"-"==this.title?i.push(this):this.cond&&this.cond()&&(i.push(this),this.width&&this.width>n)&&(n=this.width)});i.length>0&&"-"==i[0].title;)i.shift();for(;i.length>0&&"-"==i[i.length-1].title;)i.pop();var r=null;if(k(i,function(e){"-"==this.title&&"-"==r.title&&delete i[e],r=this}),i.length>0){t.preventDefault();var o=f(e.edit.iframe).pos(),a=Xa({x:o.x+t.clientX,y:o.y+t.clientY,width:n,css:{visibility:"hidden"},shadowMode:e.shadowMode});k(i,function(){this.title&&a.addItem(this)});var o=I(a.doc),l=a.div.height();t.clientY+l>=o.clientHeight-100&&a.pos(a.x,s(a.y)-l),a.div.css("visibility","visible"),e.menu=a}}}else t.preventDefault()})}function $b(){function e(e){for(e=f(e.commonAncestor());e&&(1!=e.type||e.isStyle());)e=e.parent();return e.name}var t=this,n=t.edit.doc,i=t.newlineTag;if(!(o&&"br"!==i||ca&&B<3&&"p"!==i||Ma&&B<9)){var r=u("h1,h2,h3,h4,h5,h6,pre,li"),a=u("p,h1,h2,h3,h4,h5,h6,pre,li,blockquote");f(n).keydown(function(s){if(!(13!=s.which||s.shiftKey||s.ctrlKey||s.altKey)){t.cmd.selection();var l=e(t.cmd.range);"marquee"==l||"select"==l||("br"!==i||r[l]?a[l]||O(n,"formatblock","<p>"):(s.preventDefault(),t.insertHtml("<br />"+(o&&B<9?"":"​"))))}}),f(n).keyup(function(r){if(!(13!=r.which||r.shiftKey||r.ctrlKey||r.altKey||"br"==i||ca)&&(t.cmd.selection(),r=e(t.cmd.range),!("marquee"==r||"select"==r)&&(a[r]||O(n,"formatblock","<p>"),r=t.cmd.commonAncestor("div")))){for(var o=f("<p></p>"),s=r[0].firstChild;s;){var l=s.nextSibling;o.append(s),s=l}r.before(o),r.remove(),t.cmd.range.selectNodeContents(o[0]),t.cmd.select()}})}}function ac(){var e=this,t=e.edit.doc;f(t).keydown(function(n){if(9==n.which)if(n.preventDefault(),e.afterTab)e.afterTab.call(e,n);else{var n=e.cmd,i=n.range;i.shrink(),i.collapsed&&1==i.startContainer.nodeType&&(i.insertNode(f("@&nbsp;",t)[0]),n.select()),e.insertHtml("&nbsp;&nbsp;&nbsp;&nbsp;")}})}function bc(){var e=this;f(e.edit.textarea[0],e.edit.win).focus(function(t){e.afterFocus&&e.afterFocus.call(e,t)}).blur(function(t){e.afterBlur&&e.afterBlur.call(e,t)})}function V(e){return A(e.replace(/<span [^>]*id="?__kindeditor_bookmark_\w+_\d+__"?[^>]*><\/span>/gi,""))}function ab(e){return e.replace(/<div[^>]+class="?__kindeditor_paste__"?[^>]*>[\s\S]*?<\/div>/gi,"")}function Ib(e,t){if(0===e.length)e.push(t);else{var n=e[e.length-1];V(t.html)!==V(n.html)&&e.push(t)}}function Jb(e,t){var n,i,r=this.edit,o=r.doc.body;if(0===e.length)return this;r.designMode?(n=this.cmd.range,i=n.createBookmark(!0),i.html=o.innerHTML):i={html:o.innerHTML},Ib(t,i);var a=e.pop();return V(i.html)===V(a.html)&&e.length>0&&(a=e.pop()),r.designMode?(r.html(a.html),a.start&&(n.moveToBookmark(a),this.select())):f(o).html(V(a.html)),this}function qa(e){function t(e,t){qa.prototype[e]===m&&(i[e]=t),i.options[e]=t}var i=this;i.options={},k(e,function(n){t(n,e[n])}),k(f.options,function(e,n){i[e]===m&&t(e,n)});var o=f(i.srcElement||"<textarea/>");i.width||(i.width=o[0].style.width||o.width()),i.height||(i.height=o[0].style.height||o.height()),t("width",n(i.width,i.minWidth)),t("height",n(i.height,i.minHeight)),t("width",r(i.width)),t("height",r(i.height)),cc&&(!dc||B<534)&&(i.designMode=!1),i.srcElement=o,i.initContent="",i.plugin={},i.isCreated=!1,i.isLoading=!1,i._handlers={},i._contextmenus=[],i._undoStack=[],i._redoStack=[],i._calledPlugins={},i._firstAddBookmark=!0,i.menu=i.contextmenu=null,i.dialogs=[]}function Kb(e,t){function i(e){return k(U,function(t,n){n.call(e,KindEditor)}),e.create()}if(t=t||{},t.basePath=n(t.basePath,f.basePath),t.themesPath=n(t.themesPath,t.basePath+"themes/"),t.langPath=n(t.langPath,t.basePath+"lang/"),t.pluginsPath=n(t.pluginsPath,t.basePath+"plugins/"),n(t.loadStyleMode,f.options.loadStyleMode)){var r=n(t.themeType,f.options.themeType);$a(t.themesPath+"default/default.css"),$a(t.themesPath+r+"/"+r+".css")}if((r=f(e))&&0!==r.length){if(r.length>1)return r.each(function(){Kb(this,t)}),_instances[0];t.srcElement=r[0];var o=new qa(t);return _instances.push(o),L[o.langType]?i(o):(Za(o.langPath+o.langType+".js?ver="+encodeURIComponent(f.DEBUG?Ca:Da),function(){i(o)}),o)}}function Lb(e,t){f(e).each(function(e,n){f.each(_instances,function(e,i){if(i&&i.srcElement[0]==n)return t.call(i,e,i),!1})})}if(!z.KindEditor){z.console||(z.console={}),console.log||(console.log=function(){});var Da="4.1.2 (2012-07-21)",q=navigator.userAgent.toLowerCase(),o=q.indexOf("msie")>-1&&q.indexOf("opera")==-1,ca=q.indexOf("gecko")>-1&&q.indexOf("khtml")==-1,ba=q.indexOf("applewebkit")>-1,Ma=q.indexOf("opera")>-1,cc=q.indexOf("mobile")>-1,dc=/ipad|iphone|ipod/.test(q),N="CSS1Compat"!=document.compatMode,B=(q=/(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(q))?q[1]:"0",Ca=(new Date).getTime(),P=Math.round,f={DEBUG:!1,VERSION:Da,IE:o,GECKO:ca,WEBKIT:ba,OPERA:Ma,V:B,TIME:Ca,each:k,isArray:W,isFunction:cb,inArray:M,inString:ra,trim:A,addUnit:r,removeUnit:s,escape:D,unescape:Fa,toCamel:da,toHex:sa,toMap:u,toArray:Ga,undef:n,invalidUrl:function(e){return!e||/[<>"]/.test(e)},addParam:function(e,t){return e.indexOf("?")>=0?e+"&"+t:e+"?"+t},extend:F,json:db},kb=u("a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),lb=u("address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul"),jb=u("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),Mb=u("b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u"),ec=u("img,table,input,textarea,button"),Ia=u("pre,style,script"),Ea=u("html,head,body,td,tr,table,ol,ul,li");u("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var Tb=u("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),Nb=u("input,button,textarea,select");f.basePath=function(){for(var e,t=document.getElementsByTagName("script"),n=0,i=t.length;n<i;n++)if(e=t[n].src||"",/kindeditor[\w\-\.]*\.js/.test(e))return e.substring(0,e.lastIndexOf("/")+1);return""}(),f.options={designMode:!0,fullscreenMode:!1,filterMode:!0,wellFormatMode:!0,shadowMode:!0,loadStyleMode:!0,basePath:f.basePath,themesPath:f.basePath+"themes/",langPath:f.basePath+"lang/",pluginsPath:f.basePath+"plugins/",themeType:"default",langType:"zh_CN",urlType:"",newlineTag:"p",resizeType:2,syncType:"form",pasteType:2,dialogAlignType:"page",useContextmenu:!0,fullscreenShortcut:!1,bodyClass:"ke-content",indentChar:"\t",cssPath:"",cssData:"",minWidth:650,minHeight:100,minChangeSize:5,items:["source","|","undo","redo","|","preview","print","template","code","cut","copy","paste","plainpaste","wordpaste","|","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","clearhtml","quickformat","selectall","|","fullscreen","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","lineheight","removeformat","|","image","multiimage","flash","media","insertfile","table","hr","emoticons","baidumap","pagebreak","anchor","link","unlink","|","about"],noDisableItems:["source","fullscreen"],colorTable:[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]],fontSizeTable:["9px","10px","12px","14px","16px","18px","24px","32px"],htmlTags:{font:["color","size","face",".background-color"],span:[".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".line-height"],div:["align",".border",".margin",".padding",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".background",".font-style",".text-decoration",".vertical-align",".margin-left"],table:["border","cellspacing","cellpadding","width","height","align","bordercolor",".padding",".margin",".border","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".background",".width",".height",".border-collapse"],"td,th":["align","valign","width","height","colspan","rowspan","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".vertical-align",".background",".border"],a:["href","target","name"],embed:["src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess"],img:["src","width","height","border","alt","title","align",".width",".height",".border"],"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":["align",".text-align",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".text-indent",".margin-left"],pre:["class"],hr:["class",".page-break-after"],"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":[]},layout:'<div class="container"><div class="toolbar"></div><div class="edit"></div><div class="statusbar"></div></div>'};var eb=!1,Ob=u("8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222"),q=u("33..40"),bb={};k(Ob,function(e,t){bb[e]=t}),k(q,function(e,t){bb[e]=t});var fc="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(",");F(fb,{init:function(e,t){var n=this,i=e.ownerDocument||e.document||e;if(n.event=t,k(fc,function(e,i){n[i]=t[i]}),n.target||(n.target=n.srcElement||i),3===n.target.nodeType&&(n.target=n.target.parentNode),!n.relatedTarget&&n.fromElement&&(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),null==n.pageX&&null!=n.clientX){var r=i.documentElement,i=i.body;n.pageX=n.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),n.pageY=n.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0);
}switch(!n.which&&(n.charCode||0===n.charCode?n.charCode:n.keyCode)&&(n.which=n.charCode||n.keyCode),!n.metaKey&&n.ctrlKey&&(n.metaKey=n.ctrlKey),n.which||n.button===m||(n.which=1&n.button?1:2&n.button?3:4&n.button?2:0),n.which){case 186:n.which=59;break;case 187:case 107:case 43:n.which=61;break;case 189:case 45:n.which=109;break;case 42:n.which=106;break;case 47:n.which=111;break;case 78:n.which=110}n.which>=96&&n.which<=105&&(n.which-=48)},preventDefault:function(){var e=this.event;e.preventDefault&&e.preventDefault(),e.returnValue=!1},stopPropagation:function(){var e=this.event;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stop:function(){this.preventDefault(),this.stopPropagation()}});var X="kindeditor_"+Ca,hb=0,v={};o&&z.attachEvent("onunload",function(){k(v,function(e,t){t.el&&ea(t.el)})}),f.ctrl=Ha,f.ready=function(e){function t(){r||(r=!0,e(KindEditor))}function n(){if(!r){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(n,100)}t()}}function i(){"complete"===document.readyState&&t()}var r=!1;if(document.addEventListener)Y(document,"DOMContentLoaded",t);else if(document.attachEvent){Y(document,"readystatechange",i);var o=!1;try{o=null==z.frameElement}catch(e){}document.documentElement.doScroll&&o&&n()}Y(z,"load",t)},f.formatUrl=ua,f.formatHtml=R,f.getCssList=fa,f.getAttrList=J,f.mediaType=nb,f.mediaAttrs=ob,f.mediaEmbed=Ja,f.mediaImg=pb,f.clearMsWord=mb,f.tmpl=function(e,t){var n=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return t?n(t):n},q=document.createElement("div"),q.setAttribute("className","t");var Ub="t"!==q.className;f.query=function(e,t){var n=za(e,t);return n.length>0?n[0]:null},f.queryAll=za,F(C,{init:function(e){for(var e=W(e)?e:[e],t=0,n=0,i=e.length;n<i;n++)e[n]&&(this[n]=e[n].constructor===C?e[n][0]:e[n],t++);this.length=t,this.doc=S(this[0]),this.name=La(this[0]),this.type=this.length>0?this[0].nodeType:null,this.win=T(this[0])},each:function(e){for(var t=0;t<this.length&&e.call(this[t],t,this[t])!==!1;t++);return this},bind:function(e,t){return this.each(function(){Y(this,e,t)}),this},unbind:function(e,t){return this.each(function(){ea(this,e,t)}),this},fire:function(e){return this.length<1?this:(ib(this[0],e),this)},hasAttr:function(e){return!(this.length<1)&&!!ya(this[0],e)},attr:function(e,t){var n=this;return e===m?J(n.outer()):"object"==typeof e?(k(e,function(e,t){n.attr(e,t)}),n):t===m?(t=n.length<1?null:ya(n[0],e),null===t?"":t):(n.each(function(){Ka(this,e,t)}),n)},removeAttr:function(e){return this.each(function(){var t=e;o&&B<8&&"class"==t.toLowerCase()&&(t="className"),Ka(this,t,""),this.removeAttribute(t)}),this},get:function(e){return this.length<1?null:this[e||0]},eq:function(e){return this.length<1?null:this[e]?new C(this[e]):null},hasClass:function(e){return!(this.length<1)&&ra(e,this[0].className," ")},addClass:function(e){return this.each(function(){ra(e,this.className," ")||(this.className=A(this.className+" "+e))}),this},removeClass:function(e){return this.each(function(){ra(e,this.className," ")&&(this.className=A(this.className.replace(RegExp("(^|\\s)"+e+"(\\s|$)")," ")))}),this},html:function(e){return e===m?this.length<1||1!=this.type?"":R(this[0].innerHTML):(this.each(function(){Vb(this,e)}),this)},text:function(){return this.length<1?"":o?this[0].innerText:this[0].textContent},hasVal:function(){return!(this.length<1)&&!!Nb[La(this[0])]},val:function(e){return e===m?this.length<1?"":this.hasVal()?this[0].value:this.attr("value"):(this.each(function(){Nb[La(this)]?this.value=e:Ka(this,"value",e)}),this)},css:function(e,t){var n=this;return e===m?fa(n.attr("style")):"object"==typeof e?(k(e,function(e,t){n.css(e,t)}),n):t===m?n.length<1?"":n[0].style[da(e)]||Wb(n[0],e)||"":(n.each(function(){this.style[da(e)]=t}),n)},width:function(e){return e===m?this.length<1?0:this[0].offsetWidth:this.css("width",r(e))},height:function(e){return e===m?this.length<1?0:this[0].offsetHeight:this.css("height",r(e))},opacity:function(e){return this.each(function(){this.style.opacity===m?this.style.filter=1==e?"":"alpha(opacity="+100*e+")":this.style.opacity=1==e?"":e}),this},data:function(e,t){return e="kindeditor_data_"+e,t===m?this.length<1?null:this[0][e]:(this.each(function(){this[e]=t}),this)},pos:function(){var e=this[0],t=0,n=0;if(e)if(e.getBoundingClientRect)e=e.getBoundingClientRect(),n=Z(this.doc),t=e.left+n.x,n=e.top+n.y;else for(;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{x:P(t),y:P(n)}},clone:function(e){return new C(this.length<1?[]:this[0].cloneNode(e))},append:function(e){return this.each(function(){this.appendChild&&this.appendChild(f(e)[0])}),this},appendTo:function(e){return this.each(function(){f(e)[0].appendChild(this)}),this},before:function(e){return this.each(function(){this.parentNode.insertBefore(f(e)[0],this)}),this},after:function(e){return this.each(function(){this.nextSibling?this.parentNode.insertBefore(f(e)[0],this.nextSibling):this.parentNode.appendChild(f(e)[0])}),this},replaceWith:function(e){var t=[];return this.each(function(n,i){ea(i);var r=f(e)[0];i.parentNode.replaceChild(r,i),t.push(r)}),f(t)},empty:function(){return this.each(function(e,t){for(var n=t.firstChild;n&&t.parentNode;){var i=n.nextSibling;n.parentNode.removeChild(n),n=i}}),this},remove:function(e){var t=this;return t.each(function(n,i){if(i.parentNode){if(ea(i),e)for(var r=i.firstChild;r;){var o=r.nextSibling;i.parentNode.insertBefore(r,i),r=o}i.parentNode.removeChild(i),delete t[n]}}),t.length=0,t},show:function(e){return e===m&&(e=this._originDisplay||""),"none"!=this.css("display")?this:this.css("display",e)},hide:function(){return this.length<1?this:(this._originDisplay=this[0].style.display,this.css("display","none"))},outer:function(){if(this.length<1)return"";var e=this.doc.createElement("div");return e.appendChild(this[0].cloneNode(!0)),R(e.innerHTML)},isSingle:function(){return!!jb[this.name]},isInline:function(){return!!kb[this.name]},isBlock:function(){return!!lb[this.name]},isStyle:function(){return!!Mb[this.name]},isControl:function(){return!!ec[this.name]},contains:function(e){return!(this.length<1)&&xa(this[0],f(e)[0])},parent:function(){if(this.length<1)return null;var e=this[0].parentNode;return e?new C(e):null},children:function(){if(this.length<1)return new C([]);for(var e=[],t=this[0].firstChild;t;)(3!=t.nodeType||""!==A(t.nodeValue))&&e.push(t),t=t.nextSibling;return new C(e)},first:function(){var e=this.children();return e.length>0?e.eq(0):null},last:function(){var e=this.children();return e.length>0?e.eq(e.length-1):null},index:function(){if(this.length<1)return-1;for(var e=-1,t=this[0];t;)e++,t=t.previousSibling;return e},prev:function(){if(this.length<1)return null;var e=this[0].previousSibling;return e?new C(e):null},next:function(){if(this.length<1)return null;var e=this[0].nextSibling;return e?new C(e):null},scan:function(e,t){function n(i){for(i=t?i.firstChild:i.lastChild;i;){var r=t?i.nextSibling:i.previousSibling;if(e(i)===!1)return!1;if(n(i)===!1)return!1;i=r}}if(!(this.length<1))return t=t===m||t,n(this[0]),this}}),k("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),function(e,t){C.prototype[t]=function(e){return e?this.bind(t,e):this.fire(t)}}),q=f,f=function(e,t){function n(e){return e[0]||(e=[]),new C(e)}if(e!==m&&null!==e){if("string"==typeof e){t&&(t=f(t)[0]);var i=e.length;if("@"===e.charAt(0)&&(e=e.substr(1)),e.length!==i||/<.+>/.test(e)){var i=(t?t.ownerDocument||t:document).createElement("div"),r=[];i.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+e;for(var o=0,a=i.childNodes.length;o<a;o++){var s=i.childNodes[o];"__kindeditor_temp_tag__"!=s.id&&r.push(s)}return n(r)}return n(za(e,t))}return e&&e.constructor===C?e:(e.toArray&&(e=e.toArray()),n(W(e)?e:Ga(arguments)))}},k(q,function(e,t){f[e]=t}),f.NodeClass=C,z.KindEditor=f;var ha=0,ga=1,$=2,ia=3,Pb=0;F(K,{init:function(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.collapsed=!0,this.doc=e},commonAncestor:function(){function e(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t}for(var t,n,i=e(this.startContainer),r=e(this.endContainer),o=0,a=i.length,s=r.length;++o&&(t=i[a-o],n=r[s-o],t&&n&&t===n););return i[a-o+1]},setStart:function(e,t){var n=this.doc;return this.startContainer=e,this.startOffset=t,this.endContainer===n&&(this.endContainer=e,this.endOffset=t),qb(this)},setEnd:function(e,t){var n=this.doc;return this.endContainer=e,this.endOffset=t,this.startContainer===n&&(this.startContainer=e,this.startOffset=t),qb(this)},setStartBefore:function(e){return this.setStart(e.parentNode||this.doc,f(e).index())},setStartAfter:function(e){return this.setStart(e.parentNode||this.doc,f(e).index()+1)},setEndBefore:function(e){return this.setEnd(e.parentNode||this.doc,f(e).index())},setEndAfter:function(e){return this.setEnd(e.parentNode||this.doc,f(e).index()+1)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){var t=f(e);return 3==t.type||t.isSingle()?this.selectNode(e):(t=t.children(),t.length>0?this.setStartBefore(t[0]).setEndAfter(t[t.length-1]):this.setStart(e,0).setEnd(e,0))},collapse:function(e){return e?this.setEnd(this.startContainer,this.startOffset):this.setStart(this.endContainer,this.endOffset)},compareBoundaryPoints:function(e,t){var n=this.get(),i=t.get();if(!o)return n.compareBoundaryPoints(e,i);var r={};if(r[ha]="StartToStart",r[ga]="EndToStart",r[$]="EndToEnd",r[ia]="StartToEnd",n=n.compareEndPoints(r[e],i),0!==n)return n;var a,s,l,c;if(e!==ha&&e!==ia||(a=this.startContainer,l=this.startOffset),e!==ga&&e!==$||(a=this.endContainer,l=this.endOffset),e!==ha&&e!==ga||(s=t.startContainer,c=t.startOffset),e!==$&&e!==ia||(s=t.endContainer,c=t.endOffset),a===s)return a=l-c,a>0?1:a<0?-1:0;for(n=s;n&&n.parentNode!==a;)n=n.parentNode;if(n)return f(n).index()>=l?-1:1;for(n=a;n&&n.parentNode!==s;)n=n.parentNode;return n?f(n).index()>=c?1:-1:(n=f(s).next())&&n.contains(a)?1:(n=f(a).next())&&n.contains(s)?-1:void 0},cloneRange:function(){return new K(this.doc).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},toString:function(){var e=this.get();return(o?e.text:e.toString()).replace(/\r\n|\n|\r/g,"")},cloneContents:function(){return Na(this,!0,!1)},deleteContents:function(){return Na(this,!1,!0)},extractContents:function(){return Na(this,!0,!0)},insertNode:function(e){var t,n,i,r=this.startContainer,o=this.startOffset,a=this.endContainer,s=this.endOffset,l=1;return"#document-fragment"===e.nodeName.toLowerCase()&&(t=e.firstChild,n=e.lastChild,l=e.childNodes.length),1==r.nodeType?(i=r.childNodes[o])?(r.insertBefore(e,i),r===a&&(s+=l)):r.appendChild(e):3==r.nodeType&&(0===o?(r.parentNode.insertBefore(e,r),r.parentNode===a&&(s+=l)):o>=r.nodeValue.length?r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):r.parentNode.appendChild(e):(i=o>0?r.splitText(o):r,r.parentNode.insertBefore(e,i),r===a&&(a=i,s-=o))),t?this.setStartBefore(t).setEndAfter(n):this.selectNode(e),this.compareBoundaryPoints($,this.cloneRange().setEnd(a,s))>=1?this:this.setEnd(a,s)},surroundContents:function(e){return e.appendChild(this.extractContents()),this.insertNode(e).selectNode(e)},isControl:function(){var e=this.startContainer,t=this.startOffset,n=this.endContainer,i=this.endOffset;return 1==e.nodeType&&e===n&&t+1===i&&f(e.childNodes[t]).isControl()},get:function(e){var t=this.doc;if(!o){t=t.createRange();try{t.setStart(this.startContainer,this.startOffset),t.setEnd(this.endContainer,this.endOffset)}catch(e){}return t}return e&&this.isControl()?(t=t.body.createControlRange(),t.addElement(this.startContainer.childNodes[this.startOffset]),t):(e=this.cloneRange().down(),t=t.body.createTextRange(),t.setEndPoint("StartToStart",sb(e.startContainer,e.startOffset)),t.setEndPoint("EndToStart",sb(e.endContainer,e.endOffset)),t)},html:function(){return f(this.cloneContents()).outer()},down:function(){function e(e,n,i){if(1==e.nodeType&&(e=f(e).children(),0!==e.length)){var r,o,a,s;n>0&&(r=e.eq(n-1)),n<e.length&&(o=e.eq(n)),r&&3==r.type&&(a=r[0],s=a.nodeValue.length),o&&3==o.type&&(a=o[0],s=0),a&&(i?t.setStart(a,s):t.setEnd(a,s))}}var t=this;return e(t.startContainer,t.startOffset,!0),e(t.endContainer,t.endOffset,!1),t},up:function(){function e(e,n,i){3==e.nodeType&&(0===n?i?t.setStartBefore(e):t.setEndBefore(e):n==e.nodeValue.length&&(i?t.setStartAfter(e):t.setEndAfter(e)))}var t=this;return e(t.startContainer,t.startOffset,!0),e(t.endContainer,t.endOffset,!1),t},enlarge:function(e){function t(t,i,r){if(t=f(t),!(3==t.type||Ea[t.name]||!e&&t.isBlock()))if(0===i){for(;!t.prev()&&(i=t.parent(),i&&!Ea[i.name]&&(e||!i.isBlock()));)t=i;r?n.setStartBefore(t[0]):n.setEndBefore(t[0])}else if(i==t.children().length){for(;!t.next()&&(i=t.parent(),i&&!Ea[i.name]&&(e||!i.isBlock()));)t=i;r?n.setStartAfter(t[0]):n.setEndAfter(t[0])}}var n=this;return n.up(),t(n.startContainer,n.startOffset,!0),t(n.endContainer,n.endOffset,!1),n},shrink:function(){for(var e,t=this.collapsed;1==this.startContainer.nodeType&&(e=this.startContainer.childNodes[this.startOffset])&&1==e.nodeType&&!f(e).isSingle();)this.setStart(e,0);if(t)return this.collapse(t);for(;1==this.endContainer.nodeType&&this.endOffset>0&&(e=this.endContainer.childNodes[this.endOffset-1])&&1==e.nodeType&&!f(e).isSingle();)this.setEnd(e,e.childNodes.length);return this},createBookmark:function(e){var t,n=f('<span style="display:none;"></span>',this.doc)[0];return n.id="__kindeditor_bookmark_start_"+Pb++ +"__",this.collapsed||(t=n.cloneNode(!0),t.id="__kindeditor_bookmark_end_"+Pb++ +"__"),t&&this.cloneRange().collapse(!1).insertNode(t).setEndBefore(t),this.insertNode(n).setStartAfter(n),{start:e?"#"+n.id:n,end:t?e?"#"+t.id:t:null}},moveToBookmark:function(e){var t=this.doc,n=f(e.start,t),e=e.end?f(e.end,t):null;return!n||n.length<1?this:(this.setStartBefore(n[0]),n.remove(),e&&e.length>0?(this.setEndBefore(e[0]),e.remove()):this.collapse(!0),this)},dump:function(){console.log("--------------------"),console.log(3==this.startContainer.nodeType?this.startContainer.nodeValue:this.startContainer,this.startOffset),console.log(3==this.endContainer.nodeType?this.endContainer.nodeValue:this.endContainer,this.endOffset)}}),f.RangeClass=K,f.range=Oa,f.START_TO_START=ha,f.START_TO_END=ga,f.END_TO_END=$,f.END_TO_START=ia,F(ka,{init:function(e){var t=e.doc;this.doc=t,this.win=T(t),this.sel=Pa(t),this.range=e},selection:function(e){var t,n=this.doc;t=Pa(n);var i;try{i=t.rangeCount>0?t.getRangeAt(0):t.createRange()}catch(e){}return t=!o||i&&(i.item||i.parentElement().ownerDocument===n)?i:null,this.sel=Pa(n),t?(this.range=Oa(t),"html"==f(this.range.startContainer).name&&this.range.selectNodeContents(n.body).collapse(!1),this):(e&&this.range.selectNodeContents(n.body).collapse(!1),this)},select:function(e){var t,e=n(e,!0),i=this.sel,r=this.range.cloneRange().shrink(),a=r.startContainer,s=r.startOffset,l=S(a),c=this.win,d=!1;if(e&&1==a.nodeType&&r.collapsed){if(o){i=f("<span>&nbsp;</span>",l),r.insertNode(i[0]),t=l.body.createTextRange();try{t.moveToElementText(i[0])}catch(e){}return t.collapse(!1),t.select(),i.remove(),c.focus(),this}ba&&(e=a.childNodes,f(a).isInline()||s>0&&f(e[s-1]).isInline()||e[s]&&f(e[s]).isInline())&&(r.insertNode(l.createTextNode("​")),d=!0)}if(o)try{t=r.get(!0),t.select()}catch(e){}else d&&r.collapse(!1),t=r.get(!0),i.removeAllRanges(),i.addRange(t);return c.focus(),this},wrap:function(e){var t,n=this.range;if(t=f(e,this.doc),n.collapsed)return n.shrink(),n.insertNode(t[0]).selectNodeContents(t[0]),this;if(t.isBlock()){for(var i=e=t.clone(!0);i.first();)i=i.first();return i.append(n.extractContents()),n.insertNode(e[0]).selectNode(e[0]),this}n.enlarge();var r=n.createBookmark(),e=n.commonAncestor(),o=!1;return f(e).scan(function(e){if(o||e!=r.start){if(o){if(e==r.end)return!1;var n,i=f(e);e:{for(n=i;n&&"body"!=n.name;){if(Ia[n.name]||"div"==n.name&&n.hasClass("ke-script")){n=!0;break e}n=n.parent()}n=!1}if(!n&&3==i.type&&A(e.nodeValue).length>0){for(var a;(a=i.parent())&&a.isStyle()&&1==a.children().length;)i=a;if(a=t,a=a.clone(!0),3==i.type)Sa(a).append(i.clone(!1)),i.replaceWith(a);else{for(var s,e=i;(s=i.first())&&1==s.children().length;)i=s;for(s=i.first(),i=i.doc.createDocumentFragment();s;)i.appendChild(s[0]),s=s.next();s=e.clone(!0),n=Sa(s);for(var l=s,c=!1;a;){for(;l;)l.name===a.name&&(Xb(l,a.attr(),a.css()),c=!0),l=l.first();c||n.append(a.clone(!1)),c=!1,a=a.first()}a=s,i.firstChild&&Sa(a).append(i),e.replaceWith(a)}}}}else o=!0}),n.moveToBookmark(r),this},split:function(e,t){for(var n,i=this.range,r=i.doc,o=i.cloneRange().collapse(e),a=o.startContainer,s=o.startOffset,l=3==a.nodeType?a.parentNode:a,c=!1;l&&l.parentNode;){if(n=f(l),t){if(!n.isStyle())break;if(!Qa(n,t))break}else if(Ea[n.name])break;c=!0,l=l.parentNode}return c&&(r=r.createElement("span"),i.cloneRange().collapse(!e).insertNode(r),e?o.setStartBefore(l.firstChild).setEnd(a,s):o.setStart(a,s).setEndAfter(l.lastChild),a=o.extractContents(),s=a.firstChild,c=a.lastChild,e?(o.insertNode(a),i.setStartAfter(c).setEndBefore(r)):(l.appendChild(a),i.setStartBefore(r).setEndBefore(s)),o=r.parentNode,o==i.endContainer&&(l=f(r).prev(),a=f(r).next(),l&&a&&3==l.type&&3==a.type?i.setEnd(l[0],l[0].nodeValue.length):e||i.setEnd(i.endContainer,i.endOffset-1)),o.removeChild(r)),this},remove:function(e){var t=this.doc,n=this.range;if(n.enlarge(),0===n.startOffset){for(var i,r=f(n.startContainer);(i=r.parent())&&i.isStyle()&&1==i.children().length;)r=i;n.setStart(r[0],0),r=f(n.startContainer),r.isBlock()&&Ra(r,e),(r=r.parent())&&r.isBlock()&&Ra(r,e)}if(n.collapsed)return this.split(!0,e),t=n.startContainer,r=n.startOffset,r>0&&(i=f(t.childNodes[r-1]))&&aa(i)&&(i.remove(),n.setStart(t,r-1)),(r=f(t.childNodes[r]))&&aa(r)&&r.remove(),aa(t)&&(n.startBefore(t),t.remove()),n.collapse(!0),this;this.split(!0,e),this.split(!1,e);var o=t.createElement("span"),a=t.createElement("span");n.cloneRange().collapse(!1).insertNode(a),n.cloneRange().collapse(!0).insertNode(o);var s=[],l=!1;f(n.commonAncestor()).scan(function(e){if(l||e!=o){if(e==a)return!1;l&&s.push(e)}else l=!0}),f(o).remove(),f(a).remove(),t=n.startContainer,r=n.startOffset,i=n.endContainer;var c=n.endOffset;if(r>0){var d=f(t.childNodes[r-1]);d&&aa(d)&&(d.remove(),n.setStart(t,r-1),t==i&&n.setEnd(i,c-1)),(r=f(t.childNodes[r]))&&aa(r)&&(r.remove(),t==i&&n.setEnd(i,c-1))}return(t=f(i.childNodes[n.endOffset]))&&aa(t)&&t.remove(),t=n.createBookmark(!0),k(s,function(t,n){Ra(f(n),e)}),n.moveToBookmark(t),this},commonNode:function(e){function t(t){for(var n=t;t;){if(Qa(f(t),e))return f(t);t=t.parentNode}for(;n&&(n=n.lastChild);)if(Qa(f(n),e))return f(n);return null}var n=this.range,i=n.endContainer,n=n.endOffset,r=3==i.nodeType||0===n?i:i.childNodes[n-1],o=t(r);return o?o:(1==r.nodeType||3==i.nodeType&&0===n)&&(i=f(r).prev())?t(i):null},commonAncestor:function(e){function t(t){for(;t;){if(1==t.nodeType&&t.tagName.toLowerCase()===e)return t;t=t.parentNode}return null}var n=this.range,i=n.startContainer,r=n.startOffset,o=n.endContainer,n=n.endOffset,o=3==o.nodeType||0===n?o:o.childNodes[n-1],i=t(3==i.nodeType||0===r?i:i.childNodes[r-1]),r=t(o);return i&&r&&i===r?f(i):null},state:function(e){var t=this.doc,n=!1;try{n=t.queryCommandState(e)}catch(e){}return n},val:function(e){var t=this.doc,e=e.toLowerCase(),n="";return"fontfamily"===e||"fontname"===e?(n=ub(t,"fontname"),n=n.replace(/['"]/g,""),n.toLowerCase()):"formatblock"===e?(n=ub(t,e),""===n&&(e=this.commonNode({"h1,h2,h3,h4,h5,h6,p,div,pre,address":"*"}))&&(n=e.name),"Normal"===n&&(n="p"),n.toLowerCase()):"fontsize"===e?((e=this.commonNode({"*":".font-size"}))&&(n=e.css("font-size")),n.toLowerCase()):"forecolor"===e?((e=this.commonNode({"*":".color"}))&&(n=e.css("color")),n=sa(n),""===n&&(n="default"),n.toLowerCase()):"hilitecolor"===e?((e=this.commonNode({"*":".background-color"}))&&(n=e.css("background-color")),n=sa(n),""===n&&(n="default"),n.toLowerCase()):n},toggle:function(e,t){return this.commonNode(t)?this.remove(t):this.wrap(e),this.select()},bold:function(){return this.toggle("<strong></strong>",{span:".font-weight=bold",strong:"*",b:"*"})},italic:function(){return this.toggle("<em></em>",{span:".font-style=italic",em:"*",i:"*"})},underline:function(){return this.toggle("<u></u>",{span:".text-decoration=underline",u:"*"})},strikethrough:function(){return this.toggle("<s></s>",{span:".text-decoration=line-through",s:"*"})},forecolor:function(e){return this.toggle('<span style="color:'+e+';"></span>',{span:".color="+e,font:"color"})},hilitecolor:function(e){return this.toggle('<span style="background-color:'+e+';"></span>',{span:".background-color="+e})},fontsize:function(e){return this.toggle('<span style="font-size:'+e+';"></span>',{span:".font-size="+e,font:"size"})},fontname:function(e){return this.fontfamily(e)},fontfamily:function(e){return this.toggle('<span style="font-family:'+e+';"></span>',{span:".font-family="+e,font:"face"})},removeformat:function(){var e={"*":".font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent"};return k(Mb,function(t){e[t]="*"}),this.remove(e),this.select()},inserthtml:function(e,t){function n(e,t){var t='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t,n=e.get();n.item?n.item(0).outerHTML=t:n.pasteHTML(t);var i=e.doc.getElementById("__kindeditor_temp_tag__");i.parentNode.removeChild(i),n=tb(n),e.setEnd(n.endContainer,n.endOffset),e.collapse(!1),r.select(!1)}function i(e,t){var n=e.doc,i=n.createDocumentFragment();f("@"+t,n).each(function(){i.appendChild(this)}),e.deleteContents(),e.insertNode(i),e.collapse(!1),r.select(!1)}var r=this,a=r.range;if(""===e)return r;if(o&&t){try{n(a,e)}catch(t){i(a,e)}return r}return i(a,e),r},hr:function(){return this.inserthtml("<hr />")},print:function(){return this.win.print(),this},insertimage:function(e,t,i,r,o,a){return t=n(t,""),n(o,0),e='<img src="'+D(e)+'" data-ke-src="'+D(e)+'" ',i&&(e+='width="'+D(i)+'" '),r&&(e+='height="'+D(r)+'" '),t&&(e+='title="'+D(t)+'" '),a&&(e+='align="'+D(a)+'" '),e+='alt="'+D(t)+'" ',e+="/>",this.inserthtml(e)},createlink:function(e,t){var n=this.doc,i=this.range;this.select();var r=this.commonNode({a:"*"});if(r&&!i.isControl()&&(i.selectNode(r.get()),this.select()),r='<a href="'+D(e)+'" data-ke-src="'+D(e)+'" ',t&&(r+=' target="'+D(t)+'"'),i.collapsed)return r+=">"+D(e)+"</a>",this.inserthtml(r);if(i.isControl()){var o=f(i.startContainer.childNodes[i.startOffset]);return r+="></a>",o.after(f(r,n)),o.next().append(o),i.selectNode(o[0]),this.select()}return O(n,"createlink","__kindeditor_temp_url__"),f('a[href="__kindeditor_temp_url__"]',n).each(function(){f(this).attr("href",e).attr("data-ke-src",e),t?f(this).attr("target",t):f(this).removeAttr("target")}),this},unlink:function(){var e=this.doc,t=this.range;if(this.select(),t.collapsed){var n=this.commonNode({a:"*"});n&&(t.selectNode(n.get()),this.select()),O(e,"unlink",null),ba&&"img"===f(t.startContainer).name&&(e=f(t.startContainer).parent(),"a"===e.name&&e.remove(!0))}else O(e,"unlink",null);return this}}),k("formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript".split(","),function(e,t){ka.prototype[t]=function(e){return this.select(),O(this.doc,t,e),(!o||M(t,"formatblock,selectall,insertorderedlist,insertunorderedlist".split(","))>=0)&&this.selection(),this}}),k("cut,copy,paste".split(","),function(e,t){ka.prototype[t]=function(){if(!this.doc.queryCommandSupported(t))throw"not supported";return this.select(),O(this.doc,t,null),this}}),f.CmdClass=ka,f.cmd=yb,F(Q,{init:function(e){var t=this;if(t.name=e.name||"",t.doc=e.doc||document,t.win=T(t.doc),t.x=r(e.x),t.y=r(e.y),t.z=e.z,t.width=r(e.width),t.height=r(e.height),t.div=f('<div style="display:block;"></div>'),t.options=e,t._alignEl=e.alignEl,t.width&&t.div.css("width",t.width),t.height&&t.div.css("height",t.height),t.z&&t.div.css({position:"absolute",left:t.x,top:t.y,"z-index":t.z}),t.z&&(t.x===m||t.y===m)&&t.autoPos(t.width,t.height),e.cls&&t.div.addClass(e.cls),e.shadowMode&&t.div.addClass("ke-shadow"),e.css&&t.div.css(e.css),e.src?f(e.src).replaceWith(t.div):f(t.doc.body).append(t.div),e.html&&t.div.html(e.html),e.autoScroll)if(o&&B<7||N){var n=Z();f(t.win).bind("scroll",function(){var e=Z(),i=e.x-n.x,e=e.y-n.y;t.pos(s(t.x)+i,s(t.y)+e,!1)})}else t.div.css("position","fixed")},pos:function(e,t,i){return i=n(i,!0),null!==e&&(e=e<0?0:r(e),this.div.css("left",e),i)&&(this.x=e),null!==t&&(t=t<0?0:r(t),this.div.css("top",t),i)&&(this.y=t),this},autoPos:function(e,t){var n=s(e)||0,i=s(t)||0,r=Z();if(this._alignEl){var a=f(this._alignEl),l=a.pos(),n=P(a[0].clientWidth/2-n/2),i=P(a[0].clientHeight/2-i/2);x=n<0?l.x:l.x+n,y=i<0?l.y:l.y+i}else l=I(this.doc),x=P(r.x+(l.clientWidth-n)/2),y=P(r.y+(l.clientHeight-i)/2);return o&&B<7||N||(x-=r.x,y-=r.y),this.pos(x,y)},remove:function(){var e=this;return(o&&B<7||N)&&f(e.win).unbind("scroll"),e.div.remove(),k(e,function(t){e[t]=null}),this},show:function(){return this.div.show(),this},hide:function(){return this.div.hide(),this},draggable:function(e){var t=this,e=e||{};return e.moveEl=t.div,e.moveFn=function(e,n,i,r,o,a){(e+=o)<0&&(e=0),(n+=a)<0&&(n=0),t.pos(e,n)},Ta(e),t}}),f.WidgetClass=Q,f.widget=Va;var Wa="";(q=document.getElementsByTagName("html"))&&(Wa=q[0].dir),F(ma,Q,{init:function(e){function t(){var t=Ua(i.iframe);t.open(),c&&(t.domain=document.domain),t.write(Yb(r,a,s,l)),t.close(),i.win=i.iframe[0].contentWindow,i.doc=t;var n=yb(t);i.afterChange(function(){n.selection()}),ba&&f(t).click(function(e){"img"===f(e.target).name&&(n.selection(!0),n.range.selectNode(e.target),n.select())}),o&&f(t).keydown(function(e){if(8==e.which){n.selection();var t=n.range;t.isControl()&&(t.collapse(!0),f(t.startContainer.childNodes[t.startOffset]).remove(),e.preventDefault())}}),i.cmd=n,i.html(la(i.srcElement)),o?(t.body.disabled=!0,t.body.contentEditable=!0,t.body.removeAttribute("disabled")):t.designMode="on",e.afterCreate&&e.afterCreate.call(i)}var i=this;ma.parent.init.call(i,e),i.srcElement=f(e.srcElement),i.div.addClass("ke-edit"),i.designMode=n(e.designMode,!0),i.beforeGetHtml=e.beforeGetHtml,i.beforeSetHtml=e.beforeSetHtml,i.afterSetHtml=e.afterSetHtml;var r=n(e.themesPath,""),a=e.bodyClass,s=e.cssPath,l=e.cssData,c=location.host.replace(/:\d+/,"")!==document.domain,d="document.open();"+(c?'document.domain="'+document.domain+'";':"")+"document.close();",d=o?' src="javascript:void(function(){'+encodeURIComponent(d)+'}())"':"";i.iframe=f('<iframe class="ke-edit-iframe" hidefocus="true" frameborder="0"'+d+"></iframe>").css("width","100%"),i.textarea=f('<textarea class="ke-edit-textarea" hidefocus="true"></textarea>').css("width","100%"),i.width&&i.setWidth(i.width),i.height&&i.setHeight(i.height),i.designMode?i.textarea.hide():i.iframe.hide(),c&&i.iframe.bind("load",function(){i.iframe.unbind("load"),o?t():setTimeout(t,0)}),i.div.append(i.iframe),i.div.append(i.textarea),i.srcElement.hide(),!c&&t()},setWidth:function(e){return this.div.css("width",r(e)),this},setHeight:function(e){return e=r(e),this.div.css("height",e),this.iframe.css("height",e),(o&&B<8||N)&&(e=r(s(e)-2)),this.textarea.css("height",e),this},remove:function(){var e=this.doc;f(e.body).unbind(),f(e).unbind(),f(this.win).unbind(),la(this.srcElement,this.html()),this.srcElement.show(),e.write(""),this.iframe.unbind(),this.textarea.unbind(),ma.parent.remove.call(this)},html:function(e,t){var n=this.doc;return this.designMode?(n=n.body,e===m?(e=t?"<!doctype html><html>"+n.parentNode.innerHTML+"</html>":n.innerHTML,this.beforeGetHtml&&(e=this.beforeGetHtml(e)),ca&&"<br />"==e&&(e=""),e):(this.beforeSetHtml&&(e=this.beforeSetHtml(e)),f(n).html(e),this.afterSetHtml&&this.afterSetHtml(),this)):e===m?this.textarea.val():(this.textarea.val(e),this)},design:function(e){return(e===m?!this.designMode:e)?this.designMode||(e=this.html(),this.designMode=!0,this.html(e),this.textarea.hide(),this.iframe.show()):this.designMode&&(e=this.html(),this.designMode=!1,this.html(e),this.iframe.hide(),this.textarea.show()),this.focus()},focus:function(){return this.designMode?this.win.focus():this.textarea[0].focus(),this},blur:function(){if(o){var e=f('<input type="text" style="float:left;width:0;height:0;padding:0;margin:0;border:0;" value="" />',this.div);this.div.append(e),e[0].focus(),e.remove()}else this.designMode?this.win.blur():this.textarea[0].blur();return this},afterChange:function(e){function t(t){setTimeout(function(){e(t)},1)}var n=this.doc,i=n.body;return f(n).keyup(function(t){!t.ctrlKey&&!t.altKey&&bb[t.which]&&e(t)}),f(n).mouseup(e).contextmenu(e),f(this.win).blur(e),f(i).bind("paste",t),f(i).bind("cut",t),this}}),f.EditClass=ma,f.edit=zb,f.iframeDoc=Ua,F(Aa,Q,{init:function(e){function t(e){return e=f(e),e.hasClass("ke-outline")?e:e.hasClass("ke-toolbar-icon")?e.parent():void 0}function i(e,n){var i=t(e.target);!i||i.hasClass("ke-disabled")||i.hasClass("ke-selected")||i[n]("ke-on")}var r=this;Aa.parent.init.call(r,e),r.disableMode=n(e.disableMode,!1),r.noDisableItemMap=u(n(e.noDisableItems,[])),r._itemMap={},r.div.addClass("ke-toolbar").bind("contextmenu,mousedown,mousemove",function(e){e.preventDefault()}).attr("unselectable","on"),r.div.mouseover(function(e){i(e,"addClass")}).mouseout(function(e){i(e,"removeClass")}).click(function(e){var n=t(e.target);n&&!n.hasClass("ke-disabled")&&r.options.click.call(this,e,n.attr("data-name"))})},get:function(e){return this._itemMap[e]?this._itemMap[e]:this._itemMap[e]=f("span.ke-icon-"+e,this.div).parent()},select:function(e){return Ab.call(this,e,function(e){e.addClass("ke-selected")}),self},unselect:function(e){return Ab.call(this,e,function(e){e.removeClass("ke-selected").removeClass("ke-on")}),self},enable:function(e){return(e=e.get?e:this.get(e))&&(e.removeClass("ke-disabled"),e.opacity(1)),this},disable:function(e){return(e=e.get?e:this.get(e))&&(e.removeClass("ke-selected").addClass("ke-disabled"),e.opacity(.5)),this},disableAll:function(e,t){var n=this,i=n.noDisableItemMap;return t&&(i=u(t)),(e===m?!n.disableMode:e)?(f("span.ke-outline",n.div).each(function(){var e=f(this),t=e[0].getAttribute("data-name",2);i[t]||n.disable(e)}),n.disableMode=!0):(f("span.ke-outline",n.div).each(function(){var e=f(this),t=e[0].getAttribute("data-name",2);i[t]||n.enable(e)}),n.disableMode=!1),n}}),f.ToolbarClass=Aa,f.toolbar=Bb,F(na,Q,{init:function(e){e.z=e.z||811213,na.parent.init.call(this,e),this.centerLineMode=n(e.centerLineMode,!0),this.div.addClass("ke-menu").bind("click,mousedown",function(e){e.stopPropagation()}).attr("unselectable","on")},addItem:function(e){if("-"!==e.title){var t=f('<div class="ke-menu-item" unselectable="on"></div>'),i=f('<div class="ke-inline-block ke-menu-item-left"></div>'),o=f('<div class="ke-inline-block ke-menu-item-right"></div>'),a=r(e.height),s=n(e.iconClass,"");this.div.append(t),a&&(t.css("height",a),o.css("line-height",a));var l;return this.centerLineMode&&(l=f('<div class="ke-inline-block ke-menu-item-center"></div>'),a&&l.css("height",a)),t.mouseover(function(){f(this).addClass("ke-menu-item-on"),l&&l.addClass("ke-menu-item-center-on")}).mouseout(function(){f(this).removeClass("ke-menu-item-on"),l&&l.removeClass("ke-menu-item-center-on")}).click(function(t){e.click.call(f(this)),t.stopPropagation()}).append(i),l&&t.append(l),t.append(o),e.checked&&(s="ke-icon-checked"),""!==s&&i.html('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url '+s+'"></span>'),o.html(e.title),this}this.div.append(f('<div class="ke-menu-separator"></div>'));
},remove:function(){return this.options.beforeRemove&&this.options.beforeRemove.call(this),f(".ke-menu-item",this.div[0]).unbind(),na.parent.remove.call(this),this}}),f.MenuClass=na,f.menu=Xa,F(oa,Q,{init:function(e){e.z=e.z||811213,oa.parent.init.call(this,e);var t=e.colors||[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]];this.selectedColor=(e.selectedColor||"").toLowerCase(),this._cells=[],this.div.addClass("ke-colorpicker").bind("click,mousedown",function(e){e.stopPropagation()}).attr("unselectable","on"),e=this.doc.createElement("table"),this.div.append(e),e.className="ke-colorpicker-table",e.cellPadding=0,e.cellSpacing=0,e.border=0;var n=e.insertRow(0),i=n.insertCell(0);i.colSpan=t[0].length,this._addAttr(i,"","ke-colorpicker-cell-top");for(var r=0;r<t.length;r++)for(var n=e.insertRow(r+1),o=0;o<t[r].length;o++)i=n.insertCell(o),this._addAttr(i,t[r][o],"ke-colorpicker-cell")},_addAttr:function(e,t,n){var i=this,e=f(e).addClass(n);i.selectedColor===t.toLowerCase()&&e.addClass("ke-colorpicker-cell-selected"),e.attr("title",t||i.options.noColor),e.mouseover(function(){f(this).addClass("ke-colorpicker-cell-on")}),e.mouseout(function(){f(this).removeClass("ke-colorpicker-cell-on")}),e.click(function(e){e.stop(),i.options.click.call(f(this),t)}),t?e.append(f('<div class="ke-colorpicker-cell-color" unselectable="on"></div>').css("background-color",t)):e.html(i.options.noColor),f(e).attr("unselectable","on"),i._cells.push(e)},remove:function(){return k(this._cells,function(){this.unbind()}),oa.parent.remove.call(this),this}}),f.ColorPickerClass=oa,f.colorpicker=Cb,F(Ya,{init:function(e){var t=f(e.button),n=e.fieldName||"file",i=e.url||"",r=t.val(),o=e.extraParams||{},a=t[0].className||"",s=e.target||"kindeditor_upload_iframe_"+(new Date).getTime();e.afterError=e.afterError||function(e){alert(e)};var l,c=[];for(l in o)c.push('<input type="hidden" name="'+l+'" value="'+o[l]+'" />');n=['<div class="ke-inline-block '+a+'">',e.target?"":'<iframe name="'+s+'" style="display:none;"></iframe>',e.form?'<div class="ke-upload-area">':'<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="'+s+'" action="'+i+'">','<span class="ke-button-common">',c.join(""),'<input type="button" class="ke-button-common ke-button" value="'+r+'" />',"</span>",'<input type="file" class="ke-upload-file" name="'+n+'" tabindex="-1" />',e.form?"</div>":"</form>","</div>"].join(""),n=f(n,t.doc),t.hide(),t.before(n),this.div=n,this.button=t,this.iframe=e.target?f('iframe[name="'+s+'"]'):f("iframe",n),this.form=e.form?f(e.form):f("form",n),t=e.width||f(".ke-button-common",n).width(),this.fileBox=f(".ke-upload-file",n).width(t),this.options=e},submit:function(){var e=this,t=e.iframe;return t.bind("load",function(){t.unbind();var n=document.createElement("form");e.fileBox.before(n),f(n).append(e.fileBox),n.reset(),f(n).remove(!0);var i,n=f.iframeDoc(t),r=n.getElementsByTagName("pre")[0],o="",o=r?r.innerHTML:n.body.innerHTML;t[0].src="javascript:false";try{i=f.json(o)}catch(t){e.options.afterError.call(e,"<!doctype html><html>"+n.body.parentNode.innerHTML+"</html>")}i&&e.options.afterUpload.call(e,i)}),e.form[0].submit(),e},remove:function(){return this.fileBox&&this.fileBox.unbind(),this.iframe.remove(),this.div.remove(),this.button.show(),this}}),f.UploadButtonClass=Ya,f.uploadbutton=function(e){return new Ya(e)},F(pa,Q,{init:function(e){var t=n(e.shadowMode,!0);e.z=e.z||811213,e.shadowMode=!1,pa.parent.init.call(this,e);var i=e.title,r=f(e.body,this.doc),a=e.previewBtn,l=e.yesBtn,c=e.noBtn,d=e.closeBtn,u=n(e.showMask,!0);this.div.addClass("ke-dialog").bind("click,mousedown",function(e){e.stopPropagation()});var h=f('<div class="ke-dialog-content"></div>').appendTo(this.div);o&&B<7?this.iframeMask=f('<iframe src="about:blank" class="ke-dialog-shadow"></iframe>').appendTo(this.div):t&&f('<div class="ke-dialog-shadow"></div>').appendTo(this.div),t=f('<div class="ke-dialog-header"></div>'),h.append(t),t.html(i),this.closeIcon=f('<span class="ke-dialog-icon-close" title="'+d.name+'"></span>').click(d.click),t.append(this.closeIcon),this.draggable({clickEl:t,beforeDrag:e.beforeDrag}),e=f('<div class="ke-dialog-body"></div>'),h.append(e),e.append(r);var p=f('<div class="ke-dialog-footer"></div>');(a||l||c)&&h.append(p),k([{btn:a,name:"preview"},{btn:l,name:"yes"},{btn:c,name:"no"}],function(){if(this.btn){var e=this.btn,e=e||{},t=e.name||"",n=f('<span class="ke-button-common ke-button-outer" title="'+t+'"></span>'),t=f('<input class="ke-button-common ke-button" type="button" value="'+t+'" />');e.click&&t.click(e.click),n.append(t),n.addClass("ke-dialog-"+this.name),p.append(n)}}),this.height&&e.height(s(this.height)-t.height()-p.height()),this.div.width(this.div.width()),this.div.height(this.div.height()),this.mask=null,u&&(r=I(this.doc),this.mask=Va({x:0,y:0,z:this.z-1,cls:"ke-dialog-mask",width:Math.max(r.scrollWidth,r.clientWidth),height:Math.max(r.scrollHeight,r.clientHeight)})),this.autoPos(this.div.width(),this.div.height()),this.footerDiv=p,this.bodyDiv=e,this.headerDiv=t,this.isLoading=!1},setMaskIndex:function(e){this.mask.div.css("z-index",e)},showLoading:function(e){var e=n(e,""),t=this.bodyDiv;return this.loading=f('<div class="ke-dialog-loading"><div class="ke-inline-block ke-dialog-loading-content" style="margin-top:'+Math.round(t.height()/3)+'px;">'+e+"</div></div>").width(t.width()).height(t.height()).css("top",this.headerDiv.height()+"px"),t.css("visibility","hidden").after(this.loading),this.isLoading=!0,this},hideLoading:function(){return this.loading&&this.loading.remove(),this.bodyDiv.css("visibility","visible"),this.isLoading=!1,this},remove:function(){return this.options.beforeRemove&&this.options.beforeRemove.call(this),this.mask&&this.mask.remove(),this.iframeMask&&this.iframeMask.remove(),this.closeIcon.unbind(),f("input",this.div).unbind(),f("button",this.div).unbind(),this.footerDiv.unbind(),this.bodyDiv.unbind(),this.headerDiv.unbind(),f("iframe",this.div).each(function(){f(this).remove()}),pa.parent.remove.call(this),this}}),f.DialogClass=pa,f.dialog=Db,f.tabs=function(e){var t=Va(e),n=t.remove,i=e.afterSelect,e=t.div,r=[];e.addClass("ke-tabs").bind("contextmenu,mousedown,mousemove",function(e){e.preventDefault()});var o=f('<ul class="ke-tabs-ul ke-clearfix"></ul>');return e.append(o),t.add=function(e){var t=f('<li class="ke-tabs-li">'+e.title+"</li>");t.data("tab",e),r.push(t),o.append(t)},t.selectedIndex=0,t.select=function(e){t.selectedIndex=e,k(r,function(n,i){i.unbind(),n===e?(i.addClass("ke-tabs-li-selected"),f(i.data("tab").panel).show("")):(i.removeClass("ke-tabs-li-selected").removeClass("ke-tabs-li-on").mouseover(function(){f(this).addClass("ke-tabs-li-on")}).mouseout(function(){f(this).removeClass("ke-tabs-li-on")}).click(function(){t.select(n)}),f(i.data("tab").panel).hide())}),i&&i.call(t,e)},t.remove=function(){k(r,function(){this.remove()}),o.remove(),n.call(t)},t},f.loadScript=Za,f.loadStyle=$a,f.ajax=function(e,t,n,i,r){var n=n||"GET",r=r||"json",o=z.XMLHttpRequest?new z.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(o.open(n,e,!0),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status&&t){var e=A(o.responseText);"json"==r&&(e=db(e)),t(e)}},"POST"==n){var a=[];k(i,function(e,t){a.push(encodeURIComponent(e)+"="+encodeURIComponent(t))});try{o.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(e){}o.send(a.join("&"))}else o.send(null)};var U={},L={};qa.prototype={lang:function(e){return Hb(e,this.langType)},loadPlugin:function(e,t){var n=this;return U[e]?n._calledPlugins[e]?(t&&t.call(n),n):(U[e].call(n,KindEditor),t&&t.call(n),n._calledPlugins[e]=!0,n):n.isLoading?n:(n.isLoading=!0,Za(n.pluginsPath+e+"/"+e+".js?ver="+encodeURIComponent(f.DEBUG?Ca:Da),function(){n.isLoading=!1,U[e]&&n.loadPlugin(e,t)}),n)},handler:function(e,t){var n=this;return n._handlers[e]||(n._handlers[e]=[]),cb(t)?(n._handlers[e].push(t),n):(k(n._handlers[e],function(){t=this.call(n,t)}),t)},clickToolbar:function(e,t){var n=this,i="clickToolbar"+e;return t===m?n._handlers[i]?n.handler(i):(n.loadPlugin(e,function(){n.handler(i)}),n):n.handler(i,t)},updateState:function(){var e=this;return k("justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough".split(","),function(t,n){e.cmd.state(n)?e.toolbar.select(n):e.toolbar.unselect(n)}),e},addContextmenu:function(e){return this._contextmenus.push(e),this},afterCreate:function(e){return this.handler("afterCreate",e)},beforeRemove:function(e){return this.handler("beforeRemove",e)},beforeGetHtml:function(e){return this.handler("beforeGetHtml",e)},beforeSetHtml:function(e){return this.handler("beforeSetHtml",e)},afterSetHtml:function(e){return this.handler("afterSetHtml",e)},create:function(){function e(){0===p.height()?setTimeout(e,100):i.resize(l,c)}function t(e,t,o){o=n(o,!0),e&&e>=i.minWidth&&(i.resize(e,null),o)&&(i.width=r(e)),t&&t>=i.minHeight&&(i.resize(null,t),o)&&(i.height=r(t))}var i=this,a=i.fullscreenMode;if(i.isCreated)return i;a?I().style.overflow="hidden":I().style.overflow="";var l=a?I().clientWidth+"px":i.width,c=a?I().clientHeight+"px":i.height;(o&&B<8||N)&&(c=r(s(c)+2));var d=i.container=f(i.layout);a?f(document.body).append(d):i.srcElement.before(d);var u=f(".toolbar",d),h=f(".edit",d),p=i.statusbar=f(".statusbar",d);d.removeClass("container").addClass("ke-container ke-container-"+i.themeType).css("width",l),a?(d.css({position:"absolute",left:0,top:0,"z-index":811211}),ca||(i._scrollPos=Z()),z.scrollTo(0,0),f(document.body).css({height:"1px",overflow:"hidden"}),f(document.body.parentNode).css("overflow","hidden"),i._fullscreenExecuted=!0):(i._fullscreenExecuted&&(f(document.body).css({height:"",overflow:""}),f(document.body.parentNode).css("overflow","")),i._scrollPos&&z.scrollTo(i._scrollPos.x,i._scrollPos.y));var m=[];f.each(i.items,function(e,t){"|"==t?m.push('<span class="ke-inline-block ke-separator"></span>'):"/"==t?m.push('<div class="ke-hr"></div>'):(m.push('<span class="ke-outline" data-name="'+t+'" title="'+i.lang(t)+'" unselectable="on">'),m.push('<span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-'+t+'" unselectable="on"></span></span>'))});var u=i.toolbar=Bb({src:u,html:m.join(""),noDisableItems:i.noDisableItems,click:function(e,t){if(e.stop(),i.menu){var n=i.menu.name;if(i.hideMenu(),n===t)return}i.clickToolbar(t)}}),g=s(c)-u.div.height(),b=i.edit=zb({height:g>0&&s(c)>i.minHeight?g:i.minHeight,src:h,srcElement:i.srcElement,designMode:i.designMode,themesPath:i.themesPath,bodyClass:i.bodyClass,cssPath:i.cssPath,cssData:i.cssData,beforeGetHtml:function(e){return e=i.beforeGetHtml(e),R(e,i.filterMode?i.htmlTags:null,i.urlType,i.wellFormatMode,i.indentChar)},beforeSetHtml:function(e){return e=R(e,i.filterMode?i.htmlTags:null,"",!1),i.beforeSetHtml(e)},afterSetHtml:function(){i.edit=b=this,i.afterSetHtml()},afterCreate:function(){i.edit=b=this,i.cmd=b.cmd,i._docMousedownFn=function(){i.menu&&i.hideMenu()},f(b.doc,document).mousedown(i._docMousedownFn),Zb.call(i),$b.call(i),ac.call(i),bc.call(i),b.afterChange(function(){b.designMode&&(i.updateState(),i.addBookmark(),i.options.afterChange&&i.options.afterChange.call(i))}),b.textarea.keyup(function(e){!e.ctrlKey&&!e.altKey&&Ob[e.which]&&i.options.afterChange&&i.options.afterChange.call(i)}),i.readonlyMode&&i.readonly(),i.isCreated=!0,""===i.initContent&&(i.initContent=i.html()),i.afterCreate(),i.options.afterCreate&&i.options.afterCreate.call(i)}});return p.removeClass("statusbar").addClass("ke-statusbar").append('<span class="ke-inline-block ke-statusbar-center-icon"></span>').append('<span class="ke-inline-block ke-statusbar-right-icon"></span>'),f(z).unbind("resize"),e(),a?(f(z).bind("resize",function(){i.isCreated&&t(I().clientWidth,I().clientHeight,!1)}),u.select("fullscreen"),p.first().css("visibility","hidden"),p.last().css("visibility","hidden")):(ca&&f(z).bind("scroll",function(){i._scrollPos=Z()}),i.resizeType>0?Ta({moveEl:d,clickEl:p,moveFn:function(e,n,i,r,o,a){r+=a,t(null,r)}}):p.first().css("visibility","hidden"),2===i.resizeType?Ta({moveEl:d,clickEl:p.last(),moveFn:function(e,n,i,r,o,a){i+=o,r+=a,t(i,r)}}):p.last().css("visibility","hidden")),i},remove:function(){var e=this;return e.isCreated?(e.beforeRemove(),e.menu&&e.hideMenu(),k(e.dialogs,function(){e.hideDialog()}),f(document).unbind("mousedown",e._docMousedownFn),e.toolbar.remove(),e.edit.remove(),e.statusbar.last().unbind(),e.statusbar.unbind(),e.container.remove(),e.container=e.toolbar=e.edit=e.menu=null,e.dialogs=[],e.isCreated=!1,e):e},resize:function(e,t){return null!==e&&s(e)>this.minWidth&&this.container.css("width",r(e)),null!==t&&(t=s(t)-this.toolbar.div.height()-this.statusbar.height(),t>0&&s(t)>this.minHeight&&this.edit.setHeight(t)),this},select:function(){return this.isCreated&&this.cmd.select(),this},html:function(e){return e===m?this.isCreated?this.edit.html():la(this.srcElement):(this.isCreated?this.edit.html(e):la(this.srcElement,e),this)},fullHtml:function(){return this.isCreated?this.edit.html(m,!0):""},text:function(e){return e===m?A(this.html().replace(/<(?!img|embed).*?>/gi,"").replace(/&nbsp;/gi," ")):this.html(D(e))},isEmpty:function(){return""===A(this.text().replace(/\r\n|\n|\r/,""))},isDirty:function(){return A(this.initContent.replace(/\r\n|\n|\r|t/g,""))!==A(this.html().replace(/\r\n|\n|\r|t/g,""))},selectedHtml:function(){return this.isCreated?this.cmd.range.html():""},count:function(e){return e=(e||"html").toLowerCase(),"html"===e?V(ab(this.html())).length:"text"===e?this.text().replace(/<(?:img|embed).*?>/gi,"K").replace(/\r\n|\n|\r/g,"").length:0},exec:function(e){var e=e.toLowerCase(),t=this.cmd,n=M(e,"selectall,copy,paste,print".split(","))<0;return n&&this.addBookmark(!1),t[e].apply(t,Ga(arguments,1)),n&&(this.updateState(),this.addBookmark(!1),this.options.afterChange&&this.options.afterChange.call(this)),this},insertHtml:function(e,t){return this.isCreated?(e=this.beforeSetHtml(e),this.exec("inserthtml",e,t),this):this},appendHtml:function(e){return this.html(this.html()+e),this.isCreated&&(e=this.cmd,e.range.selectNodeContents(e.doc.body).collapse(!1),e.select()),this},sync:function(){return la(this.srcElement,this.html()),this},focus:function(){return this.isCreated?this.edit.focus():this.srcElement[0].focus(),this},blur:function(){return this.isCreated?this.edit.blur():this.srcElement[0].blur(),this},addBookmark:function(e){var e=n(e,!0),t=this.edit,i=t.doc.body,r=ab(i.innerHTML);return e&&this._undoStack.length>0&&Math.abs(r.length-V(this._undoStack[this._undoStack.length-1].html).length)<this.minChangeSize?this:(t.designMode&&!this._firstAddBookmark?(t=this.cmd.range,e=t.createBookmark(!0),e.html=ab(i.innerHTML),t.moveToBookmark(e)):e={html:r},this._firstAddBookmark=!1,Ib(this._undoStack,e),this)},undo:function(){return Jb.call(this,this._undoStack,this._redoStack)},redo:function(){return Jb.call(this,this._redoStack,this._undoStack)},fullscreen:function(e){return this.fullscreenMode=e===m?!this.fullscreenMode:e,this.remove().create()},readonly:function(e){var e=n(e,!0),t=this,i=t.edit,r=i.doc;t.designMode?t.toolbar.disableAll(e,[]):k(t.noDisableItems,function(){t.toolbar[e?"disable":"enable"](this)}),o?r.body.contentEditable=!e:r.designMode=e?"off":"on",i.textarea[0].disabled=e},createMenu:function(e){var t=this.toolbar.get(e.name),i=t.pos();return e.x=i.x,e.y=i.y+t.height(),e.shadowMode=n(e.shadowMode,this.shadowMode),e.selectedColor!==m?(e.cls="ke-colorpicker-"+this.themeType,e.noColor=this.lang("noColor"),this.menu=Cb(e)):(e.cls="ke-menu-"+this.themeType,e.centerLineMode=!1,this.menu=Xa(e)),this.menu},hideMenu:function(){return this.menu.remove(),this.menu=null,this},hideContextmenu:function(){return this.contextmenu.remove(),this.contextmenu=null,this},createDialog:function(e){var t=this;if(e.autoScroll=n(e.autoScroll,!0),e.shadowMode=n(e.shadowMode,t.shadowMode),e.closeBtn=n(e.closeBtn,{name:t.lang("close"),click:function(){t.hideDialog(),o&&t.cmd&&t.cmd.select()}}),e.noBtn=n(e.noBtn,{name:t.lang(e.yesBtn?"no":"close"),click:function(){t.hideDialog(),o&&t.cmd&&t.cmd.select()}}),"page"!=t.dialogAlignType&&(e.alignEl=t.container),e.cls="ke-dialog-"+t.themeType,t.dialogs.length>0){var i=t.dialogs[t.dialogs.length-1];t.dialogs[0].setMaskIndex(i.z+2),e.z=i.z+3,e.showMask=!1}return e=Db(e),t.dialogs.push(e),e},hideDialog:function(){return this.dialogs.length>0&&this.dialogs.pop().remove(),this.dialogs.length>0&&this.dialogs[0].setMaskIndex(this.dialogs[this.dialogs.length-1].z-1),this},errorDialog:function(e){var t=this.createDialog({width:750,title:this.lang("uploadError"),body:'<div style="padding:10px 20px;"><iframe frameborder="0" style="width:708px;height:400px;"></iframe></div>'}),t=f("iframe",t.div),n=f.iframeDoc(t);return n.open(),n.write(e),n.close(),f(n.body).css("background-color","#FFF"),t[0].contentWindow.focus(),this}},_instances=[],f.remove=function(e){Lb(e,function(e){this.remove(),_instances.splice(e,1)})},f.sync=function(e){Lb(e,function(){this.sync()})},o&&B<7&&O(document,"BackgroundImageCache",!0),f.EditorClass=qa,f.editor=function(e){return new qa(e)},f.create=Kb,f.instances=_instances,f.plugin=Fb,f.lang=Hb,Fb("core",function(e){var t=this,i={undo:"Z",redo:"Y",bold:"B",italic:"I",underline:"U",print:"P",selectall:"A"};if(t.afterSetHtml(function(){t.options.afterChange&&t.options.afterChange.call(t)}),t.afterCreate(function(){if("form"==t.syncType){for(var n=e(t.srcElement),i=!1;n=n.parent();)if("form"==n.name){i=!0;break}if(i){n.bind("submit",function(){t.sync(),e(z).bind("unload",function(){t.edit.textarea.remove()})});var r=e('[type="reset"]',n);r.click(function(){t.html(t.initContent),t.cmd.selection()}),t.beforeRemove(function(){n.unbind(),r.unbind()})}}}),t.clickToolbar("source",function(){t.edit.designMode?(t.toolbar.disableAll(!0),t.edit.design(!1),t.toolbar.select("source")):(t.toolbar.disableAll(!1),t.edit.design(!0),t.toolbar.unselect("source")),t.designMode=t.edit.designMode}),t.afterCreate(function(){t.designMode||t.toolbar.disableAll(!0).select("source")}),t.clickToolbar("fullscreen",function(){t.fullscreen()}),t.fullscreenShortcut){var r=!1;t.afterCreate(function(){if(e(t.edit.doc,t.edit.textarea).keyup(function(e){27==e.which&&setTimeout(function(){t.fullscreen()},0)}),r){if(o&&!t.designMode)return;t.focus()}r||(r=!0)})}k("undo,redo".split(","),function(e,n){i[n]&&t.afterCreate(function(){Ha(this.edit.doc,i[n],function(){t.clickToolbar(n)})}),t.clickToolbar(n,function(){t[n]()})}),t.clickToolbar("formatblock",function(){var e=t.lang("formatblock.formatBlock"),n={h1:28,h2:24,h3:18,H4:14,p:12},i=t.cmd.val("formatblock"),r=t.createMenu({name:"formatblock",width:"en"==t.langType?200:150});k(e,function(e,o){var a="font-size:"+n[e]+"px;";"h"===e.charAt(0)&&(a+="font-weight:bold;"),r.addItem({title:'<span style="'+a+'" unselectable="on">'+o+"</span>",height:n[e]+12,checked:i===e||i===o,click:function(){t.select().exec("formatblock","<"+e+">").hideMenu()}})})}),t.clickToolbar("fontname",function(){var e=t.cmd.val("fontname"),n=t.createMenu({name:"fontname",width:150});k(t.lang("fontname.fontName"),function(i,r){n.addItem({title:'<span style="font-family: '+i+';" unselectable="on">'+r+"</span>",checked:e===i.toLowerCase()||e===r.toLowerCase(),click:function(){t.exec("fontname",i).hideMenu()}})})}),t.clickToolbar("fontsize",function(){var e=t.cmd.val("fontsize"),n=t.createMenu({name:"fontsize",width:150});k(t.fontSizeTable,function(i,r){n.addItem({title:'<span style="font-size:'+r+';" unselectable="on">'+r+"</span>",height:s(r)+12,checked:e===r,click:function(){t.exec("fontsize",r).hideMenu()}})})}),k("forecolor,hilitecolor".split(","),function(e,n){t.clickToolbar(n,function(){t.createMenu({name:n,selectedColor:t.cmd.val(n)||"default",colors:t.colorTable,click:function(e){t.exec(n,e).hideMenu()}})})}),k("cut,copy,paste".split(","),function(e,n){t.clickToolbar(n,function(){t.focus();try{t.exec(n,null)}catch(e){alert(t.lang(n+"Error"))}})}),t.clickToolbar("about",function(){var e='<div style="margin:20px;"><div>KindEditor '+Da+'</div><div>Copyright &copy; <a href="http://www.kindsoft.net/" target="_blank">kindsoft.net</a> All rights reserved.</div></div>';t.createDialog({name:"about",width:300,title:t.lang("about"),body:e})}),t.plugin.getSelectedLink=function(){return t.cmd.commonAncestor("a")},t.plugin.getSelectedImage=function(){return Ba(t.edit.cmd.range,function(e){return!/^ke-\w+$/i.test(e[0].className)})},t.plugin.getSelectedFlash=function(){return Ba(t.edit.cmd.range,function(e){return"ke-flash"==e[0].className})},t.plugin.getSelectedMedia=function(){return Ba(t.edit.cmd.range,function(e){return"ke-media"==e[0].className||"ke-rm"==e[0].className})},t.plugin.getSelectedAnchor=function(){return Ba(t.edit.cmd.range,function(e){return"ke-anchor"==e[0].className})},k("link,image,flash,media,anchor".split(","),function(e,n){var i=n.charAt(0).toUpperCase()+n.substr(1);k("edit,delete".split(","),function(e,r){t.addContextmenu({title:t.lang(r+i),click:function(){t.loadPlugin(n,function(){t.plugin[n][r](),t.hideMenu()})},cond:t.plugin["getSelected"+i],width:150,iconClass:"edit"==r?"ke-icon-"+n:m})}),t.addContextmenu({title:"-"})}),t.plugin.getSelectedTable=function(){return t.cmd.commonAncestor("table")},t.plugin.getSelectedRow=function(){return t.cmd.commonAncestor("tr")},t.plugin.getSelectedCell=function(){return t.cmd.commonAncestor("td")},k("prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete".split(","),function(e,n){var i=M(n,["prop","delete"])<0?t.plugin.getSelectedCell:t.plugin.getSelectedTable;t.addContextmenu({title:t.lang("table"+n),click:function(){t.loadPlugin("table",function(){t.plugin.table[n](),t.hideMenu()})},cond:i,width:170,iconClass:"ke-icon-table"+n})}),t.addContextmenu({title:"-"}),k("selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink".split(","),function(e,n){i[n]&&t.afterCreate(function(){Ha(this.edit.doc,i[n],function(){t.cmd.selection(),t.clickToolbar(n)})}),t.clickToolbar(n,function(){t.focus().exec(n,null)})}),t.afterCreate(function(){function n(){i.range.moveToBookmark(r),i.select(),ba&&(e("div."+l,a).each(function(){e(this).after("<br />").remove(!0)}),e("span.Apple-style-span",a).remove(!0),e("span.Apple-tab-span",a).remove(!0),e("span[style]",a).each(function(){"nowrap"==e(this).css("white-space")&&e(this).remove(!0)}),e("meta",a).remove());var n=a[0].innerHTML;a.remove(),""!==n&&(2===t.pasteType&&(/schemas-microsoft-com|worddocument|mso-\w+/i.test(n)?n=mb(n,t.filterMode?t.htmlTags:e.options.htmlTags):(n=R(n,t.filterMode?t.htmlTags:null),n=t.beforeSetHtml(n))),1===t.pasteType&&(n=n.replace(/<br[^>]*>/gi,"\n"),n=n.replace(/<\/p><p[^>]*>/gi,"\n"),n=n.replace(/<[^>]+>/g,""),n=n.replace(/&nbsp;/gi," "),n=n.replace(/\n\s*\n/g,"\n"),n=n.replace(/ {2}/g," &nbsp;"),"p"==t.newlineTag?/\n/.test(n)&&(n=n.replace(/^/,"<p>").replace(/$/,"</p>").replace(/\n/g,"</p><p>")):n=n.replace(/\n/g,"<br />$&")),t.insertHtml(n,!0))}var i,r,a,s=t.edit.doc,l="__kindeditor_paste__",c=!1;e(s.body).bind("paste",function(d){if(0===t.pasteType)d.stop();else if(!c){if(c=!0,e("div."+l,s).remove(),i=t.cmd.selection(),r=i.range.createBookmark(),a=e('<div class="'+l+'"></div>',s).css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",left:"-1981px",top:e(r.start).pos().y+"px","white-space":"nowrap"}),e(s.body).append(a),o){var u=i.range.get(!0);u.moveToElementText(a[0]),u.select(),u.execCommand("paste"),d.preventDefault()}else i.range.selectNodeContents(a[0]),i.select();setTimeout(function(){n(),c=!1},0)}})}),t.beforeGetHtml(function(e){return e.replace(/(<(?:noscript|noscript\s[^>]*)>)([\s\S]*?)(<\/noscript>)/gi,function(e,t,n,i){return t+Fa(n).replace(/\s+/g," ")+i}).replace(/<img[^>]*class="?ke-(flash|rm|media)"?[^>]*>/gi,function(e){var e=J(e),t=fa(e.style||""),i=ob(e["data-ke-tag"]);return i.width=n(e.width,s(n(t.width,""))),i.height=n(e.height,s(n(t.height,""))),Ja(i)}).replace(/<img[^>]*class="?ke-anchor"?[^>]*>/gi,function(e){return e=J(e),'<a name="'+unescape(e["data-ke-name"])+'"></a>'}).replace(/<div\s+[^>]*data-ke-script-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(e,t,n){return"<script"+unescape(t)+">"+unescape(n)+"</script>"}).replace(/<div\s+[^>]*data-ke-noscript-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(e,t,n){return"<noscript"+unescape(t)+">"+unescape(n)+"</noscript>"}).replace(/(<[^>]*)data-ke-src="([^"]*)"([^>]*>)/gi,function(e,t,n){return e=e.replace(/(\s+(?:href|src)=")[^"]*(")/i,"$1"+n+"$2"),e=e.replace(/\s+data-ke-src="[^"]*"/i,"")}).replace(/(<[^>]+\s)data-ke-(on\w+="[^"]*"[^>]*>)/gi,function(e,t,n){return t+n})}),t.beforeSetHtml(function(e){return e.replace(/<embed[^>]*type="([^"]+)"[^>]*>(?:<\/embed>)?/gi,function(e){return e=J(e),e.src=n(e.src,""),e.width=n(e.width,0),e.height=n(e.height,0),pb(t.themesPath+"common/blank.gif",e)}).replace(/<a[^>]*name="([^"]+)"[^>]*>(?:<\/a>)?/gi,function(e){var n=J(e);return n.href!==m?e:'<img class="ke-anchor" src="'+t.themesPath+'common/anchor.gif" data-ke-name="'+escape(n.name)+'" />'}).replace(/<script([^>]*)>([\s\S]*?)<\/script>/gi,function(e,t,n){return'<div class="ke-script" data-ke-script-attr="'+escape(t)+'">'+escape(n)+"</div>"}).replace(/<noscript([^>]*)>([\s\S]*?)<\/noscript>/gi,function(e,t,n){return'<div class="ke-noscript" data-ke-noscript-attr="'+escape(t)+'">'+escape(n)+"</div>"}).replace(/(<[^>]*)(href|src)="([^"]*)"([^>]*>)/gi,function(e,t,n,i,r){return e.match(/\sdata-ke-src="[^"]*"/i)?e:t+n+'="'+i+'" data-ke-src="'+i+'"'+r}).replace(/(<[^>]+\s)(on\w+="[^"]*"[^>]*>)/gi,function(e,t,n){return t+"data-ke-"+n}).replace(/<table[^>]*\s+border="0"[^>]*>/gi,function(e){return e.indexOf("ke-zeroborder")>=0?e:Rb(e,"ke-zeroborder")})})})}}(window);
!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function e(r,n){if(!(this instanceof e))return new e(r,n);this.options=n=n?zi(n):{},zi(Jo,n,!1),d(n);var i=n.value;"string"==typeof i&&(i=new Sl(i,n.mode,null,n.lineSeparator)),this.doc=i;var o=new e.inputStyles[n.inputStyle](this),l=this.display=new t(r,i,o);l.wrapper.CodeMirror=this,u(this),s(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Wo&&l.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ai,keySeq:null,specialChars:null};var a=this;bo&&wo<11&&setTimeout(function(){a.display.input.reset(!0)},20),Ut(this),$i(),wt(this),this.curOp.forceUpdate=!0,qn(this,i),n.autofocus&&!Wo||a.hasFocus()?setTimeout(Fi(vr,this),20):mr(this);for(var c in el)el.hasOwnProperty(c)&&el[c](this,n[c],tl);C(this),n.finishInit&&n.finishInit(this);for(var h=0;h<ol.length;++h)ol[h](this);Ct(this),xo&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(l.lineDiv).textRendering&&(l.lineDiv.style.textRendering="auto")}function t(e,t,r){var n=this;this.input=r,n.scrollbarFiller=Ui("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Ui("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Ui("div",null,"CodeMirror-code"),n.selectionDiv=Ui("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Ui("div",null,"CodeMirror-cursors"),n.measure=Ui("div",null,"CodeMirror-measure"),n.lineMeasure=Ui("div",null,"CodeMirror-measure"),n.lineSpace=Ui("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Ui("div",[Ui("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Ui("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Ui("div",null,null,"position: absolute; height: "+Pl+"px; width: 1px;"),n.gutters=Ui("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Ui("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Ui("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),bo&&wo<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),xo||vo&&Wo||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function r(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Re(e,100),e.state.modeGen++,e.curOp&&Et(e)}function i(e){e.options.lineWrapping?(Zl(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(ql(e.display.wrapper,"CodeMirror-wrap"),f(e)),l(e),Et(e),st(e),setTimeout(function(){y(e)},100)}function o(e){var t=yt(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/bt(e.display)-3);return function(i){if(Cn(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function l(e){var t=e.doc,r=o(e);t.iter(function(e){var t=r(e);t!=e.height&&ei(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),st(e)}function a(e){u(e),Et(e),setTimeout(function(){x(e)},20)}function u(e){var t=e.display.gutters,r=e.options.gutters;Vi(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(Ui("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function h(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=gn(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=vn(n);){var i=t.find(0,!0);r-=n.text.length-i.from.ch,n=i.to.line,r+=n.text.length-i.to.ch}return r}function f(e){var t=e.display,r=e.doc;t.maxLine=Zn(r,r.first),t.maxLineLength=h(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=h(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function d(e){var t=Hi(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Ke(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Xe(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function g(e,t,r){this.cm=r;var n=this.vert=Ui("div",[Ui("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Ui("div",[Ui("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),Wl(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Wl(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bo&&wo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function v(){}function m(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&ql(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Wl(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,r){"horizontal"==r?ir(t,e):nr(t,e)},t),t.display.scrollbars.addClass&&Zl(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=p(e));var r=e.display.barWidth,n=e.display.barHeight;b(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&O(e),b(e,p(e)),r=e.display.barWidth,n=e.display.barHeight}function b(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function w(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Ve(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=ri(t,n),l=ri(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=ri(t,ni(Zn(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=ri(t,ni(Zn(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function x(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=L(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&r[l].gutter&&(r[l].gutter.style.left=o);var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function C(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=S(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(Ui("div",[Ui("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-l)+1,n.lineNumWidth=n.lineNumInnerWidth+l,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",c(e),!0}return!1}function S(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function L(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function T(e,t,r){var n=e.display;this.viewport=t,this.visible=w(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Ye(e),this.force=r,this.dims=H(e),this.events=[]}function k(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Xe(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Xe(e)+"px",t.scrollbarsClipped=!0)}function M(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return zt(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Gt(e))return!1;C(e)&&(zt(e),t.dims=H(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),l=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(i,r.viewTo)),Io&&(o=wn(e.doc,o),l=xn(e.doc,l));var s=o!=r.viewFrom||l!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Bt(e,o,l),r.viewOffset=ni(Zn(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var a=Gt(e);if(!s&&0==a&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=ji();return a>4&&(r.lineDiv.style.display="none"),P(e,r.updateLineNumbers,t.dims),a>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,u&&ji()!=u&&u.offsetHeight&&u.focus(),Vi(r.cursorDiv),Vi(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Re(e,400)),r.updateLineNumbers=null,!0}function N(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Ye(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Ke(e.display)-_e(e),r.top)}),t.visible=w(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&M(e,t);n=!1){O(e);var i=p(e);Pe(e),A(e,i),y(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function W(e,t){var r=new T(e,t);if(M(e,r)){O(e),N(e,r);var n=p(e);Pe(e),A(e,n),y(e,n),r.finish()}}function A(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=Math.max(t.docHeight+e.display.barHeight+Xe(e),t.clientHeight)+"px"}function O(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i,o=t.view[n];if(!o.hidden){if(bo&&wo<8){var l=o.node.offsetTop+o.node.offsetHeight;i=l-r,r=l}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var a=o.line.height-i;if(i<2&&(i=yt(t)),(a>.001||a<-.001)&&(ei(o.line,i),D(o.line),o.rest))for(var u=0;u<o.rest.length;u++)D(o.rest[u])}}}function D(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function H(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:L(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function P(e,t,r){function n(t){var r=t.nextSibling;return xo&&Ao&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var i=e.display,o=e.options.lineNumbers,l=i.lineDiv,s=l.firstChild,a=i.view,u=i.viewFrom,c=0;c<a.length;c++){var h=a[c];if(h.hidden);else if(h.node&&h.node.parentNode==l){for(;s!=h.node;)s=n(s);var f=o&&null!=t&&t<=u&&h.lineNumber;h.changes&&(Hi(h.changes,"gutter")>-1&&(f=!1),E(e,h,u,r)),f&&(Vi(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(S(e.options,u)))),s=h.node.nextSibling}else{var d=V(e,h,u,r);l.insertBefore(d,s)}u+=h.size}for(;s;)s=n(s)}function E(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?R(e,t):"gutter"==o?G(e,t,r,n):"class"==o?B(t):"widget"==o&&U(e,t,n)}t.changes=null}function I(e){return e.node==e.text&&(e.node=Ui("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),bo&&wo<8&&(e.node.style.zIndex=2)),e.node}function z(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var r=I(e);e.background=r.insertBefore(Ui("div",null,t),r.firstChild)}}function F(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Fn(e,t)}function R(e,t){var r=t.text.className,n=F(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,B(t)):r&&(t.text.className=r)}function B(e){z(e),e.line.wrapClass?I(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function G(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=I(t);t.gutterBackground=Ui("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var i=I(t),l=t.gutter=Ui("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),i.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(Ui("div",S(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var a=e.options.gutters[s],u=o.hasOwnProperty(a)&&o[a];u&&l.appendChild(Ui("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[a]+"px; width: "+n.gutterWidth[a]+"px"))}}}function U(e,t,r){t.alignable&&(t.alignable=null);for(var n,i=t.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}K(e,t,r)}function V(e,t,r,n){var i=F(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),B(t),G(e,t,r,n),K(e,t,n),t.node}function K(e,t,r){if(j(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)j(e,t.rest[n],t,r,!1)}function j(e,t,r,n,i){if(t.widgets)for(var o=I(r),l=0,s=t.widgets;l<s.length;++l){var a=s[l],u=Ui("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),X(a,u,r,n),e.display.input.setUneditable(u),i&&a.above?o.insertBefore(u,r.gutter||r.text):o.appendChild(u),Li(a,"redraw")}}function X(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Y(e){return zo(e.line,e.ch)}function _(e,t){return Fo(e,t)<0?t:e}function $(e,t){return Fo(e,t)<0?e:t}function q(e){e.state.focused||(e.display.input.focus(),vr(e))}function Z(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=e.state.pasteIncoming||"paste"==i,s=o.splitLines(t),a=null;if(l&&n.ranges.length>1)if(Ro&&Ro.join("\n")==t){if(n.ranges.length%Ro.length==0){a=[];for(var u=0;u<Ro.length;u++)a.push(o.splitLines(Ro[u]))}}else s.length==n.ranges.length&&(a=Pi(s,function(e){return[e]}));for(var u=n.ranges.length-1;u>=0;u--){var c=n.ranges[u],h=c.from(),f=c.to();c.empty()&&(r&&r>0?h=zo(h.line,h.ch-r):e.state.overwrite&&!l&&(f=zo(f.line,Math.min(Zn(o,f.line).text.length,f.ch+Di(s).length))));var d=e.curOp.updateInput,p={from:h,to:f,text:a?a[u%a.length]:s,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};Tr(e.doc,p),Li(e,"inputRead",e,p)}t&&!l&&J(e,t),zr(e),e.curOp.updateInput=d,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Q(e,t){if(e.clipboardData&&e.clipboardData.getData("text/html")||2===e.clipboardData.items.length){var r=Util.processClipBoard(e.clipboardData,t);return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Wt(t,function(){Z(t,r,0,null,"paste")}),!0}}function J(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Rr(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Zn(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Rr(e,i.head.line,"smart"));l&&Li(e,"electricInput",e,i.head.line)}}}function ee(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:zo(i,0),head:zo(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function re(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ai,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ne(){var e=Ui("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Ui("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xo?e.style.width="1000px":e.setAttribute("wrap","off"),No&&(e.style.border="1px solid black"),te(e),t}function ie(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ai,this.gracePeriod=!1}function oe(e,t){var r=Je(e,t.line);if(!r||r.hidden)return null;var n=Zn(e.doc,t.line),i=qe(r,n,t.line),o=ii(n),l="left";if(o){var s=uo(o,t.ch);l=s%2?"right":"left"}var a=rt(i.map,t.ch,l);return a.offset="right"==a.collapse?a.end:a.start,a}function le(e,t){return t&&(e.bad=!0),e}function se(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return le(e.clipPos(zo(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return ae(o,t,r)}}function ae(e,t,r){function n(t,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?u.map:c[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=ti(i<0?e.line:e.rest[i]),h=o[l]+n;return(n<0||s!=t)&&(h=o[l+(n?1:0)]),zo(a,h)}}}var i=e.text.firstChild,o=!1;if(!t||!Yl(i,t))return le(zo(ti(e.line),0),!0);if(t==i&&(o=!0,t=i.childNodes[r],r=0,!t)){var l=e.rest?Di(e.rest):e.line;return le(zo(ti(l),l.text.length),o)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,r&&(r=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var u=e.measure,c=u.maps,h=n(s,a,r);if(h)return le(h,o);for(var f=a.nextSibling,d=s?s.nodeValue.length-r:0;f;f=f.nextSibling){if(h=n(f,f.firstChild,0))return le(zo(h.line,h.ch-d),o);d+=f.textContent.length}for(var p=a.previousSibling,d=r;p;p=p.previousSibling){if(h=n(p,p.firstChild,-1))return le(zo(h.line,h.ch+d),o);d+=f.textContent.length}}function ue(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return""==r&&(r=t.textContent.replace(/\u200b/g,"")),void(s+=r);var c,h=t.getAttribute("cm-marker");if(h){var f=e.findMarks(zo(n,0),zo(i+1,0),o(+h));return void(f.length&&(c=f[0].find())&&(s+=Qn(e.doc,c.from,c.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)l(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;a&&(s+=u,a=!1),s+=p}}for(var s="",a=!1,u=e.doc.lineSeparator();l(t),t!=r;)t=t.nextSibling;return s}function ce(e,t){this.ranges=e,this.primIndex=t}function he(e,t){this.anchor=e,this.head=t}function fe(e,t){var r=e[t];e.sort(function(e,t){return Fo(e.from(),t.from())}),t=Hi(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(Fo(o.to(),i.from())>=0){var l=$(o.from(),i.from()),s=_(o.to(),i.to()),a=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new he(a?s:l,a?l:s))}}return new ce(e,t)}function de(e,t){return new ce([new he(e,t||e)],0)}function pe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ge(e,t){if(t.line<e.first)return zo(e.first,0);var r=e.first+e.size-1;return t.line>r?zo(r,Zn(e,r).text.length):ve(t,Zn(e,t.line).text.length)}function ve(e,t){var r=e.ch;return null==r||r>t?zo(e.line,t):r<0?zo(e.line,0):e}function me(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ge(e,t[n]);return r}function be(e,t,r,n){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(n){var o=Fo(r,i)<0;o!=Fo(n,i)<0?(i=r,r=n):o!=Fo(r,n)<0&&(r=n)}return new he(i,r)}return new he(n||r,r)}function we(e,t,r,n){ke(e,new ce([be(e,e.sel.primary(),t,r)],0),n)}function xe(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=be(e,e.sel.ranges[i],t[i],null);var o=fe(n,e.sel.primIndex);ke(e,o,r)}function Ce(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,ke(e,fe(i,e.sel.primIndex),n)}function Se(e,t,r,n){ke(e,de(t,r),n)}function Le(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new he(ge(e,t[r].anchor),ge(e,t[r].head))},origin:r&&r.origin};return Dl(e,"beforeSelectionChange",e,n),e.cm&&Dl(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?fe(n.ranges,n.ranges.length-1):t}function Te(e,t,r){var n=e.history.done,i=Di(n);i&&i.ranges?(n[n.length-1]=t,Me(e,t,r)):ke(e,t,r)}function ke(e,t,r){Me(e,t,r),hi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Me(e,t,r){(Ni(e,"beforeSelectionChange")||e.cm&&Ni(e.cm,"beforeSelectionChange"))&&(t=Le(e,t,r));var n=r&&r.bias||(Fo(t.primary().head,e.sel.primary().head)<0?-1:1);Ne(e,Ae(e,t,n,!0)),r&&r.scroll===!1||!e.cm||zr(e.cm)}function Ne(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Mi(e.cm)),Li(e,"cursorActivity",e))}function We(e){Ne(e,Ae(e,e.sel,null,!1),Il)}function Ae(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=De(e,l.anchor,s&&s.anchor,r,n),u=De(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new he(a,u))}return i?fe(i,t.primIndex):t}function Oe(e,t,r,n,i){var o=Zn(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Dl(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u,c=a.find(n<0?1:-1);if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(c=He(e,c,-n,o)),c&&c.line==t.line&&(u=Fo(c,r))&&(n<0?u<0:u>0))return Oe(e,c,t,n,i)}var h=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(h=He(e,h,n,o)),h?Oe(e,h,t,n,i):null}}return t}function De(e,t,r,n,i){var o=n||1,l=Oe(e,t,r,o,i)||!i&&Oe(e,t,r,o,!0)||Oe(e,t,r,-o,i)||!i&&Oe(e,t,r,-o,!0);return l?l:(e.cantEdit=!0,zo(e.first,0))}function He(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ge(e,zo(t.line-1)):null:r>0&&t.ch==(n||Zn(e,t.line)).text.length?t.line<e.first+e.size-1?zo(t.line+1,0):null:new zo(t.line,t.ch+r)}function Pe(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ee(e,t){for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t!==!1||l!=r.sel.primIndex){var s=r.sel.ranges[l],a=s.empty();(a||e.options.showCursorWhenSelecting)&&Ie(e,s.head,i),a||ze(e,s,o)}return n}function Ie(e,t,r){var n=dt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(Ui("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(Ui("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function ze(e,t,r){function n(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),s.appendChild(Ui("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?c-e:r)+"px; height: "+(n-t)+"px"))}function i(t,r,i){function o(r,n){return ft(e,zo(t,r),"div",h,n)}var s,a,h=Zn(l,t),f=h.text.length;return eo(ii(h),r||0,null==i?f:i,function(e,t,l){var h,d,p,g=o(e,"left");if(e==t)h=g,d=p=g.left;else{if(h=o(t-1,"right"),"rtl"==l){var v=g;g=h,h=v}d=g.left,p=h.right}null==r&&0==e&&(d=u),h.top-g.top>3&&(n(d,g.top,null,g.bottom),d=u,g.bottom<h.top&&n(d,g.bottom,null,h.top)),null==i&&t==f&&(p=c),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!a||h.bottom>a.bottom||h.bottom==a.bottom&&h.right>a.right)&&(a=h),d<u+1&&(d=u),n(d,h.top,p-d,h.bottom)}),{start:s,end:a}}var o=e.display,l=e.doc,s=document.createDocumentFragment(),a=je(e.display),u=a.left,c=Math.max(o.sizerWidth,Ye(e)-o.sizer.offsetLeft)-a.right,h=t.from(),f=t.to();if(h.line==f.line)i(h.line,h.ch,f.ch);else{var d=Zn(l,h.line),p=Zn(l,f.line),g=yn(d)==yn(p),v=i(h.line,h.ch,g?d.text.length+1:null).end,m=i(f.line,g?0:null,f.ch).start;g&&(v.top<m.top-2?(n(v.right,v.top,null,v.bottom),n(u,m.top,m.left,m.bottom)):n(v.right,v.top,m.left-v.right,v.bottom)),v.bottom<m.top&&n(u,v.bottom,null,m.top)}r.appendChild(s)}function Fe(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Re(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Fi(Be,e))}function Be(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=sl(t.mode,Ue(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength,a=Pn(e,o,s?sl(t.mode,n):n,!0);o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!h&&f<l.length;++f)h=l[f]!=o.styles[f];h&&i.push(t.frontier),o.stateAfter=s?n:sl(t.mode,n)}else o.text.length<=e.options.maxHighlightLength&&In(e,o.text,n),o.stateAfter=t.frontier%5==0?sl(t.mode,n):null;if(++t.frontier,+new Date>r)return Re(e,e.options.workDelay),!0}),i.length&&Wt(e,function(){for(var t=0;t<i.length;t++)It(e,i[t],"text")})}}function Ge(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=Zn(o,s-1);if(a.stateAfter&&(!r||s<=o.frontier))return s;var u=Rl(a.text,null,e.options.tabSize);(null==i||n>u)&&(i=s-1,n=u)}return i}function Ue(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var o=Ge(e,t,r),l=o>n.first&&Zn(n,o-1).stateAfter;return l=l?sl(n.mode,l):al(n.mode),n.iter(o,t,function(r){In(e,r.text,l);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;r.stateAfter=s?sl(n.mode,l):null,++o}),r&&(n.frontier=o),l}function Ve(e){return e.lineSpace.offsetTop}function Ke(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function je(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Ki(e.measure,Ui("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Xe(e){return Pl-e.display.nativeBarWidth}function Ye(e){return e.display.scroller.clientWidth-Xe(e)-e.display.barWidth}function _e(e){return e.display.scroller.clientHeight-Xe(e)-e.display.barHeight}function $e(e,t,r){var n=e.options.lineWrapping,i=n&&Ye(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function qe(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(ti(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function Ze(e,t){t=yn(t);var r=ti(t),n=e.display.externalMeasured=new Ht(e.doc,t,r);n.lineN=r;var i=n.built=Fn(e,n);return n.text=i.pre,Ki(e.display.lineMeasure,i.pre),n}function Qe(e,t,r,n){return tt(e,et(e,t),r,n)}function Je(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ft(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function et(e,t){var r=ti(t),n=Je(e,r);n&&!n.text?n=null:n&&n.changes&&(E(e,n,r,H(e)),e.curOp.forceUpdate=!0),n||(n=Ze(e,t));var i=qe(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function tt(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||($e(e,t.view,t.rect),t.hasHeights=!0),o=nt(e,t,r,n),o.bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function rt(e,t,r){for(var n,i,o,l,s=0;s<e.length;s+=3){var a=e[s],u=e[s+1];if(t<a?(i=0,o=1,l="left"):t<u?(i=t-a,o=i+1):(s==e.length-3||t==u&&e[s+3]>t)&&(o=u-a,i=o-1,t>=u&&(l="right")),null!=i){if(n=e[s+2],a==u&&r==(n.insertLeft?"left":"right")&&(l=r),
"left"==r&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)n=e[(s-=3)+2],l="left";if("right"==r&&i==u-a)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)n=e[(s+=3)+2],l="right";break}}return{node:n,start:i,end:o,collapse:l,coverStart:a,coverEnd:u}}function nt(e,t,r,n){var i,o=rt(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&Gi(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&Gi(t.line.text.charAt(o.coverStart+a));)++a;if(bo&&wo<9&&0==s&&a==o.coverEnd-o.coverStart)i=l.parentNode.getBoundingClientRect();else if(bo&&e.options.lineWrapping){var h=Vl(l,s,a).getClientRects();i=h.length?h["right"==n?h.length-1:0]:Vo}else i=Vl(l,s,a).getBoundingClientRect()||Vo;if(i.left||i.right||0==s)break;a=s,s-=1,u="right"}bo&&wo<11&&(i=it(e.display.measure,i))}else{s>0&&(u=n="right");var h;i=e.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==n?h.length-1:0]:l.getBoundingClientRect()}if(bo&&wo<9&&!s&&(!i||!i.left&&!i.right)){var f=l.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+bt(e.display),top:f.top,bottom:f.bottom}:Vo}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,c=0;c<v.length-1&&!(g<v[c]);c++);var m=c?v[c-1]:0,y=v[c],b={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:m,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p),b}function it(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ji(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function ot(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function lt(e){e.display.externalMeasure=null,Vi(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ot(e.display.view[t])}function st(e){lt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function at(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ut(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ct(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=Tn(t.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=ni(t);if("local"==n?l+=Ve(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:ut());var a=s.left+("window"==n?0:at());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function ht(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=at(),i-=ut();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function ft(e,t,r,n,i){return n||(n=Zn(e.doc,t.line)),ct(e,n,Qe(e,n,t.ch,i),r)}function dt(e,t,r,n,i,o){function l(t,l){var s=tt(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,ct(e,n,s,r)}function s(e,t){var r=a[t],n=r.level%2;return e==to(r)&&t&&r.level<a[t-1].level?(r=a[--t],e=ro(r)-(r.level%2?0:1),n=!0):e==ro(r)&&t<a.length-1&&r.level<a[t+1].level&&(r=a[++t],e=to(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?l(e-1):l(e,n)}n=n||Zn(e.doc,t.line),i||(i=et(e,n));var a=ii(n),u=t.ch;if(!a)return l(u);var c=uo(a,u),h=s(u,c);return null!=os&&(h.other=s(u,os)),h}function pt(e,t){var r=0,t=ge(e.doc,t);e.options.lineWrapping||(r=bt(e.display)*t.ch);var n=Zn(e.doc,t.line),i=ni(n)+Ve(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function gt(e,t,r,n){var i=zo(e,t);return i.xRel=n,r&&(i.outside=!0),i}function vt(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,r<0)return gt(n.first,0,!0,-1);var i=ri(n,r),o=n.first+n.size-1;if(i>o)return gt(n.first+n.size-1,Zn(n,o).text.length,!0,1);t<0&&(t=0);for(var l=Zn(n,i);;){var s=mt(e,l,i,t,r),a=vn(l),u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=ti(l=u.to.line)}}function mt(e,t,r,n,i){function o(n){var i=dt(e,zo(r,n),"line",t,u);return s=!0,l>i.bottom?i.left-a:l<i.top?i.left+a:(s=!1,i.left)}var l=i-ni(t),s=!1,a=2*e.display.wrapper.clientWidth,u=et(e,t),c=ii(t),h=t.text.length,f=no(t),d=io(t),p=o(f),g=s,v=o(d),m=s;if(n>v)return gt(r,d,m,1);for(;;){if(c?d==f||d==ho(t,f,1):d-f<=1){for(var y=n<p||n-p<=v-n?f:d,b=n-(y==f?p:v);Gi(t.text.charAt(y));)++y;var w=gt(r,y,y==f?g:m,b<-1?-1:b>1?1:0);return w}var x=Math.ceil(h/2),C=f+x;if(c){C=f;for(var S=0;S<x;++S)C=ho(t,C,1)}var L=o(C);L>n?(d=C,v=L,(m=s)&&(v+=1e3),h=x):(f=C,p=L,g=s,h-=x)}}function yt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Bo){Bo=Ui("pre");for(var t=0;t<49;++t)Bo.appendChild(document.createTextNode("x")),Bo.appendChild(Ui("br"));Bo.appendChild(document.createTextNode("x"))}Ki(e.measure,Bo);var r=Bo.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),Vi(e.measure),r||1}function bt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Ui("span","xxxxxxxxxx"),r=Ui("pre",[t]);Ki(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function wt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++jo},Ko?Ko.ops.push(e.curOp):e.curOp.ownsGroup=Ko={ops:[e.curOp],delayedCallbacks:[]}}function xt(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function Ct(e){var t=e.curOp,r=t.ownsGroup;if(r)try{xt(r)}finally{Ko=null;for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;St(r)}}function St(e){for(var t=e.ops,r=0;r<t.length;r++)Lt(t[r]);for(var r=0;r<t.length;r++)Tt(t[r]);for(var r=0;r<t.length;r++)kt(t[r]);for(var r=0;r<t.length;r++)Mt(t[r]);for(var r=0;r<t.length;r++)Nt(t[r])}function Lt(e){var t=e.cm,r=t.display;k(t),e.updateMaxLine&&f(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new T(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Tt(e){e.updatedDisplay=e.mustUpdate&&M(e.cm,e.update)}function kt(e){var t=e.cm,r=t.display;e.updatedDisplay&&O(t),e.barMeasure=p(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qe(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Xe(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Ye(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Mt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ir(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&A(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&Fe(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),!e.focus||e.focus!=ji()||document.hasFocus&&!document.hasFocus()||q(e.cm)}function Nt(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&N(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==e.scrollTop||r.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||r.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-r.scroller.clientWidth,e.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,x(t)),e.scrollToPos){var i=Hr(t,ge(n,e.scrollToPos.from),ge(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Dr(t,i)}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Dl(o[s],"hide");if(l)for(var s=0;s<l.length;++s)l[s].lines.length&&Dl(l[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Dl(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Wt(e,t){if(e.curOp)return t();wt(e);try{return t()}finally{Ct(e)}}function At(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wt(e);try{return t.apply(e,arguments)}finally{Ct(e)}}}function Ot(e){return function(){if(this.curOp)return e.apply(this,arguments);wt(this);try{return e.apply(this,arguments)}finally{Ct(this)}}}function Dt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);wt(t);try{return e.apply(this,arguments)}finally{Ct(t)}}}function Ht(e,t,r){this.line=t,this.rest=bn(t),this.size=this.rest?ti(Di(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Cn(e,t)}function Pt(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new Ht(e.doc,Zn(e.doc,o),o);n=o+l.size,i.push(l)}return i}function Et(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Io&&wn(e.doc,t)<i.viewTo&&zt(e);else if(r<=i.viewFrom)Io&&xn(e.doc,r+n)>i.viewFrom?zt(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)zt(e);else if(t<=i.viewFrom){var o=Rt(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):zt(e)}else if(r>=i.viewTo){var o=Rt(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):zt(e)}else{var l=Rt(e,t,t,-1),s=Rt(e,r,r+n,1);l&&s?(i.view=i.view.slice(0,l.index).concat(Pt(e,l.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=n):zt(e)}var a=i.externalMeasured;a&&(r<a.lineN?a.lineN+=n:t<a.lineN+a.size&&(i.externalMeasured=null))}function It(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Ft(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);Hi(l,r)==-1&&l.push(r)}}}function zt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ft(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}function Rt(e,t,r,n){var i,o=Ft(e,t),l=e.display.view;if(!Io||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=0,a=e.display.viewFrom;s<o;s++)a+=l[s].size;if(a!=t){if(n>0){if(o==l.length-1)return null;i=a+l[o].size-t,o++}else i=a-t;t+=i,r+=i}for(;wn(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Bt(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=Pt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=Pt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Ft(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(Pt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Ft(e,r)))),n.viewTo=r}function Gt(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Ut(e){function t(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),l=i.activeTouch,l.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;Wl(i.scroller,"mousedown",At(e,Yt)),bo&&wo<11?Wl(i.scroller,"dblclick",At(e,function(t){if(!ki(e,t)){var r=Xt(e,t);if(r&&!Qt(e,t)&&!jt(e.display,t)){kl(t);var n=e.findWordAt(r);we(e.doc,n.anchor,n.head)}}})):Wl(i.scroller,"dblclick",function(t){ki(e,t)||kl(t)}),Po||Wl(i.scroller,"contextmenu",function(t){yr(e,t)});var o,l={end:0};Wl(i.scroller,"touchstart",function(t){if(!ki(e,t)&&!r(t)){clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),Wl(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Wl(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!jt(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new he(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new he(zo(s.line,0),ge(e.doc,zo(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),kl(r)}t()}),Wl(i.scroller,"touchcancel",t),Wl(i.scroller,"scroll",function(){i.scroller.clientHeight&&(nr(e,i.scroller.scrollTop),ir(e,i.scroller.scrollLeft,!0),Dl(e,"scroll",e))}),Wl(i.scroller,"mousewheel",function(t){or(e,t)}),Wl(i.scroller,"DOMMouseScroll",function(t){or(e,t)}),Wl(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){ki(e,t)||Nl(t)},over:function(t){ki(e,t)||(tr(e,t),Nl(t))},start:function(t){er(e,t)},drop:At(e,Jt),leave:function(){rr(e)}};var s=i.input.getField();Wl(s,"keyup",function(t){dr.call(e,t)}),Wl(s,"keydown",At(e,hr)),Wl(s,"keypress",At(e,pr)),Wl(s,"focus",Fi(vr,e)),Wl(s,"blur",Fi(mr,e))}function Vt(t,r,n){var i=n&&n!=e.Init;if(!r!=!i){var o=t.display.dragFunctions,l=r?Wl:Ol;l(t.display.scroller,"dragstart",o.start),l(t.display.scroller,"dragenter",o.enter),l(t.display.scroller,"dragover",o.over),l(t.display.scroller,"dragleave",o.leave),l(t.display.scroller,"drop",o.drop)}}function Kt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function jt(e,t){for(var r=xi(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Xt(e,t,r,n){var i=e.display;if(!r&&"true"==xi(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(e){return null}var a,u=vt(e,o,l);if(n&&1==u.xRel&&(a=Zn(e.doc,u.line).text).length==u.ch){var c=Rl(a,a.length,e.options.tabSize)-a.length;u=zo(u.line,Math.max(0,Math.round((o-je(e.display).left)/bt(e.display))-c))}return u}function Yt(e){var t=this,r=t.display;if(!(ki(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.shift=e.shiftKey,jt(r,e))return void(xo||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100)));if(!Qt(t,e)){var n=Xt(t,e);switch(window.focus(),Ci(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?_t(t,e,n):xi(e)==r.scroller&&kl(e);break;case 2:xo&&(t.state.lastMiddleDown=+new Date),n&&we(t.doc,n),setTimeout(function(){r.input.focus()},20),kl(e);break;case 3:Po?yr(t,e):gr(t)}}}}function _t(e,t,r){bo?setTimeout(Fi(q,e),0):e.curOp.focus=ji();var n,i=+new Date;Uo&&Uo.time>i-400&&0==Fo(Uo.pos,r)?n="triple":Go&&Go.time>i-400&&0==Fo(Go.pos,r)?(n="double",Uo={time:i,pos:r}):(n="single",Go={time:i,pos:r});var o,l=e.doc.sel,s=Ao?t.metaKey:t.ctrlKey;e.options.dragDrop&&Jl&&!e.isReadOnly()&&"single"==n&&(o=l.contains(r))>-1&&(Fo((o=l.ranges[o]).from(),r)<0||r.xRel>0)&&(Fo(o.to(),r)>0||r.xRel<0)?$t(e,t,r,s):qt(e,t,r,n,s)}function $t(e,t,r,n){var i=e.display,o=+new Date,l=At(e,function(s){xo&&(i.scroller.draggable=!1),e.state.draggingText=!1,Ol(document,"mouseup",l),Ol(i.scroller,"drop",l),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(kl(s),!n&&+new Date-200<o&&we(e.doc,r),xo||bo&&9==wo?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});xo&&(i.scroller.draggable=!0),e.state.draggingText=l,i.scroller.dragDrop&&i.scroller.dragDrop(),Wl(document,"mouseup",l),Wl(i.scroller,"drop",l)}function qt(e,t,r,n,i){function o(t){if(0!=Fo(v,t))if(v=t,"rect"==n){for(var i=[],o=e.options.tabSize,l=Rl(Zn(u,r.line).text,r.ch,o),s=Rl(Zn(u,t.line).text,t.ch,o),a=Math.min(l,s),d=Math.max(l,s),p=Math.min(r.line,t.line),g=Math.min(e.lastLine(),Math.max(r.line,t.line));p<=g;p++){var m=Zn(u,p).text,y=Bl(m,a,o);a==d?i.push(new he(zo(p,y),zo(p,y))):m.length>y&&i.push(new he(zo(p,y),zo(p,Bl(m,d,o))))}i.length||i.push(new he(r,r)),ke(u,fe(f.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,w=b.anchor,x=t;if("single"!=n){if("double"==n)var C=e.findWordAt(t);else var C=new he(zo(t.line,0),ge(u,zo(t.line+1,0)));Fo(C.anchor,w)>0?(x=C.head,w=$(b.from(),C.anchor)):(x=C.anchor,w=_(b.to(),C.head))}var i=f.ranges.slice(0);i[h]=new he(ge(u,w),x),ke(u,fe(i,h),zl)}}function l(t){var r=++y,i=Xt(e,t,!0,"rect"==n);if(i)if(0!=Fo(i,v)){e.curOp.focus=ji(),o(i);var s=w(a,u);(i.line>=s.to||i.line<s.from)&&setTimeout(At(e,function(){y==r&&l(t)}),150)}else{var c=t.clientY<m.top?-20:t.clientY>m.bottom?20:0;c&&setTimeout(At(e,function(){y==r&&(a.scroller.scrollTop+=c,l(t))}),50)}}function s(t){e.state.selectingText=!1,y=1/0,kl(t),a.input.focus(),Ol(document,"mousemove",b),Ol(document,"mouseup",x),u.history.lastSelOrigin=null}var a=e.display,u=e.doc;kl(t);var c,h,f=u.sel,d=f.ranges;if(i&&!t.shiftKey?(h=u.sel.contains(r),c=h>-1?d[h]:new he(r,r)):(c=u.sel.primary(),h=u.sel.primIndex),t.altKey)n="rect",i||(c=new he(r,r)),r=Xt(e,t,!0,!0),h=-1;else if("double"==n){var p=e.findWordAt(r);c=e.display.shift||u.extend?be(u,c,p.anchor,p.head):p}else if("triple"==n){var g=new he(zo(r.line,0),ge(u,zo(r.line+1,0)));c=e.display.shift||u.extend?be(u,c,g.anchor,g.head):g}else c=be(u,c,r);i?h==-1?(h=d.length,ke(u,fe(d.concat([c]),h),{scroll:!1,origin:"*mouse"})):d.length>1&&d[h].empty()&&"single"==n&&!t.shiftKey?(ke(u,fe(d.slice(0,h).concat(d.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),f=u.sel):Ce(u,h,c,zl):(h=0,ke(u,new ce([c],0),zl),f=u.sel);var v=r,m=a.wrapper.getBoundingClientRect(),y=0,b=At(e,function(e){Ci(e)?l(e):s(e)}),x=At(e,s);e.state.selectingText=x,Wl(document,"mousemove",b),Wl(document,"mouseup",x)}function Zt(e,t,r,n){try{var i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&kl(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!Ni(e,r))return wi(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i){var c=ri(e.doc,o),h=e.options.gutters[a];return Dl(e,r,e,c,h,t),wi(t)}}}function Qt(e,t){return Zt(e,t,"gutterClick",!0)}function Jt(e){var t=this;if(rr(t),!ki(t,e)&&!jt(t.display,e)){kl(e),bo&&(Xo=+new Date);var r=Xt(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=function(e,n){if(!t.options.allowDropFileTypes||Hi(t.options.allowDropFileTypes,e.type)!=-1){var s=new FileReader;s.onload=At(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++l==i){r=ge(t.doc,r);var a={from:r,to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Tr(t.doc,a),Te(t.doc,de(r,Qo(a)))}}),s.readAsText(e)}},a=0;a<i;++a)s(n[a],a);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(Ao?e.altKey:e.ctrlKey))var u=t.listSelections();if(Me(t.doc,de(r,r)),u)for(var a=0;a<u.length;++a)Or(t.doc,"",u[a].anchor,u[a].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function er(e,t){if(bo&&(!e.state.draggingText||+new Date-Xo<100))return void Nl(t);if(!ki(e,t)&&!jt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!To)){var r=Ui("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Lo&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),Lo&&r.parentNode.removeChild(r)}}function tr(e,t){var r=Xt(e,t);if(r){var n=document.createDocumentFragment();Ie(e,r,n),e.display.dragCursor||(e.display.dragCursor=Ui("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Ki(e.display.dragCursor,n)}}function rr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function nr(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,vo||W(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),vo&&W(e),Re(e,100))}function ir(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function or(e,t){var r=$o(t),n=r.x,i=r.y,o=e.display,l=o.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(n&&s||i&&a){if(i&&Ao&&xo)e:for(var u=t.target,c=o.view;u!=l;u=u.parentNode)for(var h=0;h<c.length;h++)if(c[h].node==u){e.display.currentWheelTarget=u;break e}if(n&&!vo&&!Lo&&null!=_o)return i&&a&&nr(e,Math.max(0,Math.min(l.scrollTop+i*_o,l.scrollHeight-l.clientHeight))),ir(e,Math.max(0,Math.min(l.scrollLeft+n*_o,l.scrollWidth-l.clientWidth))),(!i||i&&a)&&kl(t),void(o.wheelStartX=null);if(i&&null!=_o){var f=i*_o,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;f<0?d=Math.max(0,d+f-50):p=Math.min(e.doc.height,p+f+50),W(e,{top:d,bottom:p})}Yo<20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=l.scrollLeft-o.wheelStartX,t=l.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(_o=(_o*Yo+r)/(Yo+1),++Yo)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function lr(e,t,r){if("string"==typeof t&&(t=ul[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=El}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function sr(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=hl(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&hl(t,e.options.extraKeys,r,e)||hl(t,e.options.keyMap,r,e)}function ar(e,t,r,n){var i=e.state.keySeq;if(i){if(fl(t))return"handled";qo.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=sr(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Li(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(kl(r),Fe(e)),i&&!o&&/\'$/.test(t)?(kl(r),!0):!!o}function ur(e,t){var r=dl(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?ar(e,"Shift-"+r,t,function(t){return lr(e,t,!0)})||ar(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return lr(e,t)}):ar(e,r,t,function(t){return lr(e,t)}))}function cr(e,t,r){return ar(e,"'"+r+"'",t,function(t){return lr(e,t,!0)})}function hr(e){var t=this;if(t.curOp.focus=ji(),!ki(t,e)){bo&&wo<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=ur(t,e);Lo&&(Zo=n?r:null,!n&&88==r&&!rs&&(Ao?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||fr(t)}}function fr(e){function t(e){18!=e.keyCode&&e.altKey||(ql(r,"CodeMirror-crosshair"),Ol(document,"keyup",t),Ol(document,"mouseover",t))}var r=e.display.lineDiv;Zl(r,"CodeMirror-crosshair"),Wl(document,"keyup",t),Wl(document,"mouseover",t)}function dr(e){16==e.keyCode&&(this.doc.sel.shift=!1),ki(this,e)}function pr(e){var t=this;if(!(jt(t.display,e)||ki(t,e)||e.ctrlKey&&!e.altKey||Ao&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(Lo&&r==Zo)return Zo=null,void kl(e);if(!Lo||e.which&&!(e.which<10)||!ur(t,e)){var i=String.fromCharCode(null==n?r:n);cr(t,e,i)||t.display.input.onKeyPress(e)}}}function gr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,mr(e))},100)}function vr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Dl(e,"focus",e),e.state.focused=!0,Zl(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xo&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Fe(e))}function mr(e){e.state.delayingBlurEvent||(e.state.focused&&(Dl(e,"blur",e),e.state.focused=!1,ql(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yr(e,t){jt(e.display,t)||br(e,t)||ki(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function br(e,t){return!!Ni(e,"gutterContextMenu")&&Zt(e,t,"gutterContextMenu",!1)}function wr(e,t){if(Fo(e,t.from)<0)return e;if(Fo(e,t.to)<=0)return Qo(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Qo(t).ch-t.to.ch),zo(r,n)}function xr(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new he(wr(i.anchor,t),wr(i.head,t)))}return fe(r,e.sel.primIndex)}function Cr(e,t,r){return e.line==t.line?zo(r.line,e.ch-t.ch+r.ch):zo(r.line+(e.line-t.line),e.ch)}function Sr(e,t,r){for(var n=[],i=zo(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=Cr(s.from,i,o),u=Cr(Qo(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],h=Fo(c.head,c.anchor)<0;n[l]=new he(h?u:a,h?a:u)}else n[l]=new he(a,a)}return new ce(n,e.sel.primIndex)}function Lr(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(t,r,n,i){t&&(this.from=ge(e,t)),r&&(this.to=ge(e,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Dl(e,"beforeChange",e,n),e.cm&&Dl(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Tr(e,t,r){if(e.cm){if(!e.cm.curOp)return At(e.cm,Tr)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Ni(e,"beforeChange")||e.cm&&Ni(e.cm,"beforeChange"))||(t=Lr(e,t,!0))){var n=Eo&&!r&&an(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)kr(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else kr(e,t)}}function kr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Fo(t.from,t.to)){var r=xr(e,t);ui(e,t,r,e.cm?e.cm.curOp.id:NaN),Wr(e,t,r,on(e,t));var n=[];$n(e,function(e,r){r||Hi(n,e.history)!=-1||(bi(e.history,t),n.push(e.history)),Wr(e,t,null,on(e,t))})}}function Mr(e,t,r){if(!e.cm||!e.cm.state.suppressEdits){for(var n,i=e.history,o=e.sel,l="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,a=0;a<l.length&&(n=l[a],r?!n.ranges||n.equals(e.sel):n.ranges);a++);if(a!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;n=l.pop(),n.ranges;){if(fi(n,s),r&&!n.equals(e.sel))return void ke(e,n,{clearRedo:!1});o=n}var u=[];fi(o,s),s.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=Ni(e,"beforeChange")||e.cm&&Ni(e.cm,"beforeChange"),a=n.changes.length-1;a>=0;--a){var h=n.changes[a];if(h.origin=t,c&&!Lr(e,h,!1))return void(l.length=0);u.push(li(e,h));var f=a?xr(e,h):Di(l);Wr(e,h,f,sn(e,h)),!a&&e.cm&&e.cm.scrollIntoView({from:h.from,to:Qo(h)});var d=[];$n(e,function(e,t){t||Hi(d,e.history)!=-1||(bi(e.history,h),d.push(e.history)),Wr(e,h,null,sn(e,h))})}}}}function Nr(e,t){if(0!=t&&(e.first+=t,e.sel=new ce(Pi(e.sel.ranges,function(e){return new he(zo(e.anchor.line+t,e.anchor.ch),zo(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Et(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)It(e.cm,n,"gutter")}}function Wr(e,t,r,n){if(e.cm&&!e.cm.curOp)return At(e.cm,Wr)(e,t,r,n);if(t.to.line<e.first)return void Nr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Nr(e,i),t={from:zo(e.first,0),to:zo(t.to.line+i,t.to.ch),text:[Di(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:zo(o,Zn(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Qn(e,t.from,t.to),r||(r=xr(e,t)),e.cm?Ar(e.cm,t,n):Xn(e,t,n),Me(e,r,Il)}}function Ar(e,t,r){var n=e.doc,i=e.display,l=t.from,s=t.to,a=!1,u=l.line;e.options.lineWrapping||(u=ti(yn(Zn(n,l.line))),n.iter(u,s.line+1,function(e){if(e==i.maxLine)return a=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Mi(e),Xn(n,t,r,o(e)),e.options.lineWrapping||(n.iter(u,l.line+t.text.length,function(e){var t=h(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,l.line),Re(e,400);var c=t.text.length-(s.line-l.line)-1;t.full?Et(e):l.line!=s.line||1!=t.text.length||jn(e.doc,t)?Et(e,l.line,s.line+1,c):It(e,l.line,"text");var f=Ni(e,"changes"),d=Ni(e,"change");if(d||f){var p={from:l,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&Li(e,"change",e,p),f&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Or(e,t,r,n,i){if(n||(n=r),Fo(n,r)<0){var o=n;n=r,r=o}"string"==typeof t&&(t=e.splitLines(t)),Tr(e,{from:r,to:n,text:t,origin:i})}function Dr(e,t){if(!ki(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Mo){var o=Ui("div","​",null,"position: absolute; top: "+(t.top-r.viewOffset-Ve(e.display))+"px; height: "+(t.bottom-t.top+Xe(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function Hr(e,t,r,n){null==n&&(n=0);for(var i=0;i<5;i++){var o=!1,l=dt(e,t),s=r&&r!=t?dt(e,r):l,a=Er(e,Math.min(l.left,s.left),Math.min(l.top,s.top)-n,Math.max(l.left,s.left),Math.max(l.bottom,s.bottom)+n),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=a.scrollTop&&(nr(e,a.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=a.scrollLeft&&(ir(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return l}function Pr(e,t,r,n,i){var o=Er(e,t,r,n,i);null!=o.scrollTop&&nr(e,o.scrollTop),null!=o.scrollLeft&&ir(e,o.scrollLeft)}function Er(e,t,r,n,i){var o=e.display,l=yt(e.display);r<0&&(r=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,a=_e(e),u={};i-r>a&&(i=r+a);var c=e.doc.height+Ke(o),h=r<l,f=i>c-l;if(r<s)u.scrollTop=h?0:r;else if(i>s+a){var d=Math.min(r,(f?c:i)-a);d!=s&&(u.scrollTop=d)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=Ye(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),v=n-t>g;return v&&(n=t+g),t<10?u.scrollLeft=0:t<p?u.scrollLeft=Math.max(0,t-(v?0:10)):n>g+p-3&&(u.scrollLeft=n+(v?0:10)-g),u}function Ir(e,t,r){null==t&&null==r||Fr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+r)}function zr(e){Fr(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?zo(t.line,t.ch-1):t,n=zo(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function Fr(e){
var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=pt(e,t.from),n=pt(e,t.to),i=Er(e,Math.min(r.left,n.left),Math.min(r.top,n.top)-t.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Rr(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=Ue(e,t):r="prev");var l=e.options.tabSize,s=Zn(o,t),a=Rl(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&(u=o.mode.indent(i,s.text.slice(c.length),s.text),u==El||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?Rl(Zn(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="",f=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/l);d;--d)f+=l,h+="\t";if(f<u&&(h+=Oi(u-f)),h!=c)return Or(o,h,zo(t,0),zo(t,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var p=o.sel.ranges[d];if(p.head.line==t&&p.head.ch<c.length){var f=zo(t,c.length);Ce(o,d,new he(f,f));break}}}function Br(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Zn(e,pe(e,t)):i=ti(t),null==i?null:(n(o,i)&&e.cm&&It(e.cm,i,r),o)}function Gr(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&Fo(o.from,Di(n).to)<=0;){var l=n.pop();if(Fo(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}Wt(e,function(){for(var t=n.length-1;t>=0;t--)Or(e.doc,"",n[t].from,n[t].to,"+delete");zr(e)})}function Ur(e,t,r,n,i){function o(){var t=s+r;return!(t<e.first||t>=e.first+e.size)&&(s=t,c=Zn(e,t))}function l(e){var t=(i?ho:fo)(c,a,r,!0);if(null==t){if(e||!o())return!1;a=i?(r<0?io:no)(c):r<0?c.text.length:0}else a=t;return!0}var s=t.line,a=t.ch,u=r,c=Zn(e,s);if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var h=null,f="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(r<0)||l(!p);p=!1){var g=c.text.charAt(a)||"\n",v=Ri(g,d)?"w":f&&"\n"==g?"n":!f||/\s/.test(g)?null:"p";if(!f||p||v||(v="s"),h&&h!=v){r<0&&(r=1,l());break}if(v&&(h=v),r>0&&!l(!p))break}var m=De(e,zo(s,a),t,u,!0);return Fo(t,m)||(m.hitSide=!0),m}function Vr(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+r*(s-(r<0?1.5:.5)*yt(e.display))}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;;){var a=vt(e,l,i);if(!a.outside)break;if(r<0?i<=0:i>=o.height){a.hitSide=!0;break}i+=5*r}return a}function Kr(t,r,n,i){e.defaults[t]=r,n&&(el[t]=i?function(e,t,r){r!=tl&&n(e,t,r)}:n)}function jr(e){for(var t,r,n,i,o=e.split(/-(?!$)/),e=o[o.length-1],l=0;l<o.length-1;l++){var s=o[l];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Xr(e){return"string"==typeof e?cl[e]:e}function Yr(e,t,r,n,i){if(n&&n.shared)return _r(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return At(e.cm,Yr)(e,t,r,n,i);var o=new vl(e,i),l=Fo(t,r);if(n&&zi(n,o,!1),l>0||0==l&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Ui("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(mn(e,t.line,t,r,o)||t.line!=r.line&&mn(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Io=!0}o.addToHistory&&ui(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,a=t.line,u=e.cm;if(e.iter(a,r.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&yn(e)==u.display.maxLine&&(s=!0),o.collapsed&&a!=t.line&&ei(e,0),tn(e,new Qr(o,a==t.line?t.ch:null,a==r.line?r.ch:null)),++a}),o.collapsed&&e.iter(t.line,r.line+1,function(t){Cn(e,t)&&ei(t,0)}),o.clearOnEnter&&Wl(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Eo=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++gl,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Et(u,t.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=r.line;c++)It(u,c,"text");o.atomic&&We(u.doc),Li(u,"markerAdded",u,o)}return o}function _r(e,t,r,n,i){n=zi(n),n.shared=!1;var o=[Yr(e,t,r,n,i)],l=o[0],s=n.widgetNode;return $n(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(Yr(e,ge(e,t),ge(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=Di(o)}),new ml(o,l)}function $r(e){return e.findMarks(zo(e.first,0),e.clipPos(zo(e.lastLine())),function(e){return e.parent})}function qr(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(Fo(o,l)){var s=Yr(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function Zr(e){for(var t=0;t<e.length;t++){var r=e[t],n=[r.primary.doc];$n(r.primary.doc,function(e){n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];Hi(n,o.doc)==-1&&(o.parent=null,r.markers.splice(i--,1))}}}function Qr(e,t,r){this.marker=e,this.from=t,this.to=r}function Jr(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function en(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function tn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function rn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Qr(l,o.from,a?null:o.to))}}return n}function nn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Qr(l,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}function on(e,t){if(t.full)return null;var r=me(e,t.from.line)&&Zn(e,t.from.line).markedSpans,n=me(e,t.to.line)&&Zn(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==Fo(t.from,t.to),s=rn(r,i,l),a=nn(n,o,l),u=1==t.text.length,c=Di(t.text).length+(u?i:0);if(s)for(var h=0;h<s.length;++h){var f=s[h];if(null==f.to){var d=Jr(a,f.marker);d?u&&(f.to=null==d.to?null:d.to+c):f.to=i}}if(a)for(var h=0;h<a.length;++h){var f=a[h];if(null!=f.to&&(f.to+=c),null==f.from){var d=Jr(s,f.marker);d||(f.from=c,u&&(s||(s=[])).push(f))}else f.from+=c,u&&(s||(s=[])).push(f)}s&&(s=ln(s)),a&&a!=s&&(a=ln(a));var p=[s];if(!u){var g,v=t.text.length-2;if(v>0&&s)for(var h=0;h<s.length;++h)null==s[h].to&&(g||(g=[])).push(new Qr(s[h].marker,null,null));for(var h=0;h<v;++h)p.push(g);p.push(a)}return p}function ln(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function sn(e,t){var r=gi(e,t),n=on(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function an(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&Hi(n,r)!=-1||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(Fo(u.to,s.from)<0||Fo(u.from,s.to)>0)){var c=[a,1],h=Fo(u.from,s.from),f=Fo(u.to,s.to);(h<0||!l.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(f>0||!l.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-1}}return i}function un(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function cn(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function hn(e){return e.inclusiveLeft?-1:0}function fn(e){return e.inclusiveRight?1:0}function dn(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=Fo(n.from,i.from)||hn(e)-hn(t);if(o)return-o;var l=Fo(n.to,i.to)||fn(e)-fn(t);return l?l:t.id-e.id}function pn(e,t){var r,n=Io&&e.markedSpans;if(n)for(var i,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||dn(r,i.marker)<0)&&(r=i.marker);return r}function gn(e){return pn(e,!0)}function vn(e){return pn(e,!1)}function mn(e,t,r,n,i){var o=Zn(e,t),l=Io&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=Fo(u.from,r)||hn(a.marker)-hn(i),h=Fo(u.to,n)||fn(a.marker)-fn(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(Fo(u.to,r)>0||a.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Fo(u.from,n)<0||a.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function yn(e){for(var t;t=gn(e);)e=t.find(-1,!0).line;return e}function bn(e){for(var t,r;t=vn(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function wn(e,t){var r=Zn(e,t),n=yn(r);return r==n?t:ti(n)}function xn(e,t){if(t>e.lastLine())return t;var r,n=Zn(e,t);if(!Cn(e,n))return t;for(;r=vn(n);)n=r.find(1,!0).line;return ti(n)+1}function Cn(e,t){var r=Io&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Sn(e,t,n))return!0}}function Sn(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return Sn(e,n.line,Jr(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Sn(e,t,i))return!0}function Ln(e,t,r){ni(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ir(e,null,r)}function Tn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Yl(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),Ki(t.display.measure,Ui("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function kn(e,t,r,n){var i=new yl(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Br(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Cn(e,t)){var n=ni(t)<e.scrollTop;ei(t,t.height+Tn(i)),n&&Ir(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Mn(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),un(e),cn(e,r);var i=n?n(e):1;i!=e.height&&ei(e,i)}function Nn(e){e.parent=null,un(e)}function Wn(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function An(t,r){if(t.blankLine)return t.blankLine(r);if(t.innerMode){var n=e.innerMode(t,r);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function On(t,r,n,i){for(var o=0;o<10;o++){i&&(i[0]=e.innerMode(t,n).mode);var l=t.token(r,n);if(r.pos>r.start)return l}throw new Error("Mode "+t.name+" failed to advance stream.")}function Dn(e,t,r,n){function i(e){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:e?sl(l.mode,c):c}}var o,l=e.doc,s=l.mode;t=ge(l,t);var a,u=Zn(l,t.line),c=Ue(e,t.line,r),h=new pl(u.text,e.options.tabSize);for(n&&(a=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,o=On(s,h,c),n&&a.push(i(!0));return n?a:i()}function Hn(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,h=new pl(t,e.options.tabSize),f=e.options.addModeClass&&[null];for(""==t&&Wn(An(r,n),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,l&&In(e,t,n,h.pos),h.pos=t.length,a=null):a=Wn(On(r,h,n,f),o),f){var d=f[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<h.start;)u=Math.min(h.start,u+5e4),i(u,c);c=a}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e4);i(p,c),u=p}}function Pn(e,t,r,n){var i=[e.state.modeGen],o={};Hn(e,t.text,e.doc.mode,r,function(e,t){i.push(e,t)},o,n);for(var l=0;l<e.state.overlays.length;++l){var s=e.state.overlays[l],a=1,u=0;Hn(e,t.text,s.mode,!0,function(e,t){for(var r=a;u<e;){var n=i[a];n>e&&i.splice(a,1,e,i[a+1],n),a+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,a-r,e,"cm-overlay "+t),a=r+2;else for(;r<a;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function En(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Ue(e,ti(t)),i=Pn(e,t,t.text.length>e.options.maxHighlightLength?sl(e.doc.mode,n):n);t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++}return t.styles}function In(e,t,r,n){var i=e.doc.mode,o=new pl(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&An(i,r);!o.eol();)On(i,o,r),o.start=o.pos}function zn(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?xl:wl;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Fn(e,t){var r=Ui("span",null,null,xo?"padding-right: .1px":null),n={pre:Ui("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,splitSpaces:(bo||xo)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,l=i?t.rest[i-1]:t.line;n.pos=0,n.addToken=Bn,Qi(e.display.measure)&&(o=ii(l))&&(n.addToken=Un(n.addToken,o)),n.map=[];var s=t!=e.display.externalMeasured&&ti(l);Kn(l,n,En(e,l,s)),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=Yi(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=Yi(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Zi(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return xo&&/\bcm-tab\b/.test(n.content.lastChild.className)&&(n.content.className="cm-tab-wrap-hack"),Dl(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Yi(n.pre.className,n.textClass||"")),n}function Rn(e){var t=Ui("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Bn(e,t,r,n,i,o,l){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Gn):t,a=e.cm.state.specialChars,u=!1;if(a.test(t))for(var c=document.createDocumentFragment(),h=0;;){a.lastIndex=h;var f=a.exec(t),d=f?f.index-h:t.length-h;if(d){var p=document.createTextNode(s.slice(h,h+d));bo&&wo<9?c.appendChild(Ui("span",[p])):c.appendChild(p),e.map.push(e.pos,e.pos+d,p),e.col+=d,e.pos+=d}if(!f)break;if(h+=d+1,"\t"==f[0]){var g=e.cm.options.tabSize,v=g-e.col%g,p=c.appendChild(Ui("span",Oi(v),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),e.col+=v}else if("\r"==f[0]||"\n"==f[0]){var p=c.appendChild(Ui("span","\r"==f[0]?"␍":"␤","cm-invalidchar"));p.setAttribute("cm-text",f[0]),e.col+=1}else{var p=e.cm.options.specialCharPlaceholder(f[0]);p.setAttribute("cm-text",f[0]),bo&&wo<9?c.appendChild(Ui("span",[p])):c.appendChild(p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var c=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,c),bo&&wo<9&&(u=!0),e.pos+=t.length}if(r||n||i||u||l){var m=r||"";n&&(m+=n),i&&(m+=i);var y=Ui("span",[c],m,l);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(c)}}function Gn(e){for(var t=" ",r=0;r<e.length-2;++r)t+=r%2?" ":" ";return t+=" "}function Un(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var h=0;h<t.length;h++){var f=t[h];if(f.to>u&&f.from<=u)break}if(f.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,f.to-u),i,o,null,s,a),o=null,n=n.slice(f.to-u),u=f.to}}}function Vn(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function Kn(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,h,f,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=h=s="",f=null,m=1/0;for(var y,b=[],w=0;w<n.length;++w){var x=n[w],C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?b.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(y||(y=[])).push(C.endStyle,x.to),C.title&&!h&&(h=C.title),C.collapsed&&(!f||dn(f.marker,C)<0)&&(f=x)):x.from>p&&m>x.from&&(m=x.from)}if(y)for(var w=0;w<y.length;w+=2)y[w+1]==m&&(u+=" "+y[w]);if(!f||f.from==p)for(var w=0;w<b.length;++w)Vn(t,0,b[w]);if(f&&(f.from||0)==p){if(Vn(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var S=Math.min(d,m);;){if(v){var L=p+v.length;if(!f){var T=L>S?v.slice(0,S-p):v;t.addToken(t,T,l?l+a:a,c,p+T.length==m?u:"",h,s)}if(L>=S){v=v.slice(S-p),p=S;break}p=L,c=""}v=i.slice(o,o=r[g++]),l=zn(r[g++],t.cm.options)}}else for(var g=1;g<r.length;g+=2)t.addToken(t,i.slice(o,o=r[g]),zn(r[g+1],t.cm.options))}function jn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Di(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Xn(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){Mn(e,r,i,n),Li(e,"change",e,t)}function l(e,t){for(var r=e,o=[];r<t;++r)o.push(new bl(u[r],i(r),n));return o}var s=t.from,a=t.to,u=t.text,c=Zn(e,s.line),h=Zn(e,a.line),f=Di(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(jn(e,t)){var g=l(0,u.length-1);o(h,h.text,d),p&&e.remove(s.line,p),g.length&&e.insert(s.line,g)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,s.ch)+f+c.text.slice(a.ch),d);else{var g=l(1,u.length-1);g.push(new bl(f+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(h,f+h.text.slice(a.ch),d);var g=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,g)}Li(e,"change",e,t)}function Yn(e){this.lines=e,this.parent=null;for(var t=0,r=0;t<e.length;++t)e[t].parent=this,r+=e[t].height;this.height=r}function _n(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function $n(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function qn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,l(e),r(e),e.options.lineWrapping||f(e),e.options.mode=t.modeOption,Et(e)}function Zn(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function Qn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function Jn(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function ei(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function ti(e){if(null==e.parent)return null;for(var t=e.parent,r=Hi(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function ri(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var n=0;n<e.lines.length;++n){var l=e.lines[n],s=l.height;if(t<s)break;t-=s}return r+n}function ni(e){e=yn(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var n=0;n<o.children.length;++n){var l=o.children[n];if(l==r)break;t+=l.height}return t}function ii(e){var t=e.order;return null==t&&(t=e.order=ls(e.text)),t}function oi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function li(e,t){var r={from:Y(t.from),to:Qo(t),text:Qn(e,t.from,t.to)};return di(e,r,t.from.line,t.to.line+1),$n(e,function(e){di(e,r,t.from.line,t.to.line+1)},!0),r}function si(e){for(;e.length;){var t=Di(e);if(!t.ranges)break;e.pop()}}function ai(e,t){return t?(si(e.done),Di(e.done)):e.done.length&&!Di(e.done).ranges?Di(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Di(e.done)):void 0}function ui(e,t,r,n){var i=e.history;i.undone.length=0;var o,l=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>l-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ai(i,i.lastOp==n))){var s=Di(o.changes);0==Fo(t.from,t.to)&&0==Fo(t.from,s.to)?s.to=Qo(t):o.changes.push(li(e,t))}else{var a=Di(i.done);for(a&&a.ranges||fi(e.sel,i.done),o={changes:[li(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,s||Dl(e,"historyAdded")}function ci(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function hi(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ci(e,o,Di(i.done),t))?i.done[i.done.length-1]=t:fi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&si(i.undone)}function fi(e,t){var r=Di(t);r&&r.ranges&&r.equals(e)||t.push(e)}function di(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function pi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function gi(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(pi(r[n]));return i}function vi(e,t,r){for(var n=0,i=[];n<e.length;++n){var o=e[n];if(o.ranges)i.push(r?ce.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];i.push({changes:s});for(var a=0;a<l.length;++a){var u,c=l[a];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&Hi(t,Number(u[1]))>-1&&(Di(s)[h]=c[h],delete c[h])}}}return i}function mi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function yi(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)mi(o.ranges[s].anchor,t,r,n),mi(o.ranges[s].head,t,r,n)}else{for(var s=0;s<o.changes.length;++s){var a=o.changes[s];if(r<a.from.line)a.from=zo(a.from.line+n,a.from.ch),a.to=zo(a.to.line+n,a.to.ch);else if(t<=a.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function bi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;yi(e.done,r,n,i),yi(e.undone,r,n,i)}function wi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xi(e){return e.target||e.srcElement}function Ci(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ao&&e.ctrlKey&&1==t&&(t=3),t}function Si(e,t,r){var n=e._handlers&&e._handlers[t];return r?n&&n.length>0?n.slice():Al:n||Al}function Li(e,t){function r(e){return function(){e.apply(null,o)}}var n=Si(e,t,!1);if(n.length){var i,o=Array.prototype.slice.call(arguments,2);Ko?i=Ko.delayedCallbacks:Hl?i=Hl:(i=Hl=[],setTimeout(Ti,0));for(var l=0;l<n.length;++l)i.push(r(n[l]))}}function Ti(){var e=Hl;Hl=null;for(var t=0;t<e.length;++t)e[t]()}function ki(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Dl(e,r||t.type,e,t),wi(t)||t.codemirrorIgnore}function Mi(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)Hi(r,t[n])==-1&&r.push(t[n])}function Ni(e,t){return Si(e,t).length>0}function Wi(e){e.prototype.on=function(e,t){Wl(this,e,t)},e.prototype.off=function(e,t){Ol(this,e,t)}}function Ai(){this.id=null}function Oi(e){for(;Gl.length<=e;)Gl.push(Di(Gl)+" ");return Gl[e]}function Di(e){return e[e.length-1]}function Hi(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function Pi(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Ei(){}function Ii(e,t){var r;return Object.create?r=Object.create(e):(Ei.prototype=e,r=new Ei),t&&zi(t,r),r}function zi(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function Fi(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Ri(e,t){return t?!!(t.source.indexOf("\\w")>-1&&jl(e))||t.test(e):jl(e)}function Bi(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Gi(e){return e.charCodeAt(0)>=768&&Xl.test(e)}function Ui(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Vi(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Ki(e,t){return Vi(e).appendChild(t)}function ji(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Xi(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Yi(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!Xi(r[n]).test(t)&&(t+=" "+r[n]);return t}function _i(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function $i(){Ql||(qi(),Ql=!0)}function qi(){var e;Wl(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,_i(Kt)},100))}),Wl(window,"blur",function(){_i(mr)})}function Zi(e){if(null==_l){var t=Ui("span","​");Ki(e,Ui("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(_l=t.offsetWidth<=1&&t.offsetHeight>2&&!(bo&&wo<8))}var r=_l?Ui("span","​"):Ui("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Qi(e){if(null!=$l)return $l;var t=Ki(e,document.createTextNode("AخA")),r=Vl(t,0,1).getBoundingClientRect();if(!r||r.left==r.right)return!1;var n=Vl(t,1,2).getBoundingClientRect();return $l=n.right-r.right<3}function Ji(e){if(null!=ns)return ns;var t=Ki(e,Ui("span","x")),r=t.getBoundingClientRect(),n=Vl(t,0,1).getBoundingClientRect();return ns=Math.abs(r.left-n.left)>1}function eo(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function to(e){return e.level%2?e.to:e.from}function ro(e){return e.level%2?e.from:e.to}function no(e){var t=ii(e);return t?to(t[0]):0}function io(e){var t=ii(e);return t?ro(Di(t)):e.text.length}function oo(e,t){var r=Zn(e.doc,t),n=yn(r);n!=r&&(t=ti(n));var i=ii(n),o=i?i[0].level%2?io(n):no(n):0;return zo(t,o)}function lo(e,t){for(var r,n=Zn(e.doc,t);r=vn(n);)n=r.find(1,!0).line,t=null;var i=ii(n),o=i?i[0].level%2?no(n):io(n):n.text.length;return zo(null==t?ti(n):t,o)}function so(e,t){var r=oo(e,t.line),n=Zn(e.doc,r.line),i=ii(n);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return zo(r.line,l?0:o)}return r}function ao(e,t,r){var n=e[0].level;return t==n||r!=n&&t<r}function uo(e,t){os=null;for(var r,n=0;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return ao(e,i.level,e[r].level)?(i.from!=i.to&&(os=r),n):(i.from!=i.to&&(os=n),r);r=n}}return r}function co(e,t,r,n){if(!n)return t+r;do t+=r;while(t>0&&Gi(e.text.charAt(t)));return t}function ho(e,t,r,n){var i=ii(e);if(!i)return fo(e,t,r,n);for(var o=uo(i,t),l=i[o],s=co(e,t,l.level%2?-r:r,n);;){if(s>l.from&&s<l.to)return s;if(s==l.from||s==l.to)return uo(i,s)==o?s:(l=i[o+=r],r>0==l.level%2?l.to:l.from);if(l=i[o+=r],!l)return null;s=r>0==l.level%2?co(e,l.to,-1,n):co(e,l.from,1,n)}}function fo(e,t,r,n){var i=t+r;if(n)for(;i>0&&Gi(e.text.charAt(i));)i+=r;return i<0||i>e.text.length?null:i}var po=navigator.userAgent,go=navigator.platform,vo=/gecko\/\d/i.test(po),mo=/MSIE \d/.test(po),yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(po),bo=mo||yo,wo=bo&&(mo?document.documentMode||6:yo[1]),xo=/WebKit\//.test(po),Co=xo&&/Qt\/\d+\.\d+/.test(po),So=/Chrome\//.test(po),Lo=/Opera\//.test(po),To=/Apple Computer/.test(navigator.vendor),ko=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(po),Mo=/PhantomJS/.test(po),No=/AppleWebKit/.test(po)&&/Mobile\/\w+/.test(po),Wo=No||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(po),Ao=No||/Mac/.test(go),Oo=/win/i.test(go),Do=Lo&&po.match(/Version\/(\d*\.\d*)/);Do&&(Do=Number(Do[1])),Do&&Do>=15&&(Lo=!1,xo=!0);var Ho=Ao&&(Co||Lo&&(null==Do||Do<12.11)),Po=vo||bo&&wo>=9,Eo=!1,Io=!1;g.prototype=zi({update:function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Ao&&!ko?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ai,this.disableVert=new Ai},enableZeroWidthBar:function(e,t){function r(){var n=e.getBoundingClientRect(),i=document.elementFromPoint(n.left+1,n.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},g.prototype),v.prototype=zi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},v.prototype),e.scrollbarModel={native:g,null:v},T.prototype.signal=function(e,t){Ni(e,t)&&this.events.push(arguments)},T.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Dl.apply(null,this.events[e])};var zo=e.Pos=function(e,t){
return this instanceof zo?(this.line=e,void(this.ch=t)):new zo(e,t)},Fo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Ro=null;re.prototype=zi({init:function(e){function t(e){if(!ki(n,e)){if(n.somethingSelected())Ro=n.getSelections(),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,o.value=Ro.join("\n"),Ul(o));else{if(!n.options.lineWiseCopyCut)return;var t=ee(n);Ro=t.text,"cut"==e.type?n.setSelections(t.ranges,null,Il):(r.prevInput="",o.value=t.text.join("\n"),Ul(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}}var r=this,n=this.cm,i=this.wrapper=ne(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),No&&(o.style.width="0px"),Wl(o,"input",function(){bo&&wo>=9&&r.hasSelection&&(r.hasSelection=null),r.poll()}),Wl(o,"paste",function(e){ki(n,e)||Q(e,n)||(n.state.pasteIncoming=!0,r.fastPoll())}),Wl(o,"cut",t),Wl(o,"copy",t),Wl(e.scroller,"paste",function(t){jt(e,t)||ki(n,t)||(n.state.pasteIncoming=!0,r.focus())}),Wl(e.lineSpace,"selectstart",function(t){jt(e,t)||kl(t)}),Wl(o,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Wl(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,r=e.doc,n=Ee(e);if(e.options.moveInputWithCursor){var i=dt(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},showSelection:function(e){var t=this.cm,r=t.display;Ki(r.cursorDiv,e.cursors),Ki(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=rs&&(o.to().line-o.from().line>100||(r=n.getSelection()).length>1e3);var l=t?"-":r||n.getSelection();this.textarea.value=l,n.state.focused&&Ul(this.textarea),bo&&wo>=9&&(this.hasSelection=l)}else e||(this.prevInput=this.textarea.value="",bo&&wo>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Wo||ji()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var n=r.poll();n||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||ts(t)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==r&&!e.somethingSelected())return!1;if(bo&&wo>=9&&this.hasSelection===n||Ao&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=n.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,l=Math.min(r.length,n.length);o<l&&r.charCodeAt(o)==n.charCodeAt(o);)++o;var s=this;return Wt(e,function(){Z(e,n.slice(o),r.length-o,null,s.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=n,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&wo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t="​"+(e?l.value:"");l.value="⇚",l.value=t,n.prevInput=e?"":"​",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=h,l.style.cssText=c,bo&&wo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart){(!bo||bo&&wo<9)&&t();var e=0,r=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?At(i,ul.selectAll)(i):e++<10?o.detectingSelectAll=setTimeout(r,500):o.input.reset()};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea,s=Xt(i,e),a=o.scroller.scrollTop;if(s&&!Lo){var u=i.options.resetSelectionOnContextMenu;u&&i.doc.sel.contains(s)==-1&&At(i,ke)(i.doc,de(s),Il);var c=l.style.cssText,h=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var f=n.wrapper.getBoundingClientRect();if(l.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",xo)var d=window.scrollY;if(o.input.focus(),xo&&window.scrollTo(null,d),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),bo&&wo>=9&&t(),Po){Nl(e);var p=function(){Ol(window,"mouseup",p),setTimeout(r,20)};Wl(window,"mouseup",p)}else setTimeout(r,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Ei,needsContentAttribute:!1},re.prototype),ie.prototype=zi({init:function(e){function t(e){if(!ki(n,e)){if(n.somethingSelected())Ro=n.getSelections(),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=ee(n);Ro=t.text,"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,Il),n.replaceSelection("",null,"cut")})}if(e.clipboardData&&!No)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Ro.join("\n"));else{var r=ne(),i=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),i.value=Ro.join("\n");var o=document.activeElement;Ul(i),setTimeout(function(){n.display.lineSpace.removeChild(r),o.focus()},50)}}}var r=this,n=r.cm,i=r.div=e.lineDiv;te(i),Wl(i,"paste",function(e){ki(n,e)||Q(e,n)}),Wl(i,"compositionstart",function(e){var t=e.data;if(r.composing={sel:n.doc.sel,data:t,startData:t},t){var i=n.doc.sel.primary(),o=n.getLine(i.head.line),l=o.indexOf(t,Math.max(0,i.head.ch-t.length));l>-1&&l<=i.head.ch&&(r.composing.sel=de(zo(i.head.line,l),zo(i.head.line,l+t.length)))}}),Wl(i,"compositionupdate",function(e){r.composing.data=e.data}),Wl(i,"compositionend",function(e){var t=r.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||r.applyComposition(t),r.composing==t&&(r.composing=null)},50))}),Wl(i,"touchstart",function(){r.forceCompositionEnd()}),Wl(i,"input",function(){r.composing||!n.isReadOnly()&&r.pollContent()||Wt(r.cm,function(){Et(n)})}),Wl(i,"copy",t),Wl(i,"cut",t)},prepareSelection:function(){var e=Ee(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=se(this.cm,e.anchorNode,e.anchorOffset),n=se(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=Fo($(r,n),t.from())||0!=Fo(_(r,n),t.to())){var i=oe(this.cm,t.from()),o=oe(this.cm,t.to());if(i||o){var l=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var a=l[l.length-1].measure,u=a.maps?a.maps[a.maps.length-1]:a.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:l[0].measure.map[2],offset:0};try{var c=Vl(i.node,i.offset,o.offset,o.node)}catch(e){}c&&(!vo&&this.cm.state.focused?(e.collapse(i.node,i.offset),c.collapsed||e.addRange(c)):(e.removeAllRanges(),e.addRange(c)),s&&null==e.anchorNode?e.addRange(s):vo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Ki(this.cm.display.cursorDiv,e.cursors),Ki(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Yl(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Wt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var r=se(t,e.anchorNode,e.anchorOffset),n=se(t,e.focusNode,e.focusOffset);r&&n&&Wt(t,function(){ke(t.doc,de(r,n),Il),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o;if(n.line==t.viewFrom||0==(o=Ft(e,n.line)))var l=ti(t.view[0].line),s=t.view[0].node;else var l=ti(t.view[o].line),s=t.view[o-1].node.nextSibling;var a=Ft(e,i.line);if(a==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=ti(t.view[a+1].line)-1,c=t.view[a+1].node.previousSibling;for(var h=e.doc.splitLines(ue(e,s,c,l,u)),f=Qn(e.doc,zo(l,0),zo(u,Zn(e.doc,u).text.length));h.length>1&&f.length>1;)if(Di(h)==Di(f))h.pop(),f.pop(),u--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),l++}for(var d=0,p=0,g=h[0],v=f[0],m=Math.min(g.length,v.length);d<m&&g.charCodeAt(d)==v.charCodeAt(d);)++d;for(var y=Di(h),b=Di(f),w=Math.min(y.length-(1==h.length?d:0),b.length-(1==f.length?d:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;h[h.length-1]=y.slice(0,y.length-p),h[0]=h[0].slice(d);var x=zo(l,d),C=zo(u,f.length?Di(f).length-p:0);return h.length>1||h[0]||Fo(x,C)?(Or(e.doc,h,x,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?At(this.cm,Et)(this.cm):e.data&&e.data!=e.startData&&At(this.cm,Z)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||At(this.cm,Z)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Ei,resetPosition:Ei,needsContentAttribute:!0},ie.prototype),e.inputStyles={textarea:re,contenteditable:ie},ce.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(0!=Fo(r.anchor,n.anchor)||0!=Fo(r.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new he(Y(this.ranges[t].anchor),Y(this.ranges[t].head));return new ce(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Fo(t,n.from())>=0&&Fo(e,n.to())<=0)return r}return-1}},he.prototype={from:function(){return $(this.anchor,this.head)},to:function(){return _(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Bo,Go,Uo,Vo={left:0,right:0,top:0,bottom:0},Ko=null,jo=0,Xo=0,Yo=0,_o=null;bo?_o=-.53:vo?_o=15:So?_o=-.7:To&&(_o=-1/3);var $o=function(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}};e.wheelEventPixels=function(e){var t=$o(e);return t.x*=_o,t.y*=_o,t};var qo=new Ai,Zo=null,Qo=e.changeEnd=function(e){return e.text?zo(e.from.line+e.text.length-1,Di(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];r[e]==t&&"mode"!=e||(r[e]=t,el.hasOwnProperty(e)&&At(this,el[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Xr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Ot(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:r&&r.opaque}),this.state.modeGen++,Et(this)}),removeOverlay:Ot(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Et(this)}}),indentLine:Ot(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),me(this.doc,e)&&Rr(this,e,t,r)}),indentSelection:Ot(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Rr(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&zr(this));else{var o=i.from(),l=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1;for(var a=s;a<r;++a)Rr(this,a,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[n].from().ch>0&&Ce(this.doc,n,new he(o,u[n].to()),Il)}}}),getTokenAt:function(e,t){return Dn(this,e,t)},getLineTokens:function(e,t){return Dn(this,zo(e),t,!0)},getTokenTypeAt:function(e){e=ge(this.doc,e);var t,r=En(this,Zn(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("cm-overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!ll.hasOwnProperty(t))return r;var n=ll[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var l=n[i[t][o]];l&&r.push(l)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var o=0;o<n._global.length;o++){var s=n._global[o];s.pred(i,this)&&Hi(r,s.val)==-1&&r.push(s.val)}return r},getStateAfter:function(e,t){var r=this.doc;return e=pe(r,null==e?r.first+r.size-1:e),Ue(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?ge(this.doc,e):e?n.from():n.to(),dt(this,r,t||"page")},charCoords:function(e,t){return ft(this,ge(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ht(this,e,t||"page"),vt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ht(this,{top:e,left:0},t||"page").top,ri(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r,n=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,n=!0),r=Zn(this.doc,e)}else r=e;return ct(this,r,{top:0,left:0},t||"page").top+(n?this.doc.height-ni(r):0)},defaultTextHeight:function(){return yt(this.display)},defaultCharWidth:function(){return bt(this.display)},setGutterMarker:Ot(function(e,t,r){return Br(this.doc,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&Bi(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Ot(function(e){var t=this,r=t.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,It(t,n,"gutter"),Bi(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!me(this.doc,e))return null;var t=e;if(e=Zn(this.doc,e),!e)return null}else{var t=ti(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=dt(this,ge(this.doc,e));var l=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&Pr(this,s,l,s+t.offsetWidth,l+t.offsetHeight)},triggerOnKeyDown:Ot(hr),triggerOnKeyPress:Ot(pr),triggerOnKeyUp:dr,execCommand:function(e){if(ul.hasOwnProperty(e))return ul[e].call(null,this)},triggerElectric:Ot(function(e){J(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=0,l=ge(this.doc,e);o<t&&(l=Ur(this.doc,l,i,r,n),!l.hitSide);++o);return l},moveH:Ot(function(e,t){var r=this;r.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Ur(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},Fl)}),deleteH:Ot(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Gr(this,function(r){var i=Ur(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var l=0,s=ge(this.doc,e);l<t;++l){var a=dt(this,s,"div");if(null==o?o=a.left:a.left=o,s=Vr(this,a,i,r),s.hitSide)break}return s},moveV:Ot(function(e,t){var r=this,n=this.doc,i=[],o=!r.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=dt(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=Vr(r,s,e,t);return"page"==t&&l==n.sel.primary()&&Ir(r,null,ft(r,a,"div").top-s.top),a},Fl),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=this.doc,r=Zn(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==r.length)&&n?--n:++i;for(var l=r.charAt(n),s=Ri(l,o)?function(e){return Ri(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Ri(e)};n>0&&s(r.charAt(n-1));)--n;for(;i<r.length&&s(r.charAt(i));)++i}return new he(zo(e.line,n),zo(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Zl(this.display.cursorDiv,"CodeMirror-overwrite"):ql(this.display.cursorDiv,"CodeMirror-overwrite"),Dl(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ji()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ot(function(e,t){null==e&&null==t||Fr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Xe(this)-this.display.barHeight,width:e.scrollWidth-Xe(this)-this.display.barWidth,clientHeight:_e(this),clientWidth:Ye(this)}},scrollIntoView:Ot(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:zo(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Fr(this),this.curOp.scrollToPos=e;else{var r=Er(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:Ot(function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&lt(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){It(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,Dl(n,"refresh",this)}),operation:function(e){return Wt(this,e)},refresh:Ot(function(){var e=this.display.cachedTextHeight;Et(this),this.curOp.forceUpdate=!0,st(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-yt(this.display))>.5)&&l(this),Dl(this,"refresh",this)}),swapDoc:Ot(function(e){var t=this.doc;return t.cm=null,qn(this,e),st(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Li(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Wi(e);var Jo=e.defaults={},el=e.optionHandlers={},tl=e.Init={toString:function(){return"CodeMirror.Init"}};Kr("value","",function(e,t){e.setValue(t)},!0),Kr("mode",null,function(e,t){e.doc.modeOption=t,r(e)},!0),Kr("indentUnit",2,r,!0),Kr("indentWithTabs",!1),Kr("smartIndent",!0),Kr("tabSize",4,function(e){n(e),st(e),Et(e)},!0),Kr("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(o==-1)break;i=o+t.length,r.push(zo(n,o))}n++});for(var i=r.length-1;i>=0;i--)Or(e.doc,t,r[i],zo(r[i].line,r[i].ch+t.length))}}),Kr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,r,n){t.state.specialChars=new RegExp(r.source+(r.test("\t")?"":"|\t"),"g"),n!=e.Init&&t.refresh()}),Kr("specialCharPlaceholder",Rn,function(e){e.refresh()},!0),Kr("electricChars",!0),Kr("inputStyle",Wo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Kr("rtlMoveVisually",!Oo),Kr("wholeLineUpdateBefore",!0),Kr("theme","default",function(e){s(e),a(e)},!0),Kr("keyMap","default",function(t,r,n){var i=Xr(r),o=n!=e.Init&&Xr(n);o&&o.detach&&o.detach(t,i),i.attach&&i.attach(t,o||null)}),Kr("extraKeys",null),Kr("lineWrapping",!1,i,!0),Kr("gutters",[],function(e){d(e.options),a(e)},!0),Kr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?L(e.display)+"px":"0",e.refresh()},!0),Kr("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),Kr("scrollbarStyle","native",function(e){m(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Kr("lineNumbers",!1,function(e){d(e.options),a(e)},!0),Kr("firstLineNumber",1,a,!0),Kr("lineNumberFormatter",function(e){return e},a,!0),Kr("showCursorWhenSelecting",!1,Pe,!0),Kr("resetSelectionOnContextMenu",!0),Kr("lineWiseCopyCut",!0),Kr("readOnly",!1,function(e,t){"nocursor"==t?(mr(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),Kr("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Kr("dragDrop",!0,Vt),Kr("allowDropFileTypes",null),Kr("cursorBlinkRate",530),Kr("cursorScrollMargin",0),Kr("cursorHeight",1,Pe,!0),Kr("singleCursorHeightPerLine",!0,Pe,!0),Kr("workTime",100),Kr("workDelay",100),Kr("flattenSpans",!0,n,!0),Kr("addModeClass",!1,n,!0),Kr("pollInterval",100),Kr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Kr("historyEventDelay",1250),Kr("viewportMargin",10,function(e){e.refresh()},!0),Kr("maxHighlightLength",1e4,n,!0),Kr("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Kr("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Kr("autofocus",null);var rl=e.modes={},nl=e.mimeModes={};e.defineMode=function(t,r){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),rl[t]=r},e.defineMIME=function(e,t){nl[e]=t},e.resolveMode=function(t){if("string"==typeof t&&nl.hasOwnProperty(t))t=nl[t];else if(t&&"string"==typeof t.name&&nl.hasOwnProperty(t.name)){var r=nl[t.name];"string"==typeof r&&(r={name:r}),t=Ii(r,t),t.name=r.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,r){var r=e.resolveMode(r),n=rl[r.name];if(!n)return e.getMode(t,"text/plain");var i=n(t,r);if(il.hasOwnProperty(r.name)){var o=il[r.name];for(var l in o)o.hasOwnProperty(l)&&(i.hasOwnProperty(l)&&(i["_"+l]=i[l]),i[l]=o[l])}if(i.name=r.name,r.helperType&&(i.helperType=r.helperType),r.modeProps)for(var l in r.modeProps)i[l]=r.modeProps[l];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var il=e.modeExtensions={};e.extendMode=function(e,t){var r=il.hasOwnProperty(e)?il[e]:il[e]={};zi(t,r)},e.defineExtension=function(t,r){e.prototype[t]=r},e.defineDocExtension=function(e,t){Sl.prototype[e]=t},e.defineOption=Kr;var ol=[];e.defineInitHook=function(e){ol.push(e)};var ll=e.helpers={};e.registerHelper=function(t,r,n){ll.hasOwnProperty(t)||(ll[t]=e[t]={_global:[]}),ll[t][r]=n},e.registerGlobalHelper=function(t,r,n,i){e.registerHelper(t,r,i),ll[t]._global.push({pred:n,val:i})};var sl=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r},al=e.startState=function(e,t,r){return!e.startState||e.startState(t,r)};e.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}};var ul=e.commands={selectAll:function(e){e.setSelection(zo(e.firstLine(),0),zo(e.lastLine()),Il)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Il)},killLine:function(e){Gr(e,function(t){if(t.empty()){var r=Zn(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:zo(t.head.line+1,0)}:{from:t.head,to:zo(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Gr(e,function(t){return{from:zo(t.from().line,0),to:ge(e.doc,zo(t.to().line+1,0))}})},delLineLeft:function(e){Gr(e,function(e){return{from:zo(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Gr(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){Gr(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(zo(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(zo(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return oo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return so(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return lo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Fl)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Fl)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?so(e,t.head):n},Fl)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=Rl(e.getLine(o.line),o.ch,n);t.push(new Array(n-l%n+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Wt(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++){var i=t[n].head,o=Zn(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new zo(i.line,i.ch-1)),i.ch>0)i=new zo(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),zo(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=Zn(e.doc,i.line-1).text;l&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),zo(i.line-1,l.length-1),zo(i.line,1),"+transpose")}r.push(new he(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){Wt(e,function(){for(var t=e.listSelections().length,r=0;r<t;r++){var n=e.listSelections()[r];e.replaceRange(e.doc.lineSeparator(),n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0)}zr(e)})},toggleOverwrite:function(e){e.toggleOverwrite()}},cl=e.keyMap={};cl.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},cl.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo",
"Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},cl.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},cl.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},cl.default=Ao?cl.macDefault:cl.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Pi(r.split(" "),jr),o=0;o<i.length;o++){var l,s;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e};var hl=e.lookupKey=function(e,t,r,n){t=Xr(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return hl(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=hl(e,t.fallthrough[o],r,n);if(l)return l}}},fl=e.isModifierKey=function(e){var t="string"==typeof e?e:is[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},dl=e.keyName=function(e,t){if(Lo&&34==e.keyCode&&e.char)return!1;var r=is[e.keyCode],n=r;return null!=n&&!e.altGraphKey&&(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(Ho?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(Ho?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)};e.fromTextArea=function(t,r){function n(){t.value=a.getValue()}if(r=r?zi(r):{},r.value=t.value,!r.tabindex&&t.tabIndex&&(r.tabindex=t.tabIndex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),null==r.autofocus){var i=ji();r.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Wl(t.form,"submit",n),!r.leaveSubmitMethodAlone)){var o=t.form,l=o.submit;try{var s=o.submit=function(){n(),o.submit=l,o.submit(),o.submit=s}}catch(e){}}r.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Ol(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=l))}},t.style.display="none";var a=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},r);return a};var pl=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};pl.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));if(r)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Rl(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Rl(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Rl(this.string,null,this.tabSize)-(this.lineStart?Rl(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var gl=0,vl=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++gl};Wi(vl),vl.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wt(e),Ni(this,"clear")){var r=this.find();r&&Li(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],s=Jr(l.markedSpans,this);e&&!this.collapsed?It(e,ti(l),"text"):e&&(null!=s.to&&(i=ti(l)),null!=s.from&&(n=ti(l))),l.markedSpans=en(l.markedSpans,s),null==s.from&&this.collapsed&&!Cn(this.doc,l)&&e&&ei(l,yt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var a=yn(this.lines[o]),u=h(a);u>e.display.maxLineLength&&(e.display.maxLine=a,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Et(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&We(e.doc)),e&&Li(e,"markerCleared",e,this),t&&Ct(e),this.parent&&this.parent.clear()}},vl.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],l=Jr(o.markedSpans,this);if(null!=l.from&&(r=zo(t?o:ti(o),l.from),e==-1))return r;if(null!=l.to&&(n=zo(t?o:ti(o),l.to),1==e))return n}return r&&{from:r,to:n}},vl.prototype.changed=function(){var e=this.find(-1,!0),t=this,r=this.doc.cm;e&&r&&Wt(r,function(){var n=e.line,i=ti(e.line),o=Je(r,i);if(o&&(ot(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Cn(t.doc,n)&&null!=t.height){var l=t.height;t.height=null;var s=Tn(t)-l;s&&ei(n,n.height+s)}})},vl.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&Hi(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},vl.prototype.detachLine=function(e){if(this.lines.splice(Hi(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var gl=0,ml=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Wi(ml),ml.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Li(this,"clear")}},ml.prototype.find=function(e,t){return this.primary.find(e,t)};var yl=e.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};Wi(yl),yl.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=ti(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Tn(this);ei(r,Math.max(0,r.height-o)),e&&Wt(e,function(){Ln(e,r,-o),It(e,n,"widget")})}},yl.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line;this.height=null;var n=Tn(this)-e;n&&(ei(r,r.height+n),t&&Wt(t,function(){t.curOp.forceUpdate=!0,Ln(t,r,n)}))};var bl=e.Line=function(e,t,r){this.text=e,cn(this,t),this.height=r?r(this):1};Wi(bl),bl.prototype.lineNo=function(){return ti(this)};var wl={},xl={};Yn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Nn(i),Li(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},_n.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),l=n.height;if(n.removeInner(e,o),this.height-=l-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Yn))){var s=[];this.collapse(s),this.children=[new Yn(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var l=i.lines.splice(i.lines.length-25,25),s=new Yn(l);i.height-=s.height,this.children.splice(n+1,0,s),s.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new _n(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=Hi(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new _n(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=o}}};var Cl=0,Sl=e.Doc=function(e,t,r,n){if(!(this instanceof Sl))return new Sl(e,t,r,n);null==r&&(r=0),_n.call(this,[new Yn([new bl("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=zo(r,0);this.sel=de(i),this.history=new oi(null),this.id=++Cl,this.modeOption=t,this.lineSep=n,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Xn(this,{from:i,to:i,text:e}),ke(this,de(i),Il)};Sl.prototype=Ii(_n.prototype,{constructor:Sl,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Jn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Dt(function(e){var t=zo(this.first,0),r=this.first+this.size-1;Tr(this,{from:t,to:zo(r,Zn(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),ke(this,de(t))}),replaceRange:function(e,t,r,n){t=ge(this,t),r=r?ge(this,r):t,Or(this,e,t,r,n)},getRange:function(e,t,r){var n=Qn(this,ge(this,e),ge(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(me(this,e))return Zn(this,e)},getLineNumber:function(e){return ti(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Zn(this,e)),yn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ge(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Dt(function(e,t,r){Se(this,ge(this,"number"==typeof e?zo(e,t||0):e),null,r)}),setSelection:Dt(function(e,t,r){Se(this,ge(this,e),ge(this,t||e),r)}),extendSelection:Dt(function(e,t,r){we(this,ge(this,e),t&&ge(this,t),r)}),extendSelections:Dt(function(e,t){xe(this,ye(this,e),t)}),extendSelectionsBy:Dt(function(e,t){var r=Pi(this.sel.ranges,e);xe(this,ye(this,r),t)}),setSelections:Dt(function(e,t,r){if(e.length){for(var n=0,i=[];n<e.length;n++)i[n]=new he(ge(this,e[n].anchor),ge(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ke(this,fe(i,t),r)}}),addSelection:Dt(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new he(ge(this,e),ge(this,t||e))),ke(this,fe(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Qn(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Qn(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Dt(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];n[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&Sr(this,n,t),o=n.length-1;o>=0;o--)Tr(this,n[o]);s?Te(this,s):this.cm&&zr(this.cm)}),undo:Dt(function(){Mr(this,"undo")}),redo:Dt(function(){Mr(this,"redo")}),undoSelection:Dt(function(){Mr(this,"undo",!0)}),redoSelection:Dt(function(){Mr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new oi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vi(this.history.done),undone:vi(this.history.undone)}},setHistory:function(e){var t=this.history=new oi(this.history.maxGeneration);t.done=vi(e.done.slice(0),null,!0),t.undone=vi(e.undone.slice(0),null,!0)},addLineClass:Dt(function(e,t,r){return Br(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(Xi(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:Dt(function(e,t,r){return Br(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(Xi(r));if(!o)return!1;var l=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&l!=i.length?" ":"")+i.slice(l)||null}return!0})}),addLineWidget:Dt(function(e,t,r){return kn(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Yr(this,ge(this,e),ge(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ge(this,e),Yr(this,e,e,r,"bookmark")},findMarksAt:function(e){e=ge(this,e);var t=[],r=Zn(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ge(this,e),t=ge(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];i==e.line&&e.ch>a.to||null==a.from&&i!=e.line||i==t.line&&a.from>t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>e?(t=e,!0):(e-=i,void++r)}),ge(this,zo(r,t))},indexFromPos:function(e){e=ge(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new Sl(Jn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Sl(Jn(this,t,r),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],qr(n,$r(this)),n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==t){this.linked.splice(r,1),t.unlinkDoc(this),Zr($r(this));break}}if(t.history==this.history){var i=[t.id];$n(t,function(e){i.push(e.id)},!0),t.history=new oi(null),t.history.done=vi(this.history.done,i),t.history.undone=vi(this.history.undone,i)}},iterLinkedDocs:function(e){$n(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):es(e)},lineSeparator:function(){return this.lineSep||"\n"}}),Sl.prototype.eachLine=Sl.prototype.iter;var Ll="iter insert remove copy getEditor constructor".split(" ");for(var Tl in Sl.prototype)Sl.prototype.hasOwnProperty(Tl)&&Hi(Ll,Tl)<0&&(e.prototype[Tl]=function(e){return function(){return e.apply(this.doc,arguments)}}(Sl.prototype[Tl]));Wi(Sl);var kl=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Ml=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Nl=e.e_stop=function(e){kl(e),Ml(e)},Wl=e.on=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}},Al=[],Ol=e.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else for(var n=Si(e,t,!1),i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}},Dl=e.signal=function(e,t){var r=Si(e,t,!0);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},Hl=null,Pl=30,El=e.Pass={toString:function(){return"CodeMirror.Pass"}},Il={scroll:!1},zl={origin:"*mouse"},Fl={origin:"+move"};Ai.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Rl=e.countColumn=function(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}},Bl=e.findColumn=function(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);o==-1&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}},Gl=[""],Ul=function(e){e.select()};No?Ul=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:bo&&(Ul=function(e){try{e.select()}catch(e){}});var Vl,Kl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,jl=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Kl.test(e))},Xl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Vl=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var Yl=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};bo&&wo<11&&(ji=function(){try{return document.activeElement}catch(e){return document.body}});var _l,$l,ql=e.rmClass=function(e,t){var r=e.className,n=Xi(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}},Zl=e.addClass=function(e,t){var r=e.className;Xi(t).test(r)||(e.className+=(r?" ":"")+t)},Ql=!1,Jl=function(){if(bo&&wo<9)return!1;var e=Ui("div");return"draggable"in e||"dragDrop"in e}(),es=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");l!=-1?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},ts=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},rs=function(){var e=Ui("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ns=null,is=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;e<10;e++)is[e+48]=is[e+96]=String(e);for(var e=65;e<=90;e++)is[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)is[e+111]=is[e+63235]="F"+e}();var os,ls=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,u="L";return function(r){if(!i.test(r))return!1;for(var n,c=r.length,h=[],f=0;f<c;++f)h.push(n=e(r.charCodeAt(f)));for(var f=0,d=u;f<c;++f){var n=h[f];"m"==n?h[f]=d:d=n}for(var f=0,p=u;f<c;++f){var n=h[f];"1"==n&&"r"==p?h[f]="n":l.test(n)&&(p=n,"r"==n&&(h[f]="R"))}for(var f=1,d=h[0];f<c-1;++f){var n=h[f];"+"==n&&"1"==d&&"1"==h[f+1]?h[f]="1":","!=n||d!=h[f+1]||"1"!=d&&"n"!=d||(h[f]=d),d=n}for(var f=0;f<c;++f){var n=h[f];if(","==n)h[f]="N";else if("%"==n){for(var g=f+1;g<c&&"%"==h[g];++g);for(var v=f&&"!"==h[f-1]||g<c&&"1"==h[g]?"1":"N",m=f;m<g;++m)h[m]=v;f=g-1}}for(var f=0,p=u;f<c;++f){var n=h[f];"L"==p&&"1"==n?h[f]="L":l.test(n)&&(p=n)}for(var f=0;f<c;++f)if(o.test(h[f])){for(var g=f+1;g<c&&o.test(h[g]);++g);for(var y="L"==(f?h[f-1]:u),b="L"==(g<c?h[g]:u),v=y||b?"L":"R",m=f;m<g;++m)h[m]=v;f=g-1}for(var w,x=[],f=0;f<c;)if(s.test(h[f])){var C=f;for(++f;f<c&&s.test(h[f]);++f);x.push(new t(0,C,f))}else{var S=f,L=x.length;for(++f;f<c&&"L"!=h[f];++f);for(var m=S;m<f;)if(a.test(h[m])){S<m&&x.splice(L,0,new t(1,S,m));var T=m;for(++m;m<f&&a.test(h[m]);++m);x.splice(L,0,new t(2,T,m)),S=m}else++m;S<f&&x.splice(L,0,new t(1,S,f))}return 1==x[0].level&&(w=r.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Di(x).level&&(w=r.match(/\s+$/))&&(Di(x).to-=w[0].length,x.push(new t(0,c-w[0].length,c))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Di(x).level&&x.push(new t(x[0].level,c,c)),x}}();return e.version="5.12.0",e});
!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function i(t,i){this.cm=t,this.options=i,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var e=this;t.on("cursorActivity",this.activityFunc=function(){e.cursorActivity()})}function e(t,i,e){var n=t.options.hintOptions,o={};for(var s in p)o[s]=p[s];if(n)for(var s in n)void 0!==n[s]&&(o[s]=n[s]);if(e)for(var s in e)void 0!==e[s]&&(o[s]=e[s]);return o.hint.resolve&&(o.hint=o.hint.resolve(t,i)),o}function n(t){return"string"==typeof t?t:t.text}function o(t,i){function e(t,e){var o;o="string"!=typeof e?function(t){return e(t,i)}:n.hasOwnProperty(e)?n[e]:e,s[t]=o}var n={Up:function(){i.moveFocus(-1)},Down:function(){i.moveFocus(1)},PageUp:function(){i.moveFocus(-i.menuSize()+1,!0)},PageDown:function(){i.moveFocus(i.menuSize()-1,!0)},Home:function(){i.setFocus(0)},End:function(){i.setFocus(i.length-1)},Enter:i.pick,Tab:i.pick,Esc:i.close},o=t.options.customKeys,s=o?{}:n;if(o)for(var c in o)o.hasOwnProperty(c)&&e(c,o[c]);var r=t.options.extraKeys;if(r)for(var c in r)r.hasOwnProperty(c)&&e(c,r[c]);return s}function s(t,i){for(;i&&i!=t;){if("LI"===i.nodeName.toUpperCase()&&i.parentNode==t)return i;i=i.parentNode}}function c(i,e){this.completion=i,this.data=e,this.picked=!1;var c=this,r=i.cm,h=this.hints=document.createElement("ul");h.className="CodeMirror-hints",this.selectedHint=e.selectedHint||0;for(var u=e.list,f=0;f<u.length;++f){var p=h.appendChild(document.createElement("li")),d=u[f],m=l+(f!=this.selectedHint?"":" "+a);null!=d.className&&(m=d.className+" "+m),p.className=m,d.render?d.render(p,e,d):p.appendChild($(d.displayText||n(d))[0]),p.hintId=f}var g=r.cursorCoords(i.options.alignWithWord?e.from:null),v=g.left,y=g.bottom,w=!0;h.style.left=v+"px",h.style.top=y+"px";var k=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),H=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(i.options.container||document.body).appendChild(h);var C=h.getBoundingClientRect(),b=C.bottom-H;if(b>0){var A=C.bottom-C.top,S=g.top-(g.bottom-C.top);if(S-A>0)h.style.top=(y=g.top-A)+"px",w=!1;else if(A>H){h.style.height=H-5+"px",h.style.top=(y=g.bottom-C.top)+"px";var x=r.getCursor();e.from.ch!=x.ch&&(g=r.cursorCoords(x),h.style.left=(v=g.left)+"px",C=h.getBoundingClientRect())}}var T=C.right-k;if(T>0&&(C.right-C.left>k&&(h.style.width=k-5+"px",T-=C.right-C.left-k),h.style.left=(v=g.left-T)+"px"),r.addKeyMap(this.keyMap=o(i,{moveFocus:function(t,i){c.changeActive(c.selectedHint+t,i)},setFocus:function(t){c.changeActive(t)},menuSize:function(){return c.screenAmount()},length:u.length,close:function(){i.close()},pick:function(){c.pick()},data:e})),i.options.closeOnUnfocus){var M;r.on("blur",this.onBlur=function(){M=setTimeout(function(){i.close()},100)}),r.on("focus",this.onFocus=function(){clearTimeout(M)})}var F=r.getScrollInfo();return r.on("scroll",this.onScroll=function(){var t=r.getScrollInfo(),e=r.getWrapperElement().getBoundingClientRect(),n=y+F.top-t.top,o=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return w||(o+=h.offsetHeight),o<=e.top||o>=e.bottom?i.close():(h.style.top=n+"px",void(h.style.left=v+F.left-t.left+"px"))}),t.on(h,"dblclick",function(t){var i=s(h,t.target||t.srcElement);i&&null!=i.hintId&&(c.changeActive(i.hintId),c.pick())}),t.on(h,"click",function(t){var e=s(h,t.target||t.srcElement);e&&null!=e.hintId&&(c.changeActive(e.hintId),i.options.completeOnSingleClick&&c.pick())}),t.on(h,"mousedown",function(){setTimeout(function(){r.focus()},20)}),t.signal(e,"select",u[0],h.firstChild),!0}function r(t,i){if(!t.somethingSelected())return i;for(var e=[],n=0;n<i.length;n++)i[n].supportsSelection&&e.push(i[n]);return e}function h(i,e){var n,o=i.getHelpers(e,"hint");if(o.length){for(var s,c=!1,h=0;h<o.length;h++)o[h].async&&(c=!0);return c?(s=function(t,i,e){function n(o,c){if(o==s.length)return i(null);var r=s[o];if(r.async)r(t,function(t){t?i(t):n(o+1)},e);else{var c=r(t,e);c?i(c):n(o+1)}}var s=r(t,o);n(0)},s.async=!0):s=function(t,i){for(var e=r(t,o),n=0;n<e.length;n++){var s=e[n](t,i);if(s&&s.list.length)return s}},s.supportsSelection=!0,s}return(n=i.getHelper(i.getCursor(),"hintWords"))?function(i){return t.hint.fromList(i,{words:n})}:t.hint.anyword?function(i,e){return t.hint.anyword(i,e)}:function(){}}var l="CodeMirror-hint",a="CodeMirror-hint-active";t.showHint=function(t,i,e){if(!i)return t.showHint(e);e&&e.async&&(i.async=!0);var n={hint:i};if(e)for(var o in e)n[o]=e[o];return t.showHint(n)},t.defineExtension("showHint",function(n){n=e(this,this.getCursor("start"),n);var o=this.listSelections();if(!(o.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var s=0;s<o.length;s++)if(o[s].head.line!=o[s].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var c=this.state.completionActive=new i(this,n);c.options.hint&&(t.signal(this,"startCompletion",this),c.update(!0))}});var u=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},f=window.cancelAnimationFrame||clearTimeout;i.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(i,e){var o=i.list[e];o.hint?o.hint(this.cm,i,o):this.cm.replaceRange(n(o),o.from||i.from,o.to||i.to,"complete"),t.signal(i,"pick",o),this.close()},cursorActivity:function(){this.debounce&&(f(this.debounce),this.debounce=0);var t=this.cm.getCursor(),i=this.cm.getLine(t.line);if(t.line!=this.startPos.line||i.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(i.charAt(t.ch-1)))this.close();else{var e=this;this.debounce=u(function(){e.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick)if(this.options.hint.async){var i=++this.tick,e=this;this.options.hint(this.cm,function(n){e.tick==i&&e.finishUpdate(n,t)},this.options)}else this.finishUpdate(this.options.hint(this.cm,this.options),t)},finishUpdate:function(i,e){this.data&&t.signal(this.data,"update"),i&&this.data&&t.cmpPos(i.from,this.data.from)&&(i=null),this.data=i;var n=this.widget&&this.widget.picked||e&&this.options.completeSingle;this.widget&&this.widget.close(),i&&i.list.length&&(n&&1==i.list.length?this.pick(i,0):(this.widget=new c(this,i),t.signal(i,"shown")))}},c.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,e){if(i>=this.data.list.length?i=e?this.data.list.length-1:0:i<0&&(i=e?0:this.data.list.length-1),this.selectedHint!=i){var n=this.hints.childNodes[this.selectedHint];n.className=n.className.replace(" "+a,""),n=this.hints.childNodes[this.selectedHint=i],n.className+=" "+a,n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],n)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:h}),t.registerHelper("hint","fromList",function(i,e){var n=i.getCursor(),o=i.getTokenAt(n),s=t.Pos(n.line,o.end);if(o.string&&/\w/.test(o.string[o.string.length-1]))var c=o.string,r=t.Pos(n.line,o.start);else var c="",r=s;for(var h=[],l=0;l<e.words.length;l++){var a=e.words[l];a.slice(0,c.length)==c&&h.push(a)}if(h.length)return{list:h,from:r,to:s}}),t.commands.autocomplete=t.showHint;var p={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)});
!function(e){function t(e){return e=L?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function n(e,n){if(n=n||{},"image"===e)return $(n.html)[0];var r=document.createElement("a"),i=n.shortcut||y[e];return i&&(i=t(i),r.title=i,r.title=r.title.replace("Cmd","⌘"),L&&(r.title=r.title.replace("Alt","⌥"))),r.className=n.className||"icon-"+e,r}function r(){return el=document.createElement("i"),el.className="separator",el.innerHTML="|",el}function i(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};for(var r,i,o=n.type.split(" "),a={},l=0;l<o.length;l++)r=o[l],"strong"===r?a.bold=!0:"variable-2"===r?(i=e.getLine(t.line),/^\s*\d+\.\s/.test(i)?a["ordered-list"]=!0:a["unordered-list"]=!0):"atom"===r?a.quote=!0:"em"===r&&(a.italic=!0);return a}function o(e){var t=e.codemirror,n=e.codemirror.getWrapperElement();if("icon-fullscreen"===e.toolbar.fullscreen.className)return e.toolbar.fullscreen.className="icon-contract",e.toolbar.preview.style.display="none",e.toolbar.preview.className.indexOf("active")>-1&&e.toolbar.preview.click(),$(e.element.parentElement).css({position:"fixed",top:"0","z-index":"90",left:"0",right:"0"}),t.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:n.style.width,height:n.style.height},n.style.width="50%",n.style.height=$(window).height()-$(".editor-toolbar").outerHeight()+"px",t.refresh(),$.ajax({url:e.options.html2mdURL,type:"POST",cache:!1,data:{markdownText:t.getValue()},success:function(t,n){$(e.element.parentElement).prepend('<div class="CodeMirror-preview content-reset" style="height:'+($(window).height()-$(".editor-toolbar").outerHeight())+'px">'+t.html+"</div>"),hljs.initHighlighting.called=!1,hljs.initHighlighting()}}),!1;e.toolbar.fullscreen.className="icon-fullscreen",e.toolbar.preview.style.display="inline",$(e.element.parentElement).css({position:"inherit"}),$(e.element.parentElement).find(".CodeMirror-preview").remove();var r=t.state.fullScreenRestore;n.style.width=r.width,n.style.height=r.height,t.refresh()}function a(e){var t,n=e.codemirror,r=i(n),o="**",a="**",l=n.getCursor("start"),s=n.getCursor("end");r.bold?(t=n.getLine(l.line),o=t.slice(0,l.ch),a=t.slice(l.ch),o=o.replace(/^(.*)?(\*|\_){2}(\S+.*)?$/,"$1$3"),a=a.replace(/^(.*\S+)?(\*|\_){2}(\s+.*)?$/,"$1$3"),l.ch-=2,s.ch-=2,n.replaceRange(o+a,CodeMirror.Pos(l.line,0),CodeMirror.Pos(l.line,t.length))):(t=n.getSelection(),n.replaceSelection(o+t+a),l.ch+=2,s.ch+=2),n.setSelection(l,s),n.focus()}function l(e){var t,n=e.codemirror,r=i(n),o="*",a="*",l=n.getCursor("start"),s=n.getCursor("end");r.italic?(t=n.getLine(l.line),o=t.slice(0,l.ch),a=t.slice(l.ch),o=o.replace(/^(.*)?(\*|\_)(\S+.*)?$/,"$1$3"),a=a.replace(/^(.*\S+)?(\*|\_)(\s+.*)?$/,"$1$3"),l.ch-=1,s.ch-=1,n.replaceRange(o+a,CodeMirror.Pos(l.line,0),CodeMirror.Pos(l.line,t.length))):(t=n.getSelection(),n.replaceSelection(o+t+a),l.ch+=1,s.ch+=1),n.setSelection(l,s),n.focus()}function s(e){var t=e.codemirror;v(t,"quote")}function c(e){var t=e.codemirror;v(t,"unordered-list")}function d(e){var t=e.codemirror;v(t,"ordered-list")}function u(e){var t=e.codemirror,n=i(t);g(t,n.link,"[","](http://)")}function f(e){var t=e.codemirror,n=i(t);g(t,n.image,"![","](http://)")}function m(e){var t=e.codemirror;t.undo(),t.focus()}function p(e){var t=e.codemirror;t.redo(),t.focus()}function h(e){var t=e.toolbar.preview,n=e.codemirror,r=n.getWrapperElement(),i=r.lastChild;/editor-preview/.test(i.className)||(i=document.createElement("div"),i.className="editor-preview content-reset",r.appendChild(i)),/editor-preview-active/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active\s*/g,""),t.className=t.className.replace(/\s*active\s*/g,"")):(setTimeout(function(){i.className+=" editor-preview-active"},1),t.className+=" active");var o=n.getValue();$.ajax({url:e.options.html2mdURL,type:"POST",cache:!1,data:{markdownText:o},success:function(e,t){i.innerHTML=e.html,hljs.initHighlighting.called=!1,hljs.initHighlighting()}})}function g(e,t,n,r){var i,o=e.getCursor("start"),a=e.getCursor("end");t?(i=e.getLine(o.line),n=i.slice(0,o.ch),r=i.slice(o.ch),e.replaceRange(n+r,CodeMirror.Pos(o.line,0),CodeMirror.Pos(o.line,i.length))):(i=e.getSelection(),e.replaceSelection(n+i+r),o.ch+=n.length,a.ch+=n.length),e.setSelection(o,a),e.focus()}function v(e,t){for(var n=i(e),r=e.getCursor("start"),o=e.getCursor("end"),a={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},l={quote:"> ","unordered-list":"* ","ordered-list":"1. "},s=r.line;s<=o.line;s++)!function(r){var i=e.getLine(r);i=n[t]?i.replace(a[t],"$1"):l[t]+i,e.replaceRange(i,CodeMirror.Pos(r,0),CodeMirror.Pos(r,e.getLine(r).length))}(s);e.focus()}function k(e){var t=/[a-zA-Z0-9_\u0392-\u03c9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=e.match(t),r=0;if(null===n)return r;for(var i=0;i<n.length;i++)r+=n[i].charCodeAt(0)>=19968?n[i].length:1;return r}function C(e){e=e||{},e.element&&(this.element=e.element),e.toolbar=e.toolbar||C.toolbar,e.hasOwnProperty("status")||(e.status=["lines","words","cursor"]),this.options=e,this.element&&this.render()}var x=/^(\s*)([*+-]|(\d+)\.)([\w+(\s+\w+)]|[\s*])/,w=/^(\s*)([*+-]|(\d+)\.)(\s*)$/,b="*+-",M=function(e,t){return e.getStateAfter(t.line).list||null},S=function(e){var t=e.getCursor();return M(e,t)};CodeMirror.commands.shiftTabAndIndentContinueMarkdownList=function(e){var t=S(e);return null!==t?void e.execCommand("insertTab"):void e.execCommand("indentLess")},CodeMirror.commands.tabAndIndentContinueMarkdownList=function(e){var t=S(e);return null!==t?void e.execCommand("insertTab"):void e.execCommand("indentMore")},CodeMirror.commands.newlineAndIndentContinueMarkdownList=function(e){var t,n,r,i,o;if(t=e.getCursor(),n=e.getTokenAt(t),i=e.getLine(t.line).match(w),o=M(e,t),!o&&i)return e.replaceRange("",{line:t.line,ch:n.start},{line:t.line,ch:n.end}),e.execCommand("delLineLeft"),void e.execCommand("newlineAndIndent");if(!o||!(r=e.getLine(t.line).match(x)))return void e.execCommand("newlineAndIndent");var a=r[1],l=" ",s=b.indexOf(r[2])>=0?r[2]:parseInt(r[3],10)+1+".";e.replaceSelection("\n"+a+s+l,"end")},CodeMirror.defineMode("xml",function(e,t){function n(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(o("atom","]]>")):null:e.match("--")?n(o("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(a(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=o("meta","?>"),"meta";var l=e.eat("/");C="";for(var s;s=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)C+=s;return C?(x=l?"closeTag":"openTag",t.tokenize=r,"tag"):"error"}if("&"==i){var c;return c=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),c?"atom":"error"}return e.eatWhile(/[^&<]/),null}function r(e,t){var r=e.next();return">"==r||"/"==r&&e.eat(">")?(t.tokenize=n,x=">"==r?"endTag":"selfcloseTag","tag"):"="==r?(x="equals",null):"<"==r?"error":/[\'\"]/.test(r)?(t.tokenize=i(r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function i(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=r;break}return"string"};return t.isInAttribute=!0,t}function o(e,t){return function(r,i){for(;!r.eol();){if(r.match(t)){i.tokenize=n;break}r.next()}return e}}function a(e){return function(t,r){for(var i;null!=(i=t.next());){if("<"==i)return r.tokenize=a(e+1),r.tokenize(t,r);if(">"==i){if(1==e){r.tokenize=n;break}return r.tokenize=a(e-1),r.tokenize(t,r)}}return"meta"}}function l(){for(var e=arguments.length-1;e>=0;e--)w.cc.push(arguments[e])}function s(){return l.apply(null,arguments),!0}function c(e,t){var n=T.doNotIndent.hasOwnProperty(e)||w.context&&w.context.noIndent;w.context={prev:w.context,tagName:e,indent:w.indented,startOfLine:t,noIndent:n}}function d(){w.context&&(w.context=w.context.prev)}function u(e){if("openTag"==e)return w.tagName=C,w.tagStart=b.column(),s(h,f(w.startOfLine));if("closeTag"==e){var t=!1;return w.context?w.context.tagName!=C&&(T.implicitlyClosed.hasOwnProperty(w.context.tagName.toLowerCase())&&d(),t=!w.context||w.context.tagName!=C):t=!0,t&&(M="error"),s(m(t))}return s()}function f(e){return function(t){var n=w.tagName;return w.tagName=w.tagStart=null,"selfcloseTag"==t||"endTag"==t&&T.autoSelfClosers.hasOwnProperty(n.toLowerCase())?(p(n.toLowerCase()),s()):"endTag"==t?(p(n.toLowerCase()),c(n,e),s()):s()}}function m(e){return function(t){return e&&(M="error"),"endTag"==t?(d(),s()):(M="error",s(arguments.callee))}}function p(e){for(var t;;){if(!w.context)return;if(t=w.context.tagName.toLowerCase(),!T.contextGrabbers.hasOwnProperty(t)||!T.contextGrabbers[t].hasOwnProperty(e))return;d()}}function h(e){return"word"==e?(M="attribute",s(g,h)):"endTag"==e||"selfcloseTag"==e?l():(M="error",s(h))}function g(e){return"equals"==e?s(v,h):(T.allowMissing?"word"==e&&(M="attribute"):M="error","endTag"==e||"selfcloseTag"==e?l():s())}function v(e){return"string"==e?s(k):"word"==e&&T.allowUnquoted?(M="string",s()):(M="error","endTag"==e||"selfCloseTag"==e?l():s())}function k(e){return"string"==e?s(k):l()}var C,x,w,b,M,S=e.indentUnit,L=t.multilineTagIndentFactor||1,y=t.multilineTagIndentPastTag||!0,T=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},N=t.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;M=x=C=null;var n=t.tokenize(e,t);if(t.type=x,(n||x)&&"comment"!=n)for(w=t,b=e;;){var r=t.cc.pop()||u;if(r(x||n))break}return t.startOfLine=!1,M||n},indent:function(e,t,i){var o=e.context;if(e.tokenize.isInAttribute)return e.stringStartCol+1;if(e.tokenize!=r&&e.tokenize!=n||o&&o.noIndent)return i?i.match(/^(\s*)/)[0].length:0;if(e.tagName)return y?e.tagStart+e.tagName.length+2:e.tagStart+S*L;if(N&&/<!\[CDATA\[/.test(t))return 0;for(o&&/^<\//.test(t)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+S:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:t.htmlMode?"html":"xml",helperType:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.defineMode("markdown",function(e,t){function n(e,t,n){return t.f=t.inline=n,n(e,t)}function r(e,t,n){return t.f=t.block=n,n(e,t)}function i(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strike=!1,e.quote=0,g||e.f!=a||(e.f=d,e.block=o),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.thisLineHasContent=!1,null}function o(e,i){var o=i.list!==!1;if(i.list!==!1&&i.indentationDiff>=0?(i.indentationDiff<4&&(i.indentation-=i.indentationDiff),i.list=null):i.list!==!1&&i.indentation>0?(i.list=null,i.listDepth=Math.floor(i.indentation/4)):i.list!==!1&&(i.list=!1,i.listDepth=0),i.indentationDiff>=4)return i.indentation-=4,e.skipToEnd(),b;if(e.eatSpace())return null;if("#"===e.peek()||i.prevLineHasContent&&e.match(B))i.header=!0;else if(e.eat(">"))for(i.indentation++,i.quote=1,e.eatSpace();e.eat(">");)e.eatSpace(),i.quote++;else{if("["===e.peek())return n(e,i,f);if(e.match(q,!0))return N;if(i.prevLineHasContent&&!o||!e.match(z,!0)&&!e.match(D,!0)){if(t.fencedCodeBlocks&&e.match(/^```([\w+#]*)/,!0))return i.localMode=C(RegExp.$1),i.localMode&&(i.localState=i.localMode.startState()),r(e,i,l),b}else i.indentation+=4,i.list=!0,i.listDepth++,t.taskLists&&e.match(W,!1)&&(i.taskList=!0)}return n(e,i,i.inline)}function a(e,t){var n=v.token(e,t.htmlState);return g&&"tag"===n&&"openTag"!==t.htmlState.type&&!t.htmlState.context&&(t.f=d,t.block=o),t.md_inside&&e.current().indexOf(">")!=-1&&(t.f=d,t.block=o,t.htmlState.context=void 0),n}function l(e,t){return e.sol()&&e.match(/^```/,!0)?(t.localMode=t.localState=null,t.f=d,t.block=o,b):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),b)}function s(e){var t=[];if(e.taskOpen)return"meta";if(e.taskClosed)return"property";if(e.strong&&t.push(_),e.strike&&t.push(P),e.em&&t.push(H),e.linkText&&t.push(I),e.code&&t.push(b),e.header&&t.push(w),e.quote&&t.push(e.quote%2?M:S),e.list!==!1){var n=(e.listDepth-1)%3;n?1===n?t.push(y):t.push(T):t.push(L)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function c(e,t){if(e.match(j,!0))return s(t)}function d(e,i){var o=i.text(e,i);if("undefined"!=typeof o)return o;if(i.list)return i.list=null,s(i);if(i.taskList){var l="x"!==e.match(W,!0)[1];return l?i.taskOpen=!0:i.taskClosed=!0,i.taskList=!1,s(i)}i.taskOpen=!1,i.taskClosed=!1;var c=e.next();if("\\"===c)return e.next(),s(i);if(i.linkTitle){i.linkTitle=!1;var d=c;"("===c&&(d=")"),d=(d+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var f="^\\s*(?:[^"+d+"\\\\]+|\\\\\\\\|\\\\.)"+d;if(e.match(new RegExp(f),!0))return A}if("`"===c){var m=s(i),p=e.pos;e.eatWhile("`");var g=1+e.pos-p;return i.code?g===x?(i.code=!1,m):s(i):(x=g,i.code=!0,s(i))}if(i.code)return s(i);if("!"===c&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return e.match(/\[[^\]]*\]/),i.inline=i.f=u,$;if("["===c&&e.match(/.*\](\(| ?\[)/,!1))return i.linkText=!0,s(i);if("]"===c&&i.linkText){var v=s(i);return i.linkText=!1,i.inline=i.f=u,v}if("<"===c&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return n(e,i,h(E,">"));if("<"===c&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return n(e,i,h(O,">"));if("<"===c&&e.match(/^\w/,!1)){if(e.string.indexOf(">")!=-1){var k=e.string.substring(1,e.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(k)&&(i.md_inside=!0)}return e.backUp(1),r(e,i,a)}if("<"===c&&e.match(/^\/\w*?>/))return i.md_inside=!1,"tag";var C=!1;if(!t.underscoresBreakWords&&"_"===c&&"_"!==e.peek()&&e.match(/(\w)/,!1)){var w=e.pos-2;if(w>=0){var b=e.string.charAt(w);"_"!==b&&b.match(/(\w)/,!1)&&(C=!0)}}var m=s(i);if("*"===c||"_"===c&&!C){if(i.strong===c&&e.eat(c)&&e.peek(c))return i.strong=!1,m;if(!i.strong&&e.eat(c)&&e.peek(c))return i.strong=c,s(i);if(i.em===c)return i.em=!1,m;if(!i.em)return i.em=c,s(i)}else if("~"===c){if(i.strike===c&&e.eat(c))return i.strike=!1,m;if(!i.strike&&e.eat(c))return i.strike=c,s(i)}else if(" "===c&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return s(i);e.backUp(1)}return" "===c&&(e.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),s(i)}function u(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?n(e,t,h(A,"("===r?")":"]")):"error"}function f(e,t){return e.match(/^[^\]]*\]:/,!0)?(t.f=m,I):n(e,t,d)}function m(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=d,A)}function p(e){return R[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),R[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),R[e]}function h(e,t,n){return n=n||d,function(r,i){return r.match(p(t)),i.inline=i.f=n,e}}var g=CodeMirror.modes.hasOwnProperty("xml"),v=CodeMirror.getMode(e,g?{name:"xml",htmlMode:!0}:"text/plain"),k={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},C=function(){var t,n,r={},i={},o=[];for(var a in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(a)&&o.push(a);for(t=0;t<o.length;t++)r[o[t]]=o[t];var l=[];for(var a in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(a)&&l.push({mime:a,mode:CodeMirror.mimeModes[a]});for(t=0;t<l.length;t++)n=l[t].mime,i[n]=l[t].mime;for(var s in k)(k[s]in r||k[s]in i)&&(r[s]=k[s]);return function(t){return r[t]?CodeMirror.getMode(e,r[t]):null}}();void 0===t.underscoresBreakWords&&(t.underscoresBreakWords=!0),void 0===t.fencedCodeBlocks&&(t.fencedCodeBlocks=!1),void 0===t.taskLists&&(t.taskLists=!1);var x=0,w="header",b="comment",M="atom",S="number",L="variable-2",y="variable-3",T="keyword",N="hr",$="tag",E="link",O="link",I="link",A="string",H="em",_="strong",P="strike",q=/^([*\-=_])(?:\s*\1){4,}\s*$/,z=/^[*\-+]\s+/,D=/^[0-9]+\.\s+/,W=/^\[(x| )\](?=\s)/,B=/^(?:\={1,}|-{1,})$/,j=/^[^!\[\]*_~\\<>` "'(]+/,R=[];return{startState:function(){return{f:o,prevLineHasContent:!1,thisLineHasContent:!1,block:o,htmlState:CodeMirror.startState(v),indentation:0,inline:d,text:c,linkText:!1,linkTitle:!1,em:!1,strong:!1,strike:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(e){return{f:e.f,prevLineHasContent:e.prevLineHasContent,thisLineHasContent:e.thisLineHasContent,block:e.block,htmlState:CodeMirror.copyState(v,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?CodeMirror.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,linkTitle:e.linkTitle,em:e.em,strong:e.strong,strike:e.strike,header:e.header,taskList:e.taskList,list:e.list,listDepth:e.listDepth,quote:e.quote,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside}},token:function(e,t){if(e.sol()){if(e.match(/^\s*$/,!0))return t.prevLineHasContent=!1,i(t);t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.header=!1,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,r=4*Math.floor((n-t.indentation)/4);r>4&&(r=4);var o=t.indentation+r;if(t.indentationDiff=o-t.indentation,t.indentation=o,n>0)return null}return t.f(e,t)},blankLine:i,getType:s}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown");var L=/Mac/.test(navigator.platform),y={"Cmd-B":a,"Cmd-I":l,"Cmd-K":u,"Cmd-E":s,"Shift-Cmd-L":d,"Cmd-L":c,"Cmd-D":h,"Shift-Cmd-A":o},T=[{name:"bold",action:a},{name:"italic",action:l},"|",{name:"quote",action:s},{name:"unordered-list",action:c},{name:"ordered-list",action:d},"|",{name:"link",action:u},{name:"image",action:f},"|",{name:"redo",action:p},{name:"undo",action:m},"|",{name:"preview",action:h},{name:"fullscreen",action:o}];C.toolbar=T,C.markdown=function(e){if(window.marked)return marked(e)},C.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var n=this.options,r=this,i={};for(var o in y)!function(e){i[t(e)]=function(t){y[e](r)}}(o);i.Enter="newlineAndIndentContinueMarkdownList",i.Tab="tabAndIndentContinueMarkdownList",i["Shift-Tab"]="shiftTabAndIndentContinueMarkdownList",$.extend(i,n.extraKeys),this.codemirror=CodeMirror.fromTextArea(e,{mode:"markdown",indentWithTabs:!0,lineNumbers:!1,autofocus:n.autofocus,lineWrapping:n.lineWrapping,extraKeys:i,inputStyle:"textarea"}),n.toolbar!==!1&&this.createToolbar(),n.status!==!1&&this.createStatusbar(),this._rendered=this.element}},C.prototype.createToolbar=function(e){if(e=e||this.options.toolbar,e&&0!==e.length){var t=document.createElement("div");t.className="editor-toolbar";var o=this;o.toolbar={};for(var a=0;a<e.length;a++)!function(e){var i;if(i=e.name?n(e.name,e):"|"===e?r():n(e),!e.action)for(var a=0,l=C.toolbar.length;a<l;a++)if(C.toolbar[a].name===e.name){e.action=C.toolbar[a].action;break}e.action&&("function"==typeof e.action&&"image"!==e.name?i.onclick=function(t){e.action(o)}:"string"==typeof e.action&&(i.href=e.action,i.target="_blank")),o.toolbar[e.name||e]=i,t.appendChild(i)}(e[a]);var l=this.codemirror;l.on("cursorActivity",function(){var e=i(l);for(var t in o.toolbar)!function(t){var n=o.toolbar[t];e[t]?n.className.indexOf("active")===-1&&(n.className+=" active"):n.className=n.className.replace(/\s*active\s*/g,"")}(t)});var s=l.getWrapperElement();return s.parentNode.insertBefore(t,s),t}},C.prototype.createStatusbar=function(e){if(e=e||this.options.status,e&&0!==e.length){var t=document.createElement("div");t.className="editor-statusbar";for(var n,r=this.codemirror,i=0;i<e.length;i++)!function(e){var i=document.createElement("span");i.className=e,"words"===e?(i.innerHTML="0",r.on("update",function(){i.innerHTML=k(r.getValue())})):"lines"===e?(i.innerHTML="0",r.on("update",function(){i.innerHTML=r.lineCount()})):"cursor"===e&&(i.innerHTML="0:0",r.on("cursorActivity",function(){n=r.getCursor(),i.innerHTML=n.line+":"+n.ch})),t.appendChild(i)}(e[i]);var o=this.codemirror.getWrapperElement();return o.parentNode.insertBefore(t,o.nextSibling),t}},C.prototype.value=function(e){return e?(this.codemirror.getDoc().setValue(e),this):this.codemirror.getValue()},C.toggleBold=a,C.toggleItalic=l,C.toggleBlockquote=s,C.toggleUnOrderedList=c,C.toggleOrderedList=d,C.drawLink=u,C.drawImage=f,C.undo=m,C.redo=p,C.togglePreview=h,C.toggleFullScreen=o,C.prototype.toggleBold=function(){a(this)},C.prototype.toggleItalic=function(){l(this)},C.prototype.toggleBlockquote=function(){s(this)},C.prototype.toggleUnOrderedList=function(){c(this)},C.prototype.toggleOrderedList=function(){d(this)},C.prototype.drawLink=function(){u(this)},C.prototype.drawImage=function(){f(this)},C.prototype.undo=function(){m(this)},C.prototype.redo=function(){p(this)},C.prototype.togglePreview=function(){h(this)},C.prototype.toggleFullScreen=function(){o(this)},e.Editor=C}(this);
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.toMarkdown=e()}}(function(){return function e(n,t,r){function o(a,c){if(!t[a]){if(!n[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[a]={exports:{}};n[a][0].call(f.exports,function(e){var t=n[a][1][e];return o(t?t:e)},f,f.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){"use strict";function r(e){return b.indexOf(e.nodeName.toLowerCase())!==-1}function o(e){return y.indexOf(e.nodeName.toLowerCase())!==-1}function i(e){var n=(new v).parseFromString(e,"text/html");return N(n.documentElement,r),n}function a(e){for(var n,t,r,o=[e],i=[];o.length>0;)for(n=o.shift(),i.push(n),t=n.childNodes,r=0;r<t.length;r++)1===t[r].nodeType&&o.push(t[r]);return i.shift(),i}function c(e){for(var n="",t=0;t<e.childNodes.length;t++)if(1===e.childNodes[t].nodeType)n+=e.childNodes[t]._replacement;else{if(3!==e.childNodes[t].nodeType)continue;n+=e.childNodes[t].data}return n}function l(e,n){return e.cloneNode(!1).outerHTML.replace("><",">"+n+"<")}function u(e,n){if("string"==typeof n)return n===e.nodeName.toLowerCase();if(Array.isArray(n))return n.indexOf(e.nodeName.toLowerCase())!==-1;if("function"==typeof n)return n.call(p,e);throw new TypeError("`filter` needs to be a string, array, or function")}function f(e,n){var t,o,i;return"left"===e?(t=n.previousSibling,o=/ $/):(t=n.nextSibling,o=/^ /),t&&(3===t.nodeType?i=o.test(t.nodeValue):1!==t.nodeType||r(t)||(i=o.test(t.textContent))),i}function d(e){var n="",t="";if(!r(e)){var o=/^[ \r\n\t]/.test(e.innerHTML),i=/[ \r\n\t]$/.test(e.innerHTML);o&&!f("left",e)&&(n=" "),i&&!f("right",e)&&(t=" ")}return{leading:n,trailing:t}}function s(e){var n,t=c(e);if(!o(e)&&!/A|TH|TD/.test(e.nodeName)&&/^\s*$/i.test(t))return void(e._replacement="");for(var r=0;r<m.length;r++){var i=m[r];if(u(e,i.filter)){if("function"!=typeof i.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var a=d(e);(a.leading||a.trailing)&&(t=t.trim()),n=a.leading+i.replacement.call(p,t,e)+a.trailing;break}}e._replacement=n}var p,m,h=e("./lib/md-converters"),g=e("./lib/gfm-converters"),v=e("./lib/html-parser"),N=e("collapse-whitespace"),b=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"],y=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];p=function(e,n){if(n=n||{},"string"!=typeof e)throw new TypeError(e+" is not a string");e=e.replace(/(\d+)\. /g,"$1\\. ");var t,r=i(e).body,o=a(r);m=h.slice(0),n.gfm&&(m=g.concat(m)),n.converters&&(m=n.converters.concat(m));for(var l=o.length-1;l>=0;l--)s(o[l]);return t=c(r),t.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")},p.isBlock=r,p.isVoid=o,p.outer=l,n.exports=p},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/md-converters":4,"collapse-whitespace":7}],2:[function(e,n,t){"use strict";function r(e,n){var t=Array.prototype.indexOf.call(n.parentNode.childNodes,n),r=" ";return 0===t&&(r="| "),r+e+" |"}var o=/highlight highlight-(\S+)/;n.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}},{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,n){return(n.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(e,n){return r(e,n)}},{filter:"tr",replacement:function(e,n){var t="",o={left:":--",right:"--:",center:":-:"};if("THEAD"===n.parentNode.nodeName)for(var i=0;i<n.childNodes.length;i++){var a=n.childNodes[i].attributes.align,c="---";a&&(c=o[a.value]||c),t+=r(c,n.childNodes[i])}return"\n"+e+(t?"\n"+t:"")}},{filter:"table",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(e){return e}},{filter:function(e){return"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,n){return"\n\n```\n"+n.firstChild.textContent+"\n```\n\n"}},{filter:function(e){return"PRE"===e.nodeName&&"DIV"===e.parentNode.nodeName&&o.test(e.parentNode.className)},replacement:function(e,n){var t=n.parentNode.className.match(o)[1];return"\n\n```"+t+"\n"+n.textContent+"\n```\n\n"}},{filter:function(e){return"DIV"===e.nodeName&&o.test(e.className)},replacement:function(e){return"\n\n"+e+"\n\n"}}]},{}],3:[function(e,n,t){function r(){var e=a.DOMParser,n=!1;try{(new e).parseFromString("","text/html")&&(n=!0)}catch(e){}return n}function o(){var n=function(){};if("undefined"==typeof document){var t=e("jsdom");n.prototype.parseFromString=function(e){return t.jsdom(e,{features:{FetchExternalResources:[],ProcessExternalResources:!1}})}}else i()?n.prototype.parseFromString=function(e){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(e),n.close(),n}:n.prototype.parseFromString=function(e){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(e),n.close(),n};return n}function i(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(n){window.ActiveXObject&&(e=!0)}return e}var a="undefined"!=typeof window?window:this;n.exports=r()?a.DOMParser:o()},{jsdom:6}],4:[function(e,n,t){"use strict";n.exports=[{filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,n){for(var t=n.nodeName.charAt(1),r="",o=0;o<t;o++)r+="#";return"\n\n"+r+" "+e+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(e){return"_"+e+"_"}},{filter:["strong","b"],replacement:function(e){return"**"+e+"**"}},{filter:function(e){var n=e.previousSibling||e.nextSibling,t="PRE"===e.parentNode.nodeName&&!n;return"CODE"===e.nodeName&&!t},replacement:function(e){return"`"+e+"`"}},{filter:function(e){return"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,n){var t=n.title?' "'+n.title+'"':"";return"["+e+"]("+n.getAttribute("href")+t+")"}},{filter:"img",replacement:function(e,n){var t=n.alt||"",r=n.getAttribute("src")||"",o=n.title||"",i=o?' "'+o+'"':"";return r?"!["+t+"]("+r+i+")":""}},{filter:function(e){return"PRE"===e.nodeName&&"CODE"===e.firstChild.nodeName},replacement:function(e,n){return"\n\n    "+n.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(e){return e=e.trim(),e=e.replace(/\n{3,}/g,"\n\n"),e=e.replace(/^/gm,"> "),"\n\n"+e+"\n\n"}},{filter:"li",replacement:function(e,n){e=e.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var t="*   ",r=n.parentNode,o=Array.prototype.indexOf.call(r.children,n)+1;return t=/ol/i.test(r.nodeName)?o+".  ":"*   ",t+e}},{filter:["ul","ol"],replacement:function(e,n){for(var t=[],r=0;r<n.childNodes.length;r++)t.push(n.childNodes[r]._replacement);return/li/i.test(n.parentNode.nodeName)?"\n"+t.join("\n"):"\n\n"+t.join("\n")+"\n\n"}},{filter:function(e){return this.isBlock(e)},replacement:function(e,n){return"\n\n"+this.outer(n,e)+"\n\n"}},{filter:function(){return!0},replacement:function(e,n){return this.outer(n,e)}}]},{}],5:[function(e,n,t){n.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(e,n,t){},{}],7:[function(e,n,t){"use strict";function r(e){return!(!e||!u[e.nodeName])}function o(e){return!(!e||!l[e.nodeName])}function i(e,n){if(e.firstChild&&"PRE"!==e.nodeName){"function"!=typeof n&&(n=r);for(var t=null,i=!1,l=null,u=c(l,e);u!==e;){if(3===u.nodeType){var f=u.data.replace(/[ \r\n\t]+/g," ");if(t&&!/ $/.test(t.data)||i||" "!==f[0]||(f=f.substr(1)),!f){u=a(u);continue}u.data=f,t=u}else{if(1!==u.nodeType){u=a(u);continue}n(u)||"BR"===u.nodeName?(t&&(t.data=t.data.replace(/ $/,"")),t=null,i=!1):o(u)&&(t=null,i=!0)}var d=c(l,u);l=u,u=d}t&&(t.data=t.data.replace(/ $/,""),t.data||a(t))}}function a(e){var n=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),n}function c(e,n){return e&&e.parentNode===n||"PRE"===n.nodeName?n.nextSibling||n.parentNode:n.firstChild||n.nextSibling||n.parentNode}var l=e("void-elements");Object.keys(l).forEach(function(e){l[e.toUpperCase()]=1});var u={};e("block-elements").forEach(function(e){u[e.toUpperCase()]=1}),n.exports=i},{"block-elements":5,"void-elements":8}],8:[function(e,n,t){n.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}]},{},[1])(1)});
!function(e){var t="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?e(exports):t&&(t.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return t.hljs}))}(function(e){function t(e){return e.replace(/[&<>]/gm,function(e){return S[e]})}function r(e){return e.nodeName.toLowerCase()}function n(e,t){var r=e&&e.exec(t);return r&&0===r.index}function a(e){return C.test(e)}function i(e){var t,r,n,i,s=e.className+" ";if(s+=e.parentNode?e.parentNode.className:"",r=E.exec(s))return y(r[1])?r[1]:"no-highlight";for(s=s.split(/\s+/),t=0,n=s.length;n>t;t++)if(i=s[t],a(i)||y(i))return i}function s(e,t){var r,n={};for(r in e)n[r]=e[r];if(t)for(r in t)n[r]=t[r];return n}function c(e){var t=[];return function e(n,a){for(var i=n.firstChild;i;i=i.nextSibling)3===i.nodeType?a+=i.nodeValue.length:1===i.nodeType&&(t.push({event:"start",offset:a,node:i}),a=e(i,a),r(i).match(/br|hr|img|input/)||t.push({event:"stop",offset:a,node:i}));return a}(e,0),t}function o(e,n,a){function i(){return e.length&&n.length?e[0].offset!==n[0].offset?e[0].offset<n[0].offset?e:n:"start"===n[0].event?e:n:e.length?e:n}function s(e){function n(e){return" "+e.nodeName+'="'+t(e.value)+'"'}u+="<"+r(e)+N.map.call(e.attributes,n).join("")+">"}function c(e){u+="</"+r(e)+">"}function o(e){("start"===e.event?s:c)(e.node)}for(var l=0,u="",d=[];e.length||n.length;){var b=i();if(u+=t(a.substr(l,b[0].offset-l)),l=b[0].offset,b===e){d.reverse().forEach(c);do o(b.splice(0,1)[0]),b=i();while(b===e&&b.length&&b[0].offset===l);d.reverse().forEach(s)}else"start"===b[0].event?d.push(b[0].node):d.pop(),o(b.splice(0,1)[0])}return u+t(a.substr(l))}function l(e){function t(e){return e&&e.source||e}function r(r,n){return new RegExp(t(r),"m"+(e.cI?"i":"")+(n?"g":""))}function n(a,i){if(!a.compiled){if(a.compiled=!0,a.k=a.k||a.bK,a.k){var c={},o=function(t,r){e.cI&&(r=r.toLowerCase()),r.split(" ").forEach(function(e){var r=e.split("|");c[r[0]]=[t,r[1]?Number(r[1]):1]})};"string"==typeof a.k?o("keyword",a.k):w(a.k).forEach(function(e){o(e,a.k[e])}),a.k=c}a.lR=r(a.l||/\w+/,!0),i&&(a.bK&&(a.b="\\b("+a.bK.split(" ").join("|")+")\\b"),a.b||(a.b=/\B|\b/),a.bR=r(a.b),a.e||a.eW||(a.e=/\B|\b/),a.e&&(a.eR=r(a.e)),a.tE=t(a.e)||"",a.eW&&i.tE&&(a.tE+=(a.e?"|":"")+i.tE)),a.i&&(a.iR=r(a.i)),null==a.r&&(a.r=1),a.c||(a.c=[]);var l=[];a.c.forEach(function(e){e.v?e.v.forEach(function(t){l.push(s(e,t))}):l.push("self"===e?a:e)}),a.c=l,a.c.forEach(function(e){n(e,a)}),a.starts&&n(a.starts,i);var u=a.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([a.tE,a.i]).map(t).filter(Boolean);a.t=u.length?r(u.join("|"),!0):{exec:function(){return null}}}}n(e)}function u(e,r,a,i){function s(e,t){var r,a;for(r=0,a=t.c.length;a>r;r++)if(n(t.c[r].bR,e))return t.c[r]}function c(e,t){if(n(e.eR,t)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.eW?c(e.parent,t):void 0}function o(e,t){return!a&&n(t.iR,e)}function b(e,t){var r=v.cI?t[0].toLowerCase():t[0];return e.k.hasOwnProperty(r)&&e.k[r]}function p(e,t,r,n){var a=n?"":B.classPrefix,i='<span class="'+a,s=r?"":A;return i+=e+'">',i+t+s}function m(){var e,r,n,a;if(!w.k)return t(E);for(a="",r=0,w.lR.lastIndex=0,n=w.lR.exec(E);n;)a+=t(E.substr(r,n.index-r)),e=b(w,n),e?(M+=e[1],a+=p(e[0],t(n[0]))):a+=t(n[0]),r=w.lR.lastIndex,n=w.lR.exec(E);return a+t(E.substr(r))}function f(){var e="string"==typeof w.sL;if(e&&!k[w.sL])return t(E);var r=e?u(w.sL,E,!0,x[w.sL]):d(E,w.sL.length?w.sL:void 0);return w.r>0&&(M+=r.r),e&&(x[w.sL]=r.top),p(r.language,r.value,!1,!0)}function g(){C+=null!=w.sL?f():m(),E=""}function _(e){C+=e.cN?p(e.cN,"",!0):"",w=Object.create(e,{parent:{value:w}})}function h(e,t){if(E+=e,null==t)return g(),0;var r=s(t,w);if(r)return r.skip?E+=t:(r.eB&&(E+=t),g(),r.rB||r.eB||(E=t)),_(r,t),r.rB?0:t.length;var n=c(w,t);if(n){var a=w;a.skip?E+=t:(a.rE||a.eE||(E+=t),g(),a.eE&&(E=t));do w.cN&&(C+=A),w.skip||(M+=w.r),w=w.parent;while(w!==n.parent);return n.starts&&_(n.starts,""),a.rE?0:t.length}if(o(t,w))throw new Error('Illegal lexeme "'+t+'" for mode "'+(w.cN||"<unnamed>")+'"');return E+=t,t.length||1}var v=y(e);if(!v)throw new Error('Unknown language: "'+e+'"');l(v);var N,w=i||v,x={},C="";for(N=w;N!==v;N=N.parent)N.cN&&(C=p(N.cN,"",!0)+C);var E="",M=0;try{for(var S,L,z=0;w.t.lastIndex=z,S=w.t.exec(r),S;)L=h(r.substr(z,S.index-z),S[0]),z=S.index+L;for(h(r.substr(z)),N=w;N.parent;N=N.parent)N.cN&&(C+=A);return{r:M,value:C,language:e,top:w}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{r:0,value:t(r)};throw e}}function d(e,r){r=r||B.languages||w(k);var n={r:0,value:t(e)},a=n;return r.filter(y).forEach(function(t){var r=u(t,e,!1);r.language=t,r.r>a.r&&(a=r),r.r>n.r&&(a=n,n=r)}),a.language&&(n.second_best=a),n}function b(e){return B.tabReplace||B.useBR?e.replace(M,function(e,t){return B.useBR&&"\n"===e?"<br>":B.tabReplace?t.replace(/\t/g,B.tabReplace):void 0}):e}function p(e,t,r){var n=t?x[t]:r,a=[e.trim()];return e.match(/\bhljs\b/)||a.push("hljs"),-1===e.indexOf(n)&&a.push(n),a.join(" ").trim()}function m(e){var t,r,n,s,l,m=i(e);a(m)||(B.useBR?(t=document.createElementNS("http://www.w3.org/1999/xhtml","div"),t.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):t=e,l=t.textContent,n=m?u(m,l,!0):d(l),r=c(t),r.length&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","div"),s.innerHTML=n.value,n.value=o(r,c(s),l)),n.value=b(n.value),e.innerHTML=n.value,e.className=p(e.className,m,n.language),e.result={language:n.language,re:n.r},n.second_best&&(e.second_best={language:n.second_best.language,re:n.second_best.r}))}function f(e){B=s(B,e)}function g(){if(!g.called){g.called=!0;var e=document.querySelectorAll("pre code");N.forEach.call(e,m)}}function _(){addEventListener("DOMContentLoaded",g,!1),addEventListener("load",g,!1)}function h(t,r){var n=k[t]=r(e);n.aliases&&n.aliases.forEach(function(e){x[e]=t})}function v(){return w(k)}function y(e){return e=(e||"").toLowerCase(),k[e]||k[x[e]]}var N=[],w=Object.keys,k={},x={},C=/^(no-?highlight|plain|text)$/i,E=/\blang(?:uage)?-([\w-]+)\b/i,M=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,A="</span>",B={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},S={"&":"&amp;","<":"&lt;",">":"&gt;"};return e.highlight=u,e.highlightAuto=d,e.fixMarkup=b,e.highlightBlock=m,e.configure=f,e.initHighlighting=g,e.initHighlightingOnLoad=_,e.registerLanguage=h,e.listLanguages=v,e.getLanguage=y,e.inherit=s,e.IR="[a-zA-Z]\\w*",e.UIR="[a-zA-Z_]\\w*",e.NR="\\b\\d+(\\.\\d+)?",e.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BNR="\\b(0b[01]+)",e.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BE={b:"\\\\[\\s\\S]",r:0},e.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[e.BE]},e.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[e.BE]},e.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|like)\b/},e.C=function(t,r,n){var a=e.inherit({cN:"comment",b:t,e:r,c:[]},n||{});return a.c.push(e.PWM),a.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),a},e.CLCM=e.C("//","$"),e.CBCM=e.C("/\\*","\\*/"),e.HCM=e.C("#","$"),e.NM={cN:"number",b:e.NR,r:0},e.CNM={cN:"number",b:e.CNR,r:0},e.BNM={cN:"number",b:e.BNR,r:0},e.CSSNM={cN:"number",b:e.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},e.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[e.BE,{b:/\[/,e:/\]/,r:0,c:[e.BE]}]},e.TM={cN:"title",b:e.IR,r:0},e.UTM={cN:"title",b:e.UIR,r:0},e.METHOD_GUARD={b:"\\.\\s*"+e.UIR,r:0},e}),hljs.registerLanguage("javascript",function(e){return{aliases:["js","jsx"],k:{keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,{cN:"string",b:"`",e:"`",c:[e.BE,{cN:"subst",b:"\\$\\{",e:"\\}"}]},e.CLCM,e.CBCM,{cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:e.CNR}],r:0},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:["self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:[e.CLCM,e.CBCM]}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}}),hljs.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},r={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]},n={cN:"string",b:/'/,e:/'/};return{aliases:["sh","zsh"],l:/-?[a-z\._]+/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],r:0},e.HCM,r,n,t]}}),hljs.registerLanguage("dockerfile",function(e){return{aliases:["docker"],cI:!0,k:"from maintainer cmd expose add copy entrypoint volume user workdir onbuild run env label",c:[e.HCM,{k:"run cmd entrypoint volume add copy workdir onbuild label",b:/^ *(onbuild +)?(run|cmd|entrypoint|volume|add|copy|workdir|label) +/,starts:{e:/[^\\]\n/,sL:"bash"}},{k:"from maintainer expose env user onbuild",b:/^ *(onbuild +)?(from|maintainer|expose|env|user|onbuild) +/,e:/[^\\]\n/,c:[e.ASM,e.QSM,e.NM,e.HCM]}]}}),hljs.registerLanguage("coffeescript",function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},r="[A-Za-z$_][0-9A-Za-z$_]*",n={cN:"subst",b:/#\{/,e:/}/,k:t},a=[e.BNM,e.inherit(e.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[e.BE]},{b:/'/,e:/'/,c:[e.BE]},{b:/"""/,e:/"""/,c:[e.BE,n]},{b:/"/,e:/"/,c:[e.BE,n]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[n,e.HCM]},{b:"//[gim]*",r:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{b:"@"+r},{b:"`",e:"`",eB:!0,eE:!0,sL:"javascript"}];n.c=a;var i=e.inherit(e.TM,{b:r}),s="(\\(.*\\))?\\s*\\B[-=]>",c={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:t,c:["self"].concat(a)}]};return{aliases:["coffee","cson","iced"],k:t,i:/\/\*/,c:a.concat([e.C("###","###"),e.HCM,{cN:"function",b:"^\\s*"+r+"\\s*=\\s*"+s,e:"[-=]>",rB:!0,c:[i,c]},{b:/[:\(,=]\s*/,r:0,c:[{cN:"function",b:s,e:"[-=]>",rB:!0,c:[c]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[i]},i]},{b:r+":",e:":",rB:!0,rE:!0,r:0}])}}),hljs.registerLanguage("swift",function(e){var t={keyword:"__COLUMN__ __FILE__ __FUNCTION__ __LINE__ as as! as? associativity break case catch class continue convenience default defer deinit didSet do dynamic dynamicType else enum extension fallthrough false final for func get guard if import in indirect infix init inout internal is lazy left let mutating nil none nonmutating operator optional override postfix precedence prefix private protocol Protocol public repeat required rethrows return right self Self set static struct subscript super switch throw throws true try try! try? Type typealias unowned var weak where while willSet",literal:"true false nil",built_in:"abs advance alignof alignofValue anyGenerator assert assertionFailure bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal fatalError filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced isUniquelyReferencedNonObjC join lazy lexicographicalCompare map max maxElement min minElement numericCast overlaps partition posix precondition preconditionFailure print println quickSort readLine reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith stride strideof strideofValue swap toString transcode underestimateCount unsafeAddressOf unsafeBitCast unsafeDowncast unsafeUnwrap unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafeMutablePointer withUnsafeMutablePointers withUnsafePointer withUnsafePointers withVaList zip"},r={cN:"type",b:"\\b[A-Z][\\w']*",r:0},n=e.C("/\\*","\\*/",{c:["self"]}),a={cN:"subst",b:/\\\(/,e:"\\)",k:t,c:[]},i={cN:"number",b:"\\b([\\d_]+(\\.[\\deE_]+)?|0x[a-fA-F0-9_]+(\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b",r:0},s=e.inherit(e.QSM,{c:[a,e.BE]});return a.c=[i],{k:t,c:[s,e.CLCM,n,r,i,{cN:"function",bK:"func",e:"{",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{b:/</,e:/>/},{cN:"params",b:/\(/,e:/\)/,endsParent:!0,k:t,c:["self",i,s,e.CBCM,{b:":"}],i:/["']/}],i:/\[|%/},{cN:"class",bK:"struct protocol class extension enum",k:t,e:"\\{",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/})]},{cN:"meta",b:"(@warn_unused_result|@exported|@lazy|@noescape|@NSCopying|@NSManaged|@objc|@convention|@required|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix|@autoclosure|@testable|@available|@nonobjc|@NSApplicationMain|@UIApplicationMain)"},{bK:"import",e:/$/,c:[e.CLCM,n]}]}}),hljs.registerLanguage("perl",function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",r={cN:"subst",b:"[$@]\\{",e:"\\}",k:t},n={b:"->{",e:"}"},a={v:[{b:/\$\d/},{b:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{b:/[\$%@][^\s\w{]/,r:0}]},i=[e.BE,r,a],s=[a,e.HCM,e.C("^\\=\\w","\\=cut",{eW:!0}),n,{cN:"string",c:i,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[e.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[e.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+e.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[e.HCM,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[e.BE],r:0}]},{cN:"function",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",eE:!0,r:5,c:[e.TM]},{b:"-\\w\\b",r:0},{b:"^__DATA__$",e:"^__END__$",sL:"mojolicious",c:[{b:"^@@.*",e:"$",cN:"comment"}]}];return r.c=s,n.c=s,{aliases:["pl","pm"],l:/[\w\.]+/,k:t,c:s}}),hljs.registerLanguage("xml",function(e){var t="[A-Za-z0-9\\._:-]+",r={eW:!0,i:/</,r:0,c:[{cN:"attr",b:t,r:0},{b:/=\s*/,r:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},e.C("<!--","-->",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0}]},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{name:"style"},c:[r],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[r],starts:{e:"</script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"meta",v:[{b:/<\?xml/,e:/\?>/,r:10},{b:/<\?\w+/,e:/\?>/}]},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},r]}]}}),hljs.registerLanguage("markdown",function(e){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```w*s*$",e:"^```s*$"},{b:"`.+?`"},{b:"^( {4}|\t)",e:"$",r:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}}),hljs.registerLanguage("json",function(e){var t={literal:"true false null"},r=[e.QSM,e.CNM],n={e:",",eW:!0,eE:!0,c:r,k:t},a={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[e.BE],i:"\\n"},e.inherit(n,{b:/:/})],i:"\\S"},i={b:"\\[",e:"\\]",c:[e.inherit(n)],i:"\\S"};return r.splice(r.length,0,a,i),{c:r,k:t,i:"\\S"}}),hljs.registerLanguage("cs",function(e){var t={keyword:"abstract as base bool break byte case catch char checked const continue decimal dynamic default delegate do double else enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long when object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async nameof ascending descending from get group into join let orderby partial select set value var where yield",literal:"null false true"},r={cN:"string",b:'@"',e:'"',c:[{b:'""'}]},n=e.inherit(r,{i:/\n/}),a={cN:"subst",b:"{",e:"}",k:t},i=e.inherit(a,{i:/\n/}),s={cN:"string",b:/\$"/,e:'"',i:/\n/,c:[{b:"{{"},{b:"}}"},e.BE,i]},c={cN:"string",b:/\$@"/,e:'"',c:[{b:"{{"},{b:"}}"},{b:'""'},a]},o=e.inherit(c,{i:/\n/,c:[{b:"{{"},{b:"}}"},{b:'""'},i]});a.c=[c,s,r,e.ASM,e.QSM,e.CNM,e.CBCM],i.c=[o,s,n,e.ASM,e.QSM,e.CNM,e.inherit(e.CBCM,{i:/\n/})];var l={v:[c,s,r,e.ASM,e.QSM]},u=e.IR+"(<"+e.IR+">)?(\\[\\])?";return{aliases:["csharp"],k:t,i:/::/,c:[e.C("///","$",{rB:!0,c:[{cN:"doctag",v:[{b:"///",r:0},{b:"<!--|-->"},{b:"</?",e:">"}]}]}),e.CLCM,e.CBCM,{cN:"meta",b:"#",e:"$",k:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},l,e.CNM,{bK:"class interface",e:/[{;=]/,i:/[^\s:]/,c:[e.TM,e.CLCM,e.CBCM]},{bK:"namespace",e:/[{;=]/,i:/[^\s:]/,c:[e.inherit(e.TM,{b:"[a-zA-Z](\\.?\\w)*"}),e.CLCM,e.CBCM]},{bK:"new return throw await",r:0},{cN:"function",b:"("+u+"\\s+)+"+e.IR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:t,c:[{b:e.IR+"\\s*\\(",rB:!0,c:[e.TM],r:0},{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:t,r:0,c:[l,e.CNM,e.CBCM]},e.CLCM,e.CBCM]}]}}),hljs.registerLanguage("accesslog",function(e){return{c:[{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+\\b",r:0},{cN:"string",b:'"(GET|POST|HEAD|PUT|DELETE|CONNECT|OPTIONS|PATCH|TRACE)',e:'"',k:"GET POST HEAD PUT DELETE CONNECT OPTIONS PATCH TRACE",i:"\\n",r:10},{cN:"string",b:/\[/,e:/\]/,i:"\\n"},{cN:"string",b:'"',e:'"',i:"\\n"}]}}),hljs.registerLanguage("dos",function(e){var t=e.C(/^\s*@?rem\b/,/$/,{r:10}),r={cN:"symbol",b:"^\\s*[A-Za-z._?][A-Za-z0-9_$#@~.?]*(:|\\s+label)",r:0};return{aliases:["bat","cmd"],cI:!0,i:/\/\*/,k:{keyword:"if else goto for in do call exit not exist errorlevel defined equ neq lss leq gtr geq",built_in:"prn nul lpt3 lpt2 lpt1 con com4 com3 com2 com1 aux shift cd dir echo setlocal endlocal set pause copy append assoc at attrib break cacls cd chcp chdir chkdsk chkntfs cls cmd color comp compact convert date dir diskcomp diskcopy doskey erase fs find findstr format ftype graftabl help keyb label md mkdir mode more move path pause print popd pushd promt rd recover rem rename replace restore rmdir shiftsort start subst time title tree type ver verify vol ping net ipconfig taskkill xcopy ren del"},c:[{cN:"variable",b:/%%[^ ]|%[^ ]+?%|![^ ]+?!/},{cN:"function",b:r.b,e:"goto:eof",c:[e.inherit(e.TM,{b:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),t]},{cN:"number",b:"\\b\\d+",r:0},t]}}),hljs.registerLanguage("go",function(e){var t={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],k:t,i:"</",c:[e.CLCM,e.CBCM,{cN:"string",v:[e.QSM,{b:"'",e:"[^\\\\]'"},{b:"`",e:"`"}]},{cN:"number",v:[{b:e.CNR+"[dflsi]",r:1},e.CNM]},{b:/:=/},{cN:"function",bK:"func",e:/\s*\{/,eE:!0,c:[e.TM,{cN:"params",b:/\(/,e:/\)/,k:t,i:/["']/}]}]}}),hljs.registerLanguage("objectivec",function(e){var t={cN:"built_in",b:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,a="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],k:r,l:n,i:"</",c:[t,e.CLCM,e.CBCM,e.CNM,e.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[e.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"meta",b:"#",e:"$",c:[{cN:"meta-string",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+a.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:a,l:n,c:[e.UTM]},{b:"\\."+e.UIR,r:0}]}}),hljs.registerLanguage("apache",function(e){var t={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[e.HCM,{cN:"section",b:"</?",e:">"},{cN:"attribute",b:/\w+/,r:0,k:{nomarkup:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"meta",b:"\\s\\[",e:"\\]$"},{cN:"variable",b:"[\\$%]\\{",e:"\\}",c:["self",t]},t,e.QSM]}}],i:/\S/}}),hljs.registerLanguage("diff",function(e){return{aliases:["patch"],c:[{cN:"meta",r:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"comment",v:[{b:/Index: /,e:/$/},{b:/={3,}/,e:/$/},{b:/^\-{3}/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+{3}/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"addition",b:"^\\!",e:"$"}]}}),hljs.registerLanguage("css",function(e){var t="[a-zA-Z-][a-zA-Z0-9_-]*",r={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:t,r:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,r]}]}}),hljs.registerLanguage("ruby",function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",r={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},n={cN:"doctag",b:"@[A-Za-z]+"},a={b:"#<",e:">"},i=[e.C("#","$",{c:[n]}),e.C("^\\=begin","^\\=end",{c:[n],r:10}),e.C("^__END__","\\n$")],s={cN:"subst",b:"#\\{",e:"}",k:r},c={cN:"string",c:[e.BE,s],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},o={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:r},l=[c,a,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{b:"<\\s*",c:[{b:"("+e.IR+"::)?"+e.IR}]}].concat(i)},{cN:"function",bK:"def",e:"$|;",c:[e.inherit(e.TM,{b:t}),o].concat(i)},{b:e.IR+"::"},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":(?!\\s)",c:[c,{b:t}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{cN:"params",b:/\|/,e:/\|/,k:r},{b:"("+e.RSR+")\\s*",c:[a,{cN:"regexp",c:[e.BE,s],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(i),r:0}].concat(i);s.c=l,o.c=l;var u="[>?]>",d="[\\w#]+\\(\\w+\\):\\d+:\\d+>",b="(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>",p=[{b:/^\s*=>/,starts:{e:"$",c:l}},{cN:"meta",b:"^("+u+"|"+d+"|"+b+")",starts:{e:"$",c:l}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:r,i:/\/\*/,c:i.concat(p).concat(l)}}),hljs.registerLanguage("java",function(e){var t=e.UIR+"(<"+e.UIR+"(\\s*,\\s*"+e.UIR+")*>)?",r="false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports",n="\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",a={cN:"number",b:n,r:0};return{aliases:["jsp"],k:r,i:/<\/|#/,c:[e.C("/\\*\\*","\\*/",{r:0,c:[{b:/\w+@/,r:0},{cN:"doctag",b:"@[A-Za-z]+"}]}),e.CLCM,e.CBCM,e.ASM,e.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},e.UTM]},{bK:"new throw return else",r:0},{cN:"function",b:"("+t+"\\s+)+"+e.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:r,c:[{b:e.UIR+"\\s*\\(",rB:!0,r:0,c:[e.UTM]},{cN:"params",b:/\(/,e:/\)/,k:r,r:0,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]},a,{cN:"meta",b:"@[A-Za-z]+"}]}}),hljs.registerLanguage("r",function(e){var t="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{c:[e.HCM,{b:t,l:t,k:{keyword:"function if in break next repeat else for return switch while try tryCatch stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},r:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",r:0},{cN:"number",b:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",r:0},{cN:"number",b:"\\d+\\.(?!\\d)(?:i\\b)?",r:0},{cN:"number",b:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{b:"`",e:"`",r:0},{cN:"string",c:[e.BE],v:[{b:'"',e:'"'},{b:"'",e:"'"}]}]}}),hljs.registerLanguage("cpp",function(e){var t={cN:"keyword",b:"\\b[a-z\\d_]*_t\\b"},r={cN:"string",v:[{b:'(u8?|U)?L?"',e:'"',i:"\\n",c:[e.BE]},{b:'(u8?|U)?R"',e:'"',c:[e.BE]},{b:"'\\\\?.",e:"'",i:"."}]},n={cN:"number",v:[{b:"\\b(0b[01'_]+)"},{b:"\\b([\\d'_]+(\\.[\\d'_]*)?|\\.[\\d'_]+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9'_]+|(\\b[\\d'_]+(\\.[\\d'_]*)?|\\.[\\d'_]+)([eE][-+]?[\\d'_]+)?)"}],r:0},a={cN:"meta",b:/#\s*[a-z]+\b/,e:/$/,k:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},c:[{b:/\\\n/,r:0},e.inherit(r,{cN:"meta-string"}),{cN:"meta-string",b:"<",e:">",i:"\\n"},e.CLCM,e.CBCM]},i=e.IR+"\\s*\\(",s={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return",
built_in:"std string cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"},c=[t,e.CLCM,e.CBCM,n,r];return{aliases:["c","cc","h","c++","h++","hpp"],k:s,i:"</",c:c.concat([a,{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:s,c:["self",t]},{b:e.IR+"::",k:s},{v:[{b:/=/,e:/;/},{b:/\(/,e:/\)/},{bK:"new throw return else",e:/;/}],k:s,c:c.concat([{b:/\(/,e:/\)/,k:s,c:c.concat(["self"]),r:0}]),r:0},{cN:"function",b:"("+e.IR+"[\\*&\\s]+)+"+i,rB:!0,e:/[{;=]/,eE:!0,k:s,i:/[^\w\s\*&]/,c:[{b:i,rB:!0,c:[e.TM],r:0},{cN:"params",b:/\(/,e:/\)/,k:s,r:0,c:[e.CLCM,e.CBCM,r,n,t]},e.CLCM,e.CBCM,a]}]),exports:{preprocessor:a,strings:r,k:s}}}),hljs.registerLanguage("lua",function(e){var t="\\[=*\\[",r="\\]=*\\]",n={b:t,e:r,c:["self"]},a=[e.C("--(?!"+t+")","$"),e.C("--"+t,r,{c:[n],r:10})];return{l:e.UIR,k:{keyword:"and break do else elseif end false for if in local nil not or repeat return then true until while",built_in:"_G _VERSION assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall coroutine debug io math os package string table"},c:a.concat([{cN:"function",bK:"function",e:"\\)",c:[e.inherit(e.TM,{b:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{cN:"params",b:"\\(",eW:!0,c:a}].concat(a)},e.CNM,e.ASM,e.QSM,{cN:"string",b:t,e:r,c:[n],r:5}])}}),hljs.registerLanguage("php",function(e){var t={b:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},r={cN:"meta",b:/<\?(php)?|\?>/},n={cN:"string",c:[e.BE,r],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},e.inherit(e.ASM,{i:null}),e.inherit(e.QSM,{i:null})]},a={v:[e.BNM,e.CNM]};return{aliases:["php3","php4","php5","php6"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[e.HCM,e.C("//","$",{c:[r]}),e.C("/\\*","\\*/",{c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),e.C("__halt_compiler.+?;",!1,{eW:!0,k:"__halt_compiler",l:e.UIR}),{cN:"string",b:/<<<['"]?\w+['"]?$/,e:/^\w+;?$/,c:[e.BE,{cN:"subst",v:[{b:/\$\w+/},{b:/\{\$/,e:/\}/}]}]},r,{cN:"keyword",b:/\$this\b/},t,{b:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[e.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",t,e.CBCM,n,a]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},e.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[e.UTM]},{bK:"use",e:";",c:[e.UTM]},{b:"=>"},n,a]}}),hljs.registerLanguage("makefile",function(e){var t={cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]};return{aliases:["mk","mak"],c:[e.HCM,{b:/^\w+\s*\W*=/,rB:!0,r:0,starts:{e:/\s*\W*=/,eE:!0,starts:{e:/$/,r:0,c:[t]}}},{cN:"section",b:/^[\w]+:\s*$/},{cN:"meta",b:/^\.PHONY:/,e:/$/,k:{"meta-keyword":".PHONY"},l:/[\.\w]+/},{b:/^\t+/,e:/$/,r:0,c:[e.QSM,t]}]}}),hljs.registerLanguage("python",function(e){var t={cN:"meta",b:/^(>>>|\.\.\.) /},r={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[t],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[t],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},e.ASM,e.QSM]},n={cN:"number",r:0,v:[{b:e.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:e.CNR+"[lLjJ]?"}]},a={cN:"params",b:/\(/,e:/\)/,c:["self",t,n,r]};return{aliases:["py","gyp"],k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},i:/(<\/|->|\?)/,c:[t,n,r,e.HCM,{v:[{cN:"function",bK:"def",r:10},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[e.UTM,a,{b:/->/,eW:!0,k:"None"}]},{cN:"meta",b:/^[\t ]*@/,e:/$/},{b:/\b(print|exec)\(/}]}}),hljs.registerLanguage("sql",function(e){var t=e.C("--","$");return{cI:!0,i:/[<>{}*#]/,c:[{bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment",e:/;/,eW:!0,l:/[\w\.]+/,k:{keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"},c:[{cN:"string",b:"'",e:"'",c:[e.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[e.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[e.BE]},e.CNM,e.CBCM,t]},e.CBCM,t]}}),hljs.registerLanguage("ini",function(e){var t={cN:"string",c:[e.BE],v:[{b:"'''",e:"'''",r:10},{b:'"""',e:'"""',r:10},{b:'"',e:'"'},{b:"'",e:"'"}]};return{aliases:["toml"],cI:!0,i:/\S/,c:[e.C(";","$"),e.HCM,{cN:"section",b:/^\s*\[+/,e:/\]+/},{b:/^[a-z0-9\[\]_-]+\s*=\s*/,e:"$",rB:!0,c:[{cN:"attr",b:/[a-z0-9\[\]_-]+/},{b:/=/,eW:!0,r:0,c:[{cN:"literal",b:/\bon|off|true|false|yes|no\b/},{cN:"variable",v:[{b:/\$[\w\d"][\w\d_]*/},{b:/\$\{(.*?)}/}]},t,{cN:"number",b:/([\+\-]+)?[\d]+_[\d_]+/},e.NM]}]}]}}),hljs.registerLanguage("http",function(e){var t="HTTP/[0-9\\.]+";return{aliases:["https"],i:"\\S",c:[{b:"^"+t,e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{b:"^[A-Z]+ (.*?) "+t+"$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0},{b:t},{cN:"keyword",b:"[A-Z]+"}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{e:"$",r:0}},{b:"\\n\\n",starts:{sL:[],eW:!0}}]}}),hljs.registerLanguage("nginx",function(e){var t={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+e.UIR}]},r={eW:!0,l:"[a-z/_]+",k:{literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[e.HCM,{cN:"string",c:[e.BE,t],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[t]},{cN:"regexp",c:[e.BE,t],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},t]};return{aliases:["nginxconf"],c:[e.HCM,{b:e.UIR+"\\s+{",rB:!0,e:"{",c:[{cN:"section",b:e.UIR}],r:0},{b:e.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"attribute",b:e.UIR,starts:r}],r:0}],i:"[^\\s\\}]"}}),hljs.registerLanguage("rust",function(e){var t="([uif](8|16|32|64|size))?",r=e.inherit(e.CBCM);r.c.push("self");var n="alignof as be box break const continue crate do else enum extern false fn for if impl in let loop match mod mut offsetof once priv proc pub pure ref return self Self sizeof static struct super trait true type typeof unsafe unsized use virtual while where yield move default int i8 i16 i32 i64 isize uint u8 u32 u64 usize float f32 f64 str char bool",a="Copy Send Sized Sync Drop Fn FnMut FnOnce drop Box ToOwned Clone PartialEq PartialOrd Eq Ord AsRef AsMut Into From Default Iterator Extend IntoIterator DoubleEndedIterator ExactSizeIterator Option Result SliceConcatExt String ToString Vec assert! assert_eq! bitflags! bytes! cfg! col! concat! concat_idents! debug_assert! debug_assert_eq! env! panic! file! format! format_args! include_bin! include_str! line! local_data_key! module_path! option_env! print! println! select! stringify! try! unimplemented! unreachable! vec! write! writeln! macro_rules!";return{aliases:["rs"],k:{keyword:n,literal:"true false Some None Ok Err",built_in:a},l:e.IR+"!?",i:"</",c:[e.CLCM,r,e.inherit(e.QSM,{b:/b?"/,i:null}),{cN:"string",v:[{b:/r(#*)".*?"\1(?!#)/},{b:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{cN:"symbol",b:/'[a-zA-Z_][a-zA-Z0-9_]*/},{cN:"number",v:[{b:"\\b0b([01_]+)"+t},{b:"\\b0o([0-7_]+)"+t},{b:"\\b0x([A-Fa-f0-9_]+)"+t},{b:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+t}],r:0},{cN:"function",bK:"fn",e:"(\\(|<)",eE:!0,c:[e.UTM]},{cN:"meta",b:"#\\!?\\[",e:"\\]",c:[{cN:"meta-string",b:/"/,e:/"/}]},{cN:"class",bK:"type",e:";",c:[e.inherit(e.UTM,{endsParent:!0})],i:"\\S"},{cN:"class",bK:"trait enum struct",e:"{",c:[e.inherit(e.UTM,{endsParent:!0})],i:"[\\w\\d]"},{b:e.IR+"::",k:{built_in:a}},{b:"->"}]}});